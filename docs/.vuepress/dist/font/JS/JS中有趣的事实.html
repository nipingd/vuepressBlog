<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NaN 是一个 number 类型 | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.64a98e43.css" as="style"><link rel="preload" href="/assets/js/app.aa96b86d.js" as="script"><link rel="preload" href="/assets/js/2.f0fb8f40.js" as="script"><link rel="preload" href="/assets/js/49.08777439.js" as="script"><link rel="prefetch" href="/assets/js/10.dffff2f6.js"><link rel="prefetch" href="/assets/js/100.b43050ac.js"><link rel="prefetch" href="/assets/js/101.6c822cc0.js"><link rel="prefetch" href="/assets/js/102.9e33d09b.js"><link rel="prefetch" href="/assets/js/103.c0e6c592.js"><link rel="prefetch" href="/assets/js/104.ba0ccd22.js"><link rel="prefetch" href="/assets/js/105.dd0cf481.js"><link rel="prefetch" href="/assets/js/106.81b8a3f0.js"><link rel="prefetch" href="/assets/js/11.5c3cdf4b.js"><link rel="prefetch" href="/assets/js/12.ad3e9f46.js"><link rel="prefetch" href="/assets/js/13.2d5eb4ef.js"><link rel="prefetch" href="/assets/js/14.4456ff3c.js"><link rel="prefetch" href="/assets/js/15.27712318.js"><link rel="prefetch" href="/assets/js/16.71bb46a3.js"><link rel="prefetch" href="/assets/js/17.4cf63224.js"><link rel="prefetch" href="/assets/js/18.579f3276.js"><link rel="prefetch" href="/assets/js/19.d244a984.js"><link rel="prefetch" href="/assets/js/20.8cf93458.js"><link rel="prefetch" href="/assets/js/21.666b8719.js"><link rel="prefetch" href="/assets/js/22.bd9fe414.js"><link rel="prefetch" href="/assets/js/23.5e29581c.js"><link rel="prefetch" href="/assets/js/24.74bd7a29.js"><link rel="prefetch" href="/assets/js/25.7dcdfdb5.js"><link rel="prefetch" href="/assets/js/26.48dd8e1f.js"><link rel="prefetch" href="/assets/js/27.58e8caeb.js"><link rel="prefetch" href="/assets/js/28.279a8baf.js"><link rel="prefetch" href="/assets/js/29.c7047346.js"><link rel="prefetch" href="/assets/js/3.a083dada.js"><link rel="prefetch" href="/assets/js/30.6b3bb63c.js"><link rel="prefetch" href="/assets/js/31.12a3d9a7.js"><link rel="prefetch" href="/assets/js/32.8c489067.js"><link rel="prefetch" href="/assets/js/33.587ef68e.js"><link rel="prefetch" href="/assets/js/34.95a3851e.js"><link rel="prefetch" href="/assets/js/35.4ca13727.js"><link rel="prefetch" href="/assets/js/36.a6adf063.js"><link rel="prefetch" href="/assets/js/37.5f020ebf.js"><link rel="prefetch" href="/assets/js/38.1fb1588f.js"><link rel="prefetch" href="/assets/js/39.1c61dad0.js"><link rel="prefetch" href="/assets/js/4.aa3d7f2f.js"><link rel="prefetch" href="/assets/js/40.dd3fa00b.js"><link rel="prefetch" href="/assets/js/41.1021d022.js"><link rel="prefetch" href="/assets/js/42.5765884d.js"><link rel="prefetch" href="/assets/js/43.1a796f5f.js"><link rel="prefetch" href="/assets/js/44.489da315.js"><link rel="prefetch" href="/assets/js/45.1de5b0fd.js"><link rel="prefetch" href="/assets/js/46.6d47e1c9.js"><link rel="prefetch" href="/assets/js/47.5dbe4fd3.js"><link rel="prefetch" href="/assets/js/48.25906399.js"><link rel="prefetch" href="/assets/js/5.9c830623.js"><link rel="prefetch" href="/assets/js/50.a4acdc7e.js"><link rel="prefetch" href="/assets/js/51.a96d0862.js"><link rel="prefetch" href="/assets/js/52.4e951092.js"><link rel="prefetch" href="/assets/js/53.1147d6f0.js"><link rel="prefetch" href="/assets/js/54.f59ee0c7.js"><link rel="prefetch" href="/assets/js/55.e57a0ed2.js"><link rel="prefetch" href="/assets/js/56.a64d5cf5.js"><link rel="prefetch" href="/assets/js/57.8fc8c64f.js"><link rel="prefetch" href="/assets/js/58.320f7fe6.js"><link rel="prefetch" href="/assets/js/59.cc5356c5.js"><link rel="prefetch" href="/assets/js/6.7b32150e.js"><link rel="prefetch" href="/assets/js/60.5dbd5f91.js"><link rel="prefetch" href="/assets/js/61.18e6f000.js"><link rel="prefetch" href="/assets/js/62.29a8cf31.js"><link rel="prefetch" href="/assets/js/63.e6888616.js"><link rel="prefetch" href="/assets/js/64.05500576.js"><link rel="prefetch" href="/assets/js/65.4c36b66a.js"><link rel="prefetch" href="/assets/js/66.a1311d0d.js"><link rel="prefetch" href="/assets/js/67.6b6280da.js"><link rel="prefetch" href="/assets/js/68.3c4c71da.js"><link rel="prefetch" href="/assets/js/69.dbc7b496.js"><link rel="prefetch" href="/assets/js/7.093a24a4.js"><link rel="prefetch" href="/assets/js/70.0835a421.js"><link rel="prefetch" href="/assets/js/71.6c79e11c.js"><link rel="prefetch" href="/assets/js/72.3a5311c9.js"><link rel="prefetch" href="/assets/js/73.e85154ac.js"><link rel="prefetch" href="/assets/js/74.41f006a6.js"><link rel="prefetch" href="/assets/js/75.c4b4fd48.js"><link rel="prefetch" href="/assets/js/76.0fb1feb7.js"><link rel="prefetch" href="/assets/js/77.b556c72e.js"><link rel="prefetch" href="/assets/js/78.5d6e51a5.js"><link rel="prefetch" href="/assets/js/79.a3de7e27.js"><link rel="prefetch" href="/assets/js/8.d4481d82.js"><link rel="prefetch" href="/assets/js/80.44eec3f4.js"><link rel="prefetch" href="/assets/js/81.6379d238.js"><link rel="prefetch" href="/assets/js/82.7cd41391.js"><link rel="prefetch" href="/assets/js/83.2865ae97.js"><link rel="prefetch" href="/assets/js/84.c814c403.js"><link rel="prefetch" href="/assets/js/85.2a493afc.js"><link rel="prefetch" href="/assets/js/86.2d048f31.js"><link rel="prefetch" href="/assets/js/87.961a479e.js"><link rel="prefetch" href="/assets/js/88.065e813a.js"><link rel="prefetch" href="/assets/js/89.c61debcb.js"><link rel="prefetch" href="/assets/js/9.59a47de0.js"><link rel="prefetch" href="/assets/js/90.66568d99.js"><link rel="prefetch" href="/assets/js/91.9b48de11.js"><link rel="prefetch" href="/assets/js/92.dd30e043.js"><link rel="prefetch" href="/assets/js/93.9a8d4c7b.js"><link rel="prefetch" href="/assets/js/94.fd429d9a.js"><link rel="prefetch" href="/assets/js/95.9314d520.js"><link rel="prefetch" href="/assets/js/96.c1c70d23.js"><link rel="prefetch" href="/assets/js/97.19366206.js"><link rel="prefetch" href="/assets/js/98.b21f21fa.js"><link rel="prefetch" href="/assets/js/99.54bfab50.js">
    <link rel="stylesheet" href="/assets/css/0.styles.64a98e43.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于我" class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于我" class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/font/JS/this、new、apply、call与bind.html" class="sidebar-link">this、new、apply、call与bind</a></li><li><a href="/font/JS/JS单线程、异步、同步.html" class="sidebar-link">JS单线程、异步、同步</a></li><li><a href="/font/JS/常用正则表达式备忘录.html" class="sidebar-link">常用正则表达式备忘录</a></li><li><a href="/font/JS/Object.defineProperty与Proxy理解整理.html" class="sidebar-link">Object.defineProperty与Proxy理解整理</a></li><li><a href="/font/JS/柯里化.html" class="sidebar-link">柯里化</a></li><li><a href="/font/JS/JS技巧.html" class="sidebar-link">JS技巧</a></li><li><a href="/font/JS/闭包.html" class="sidebar-link">闭包</a></li><li><a href="/font/JS/作用域与作用域链.html" class="sidebar-link">作用域与作用域链</a></li><li><a href="/font/JS/JS运行机制总结.html" class="sidebar-link">JS运行机制总结</a></li><li><a href="/font/JS/赋值、浅拷贝与深拷贝.html" class="sidebar-link">赋值、浅拷贝与深拷贝</a></li><li><a href="/font/JS/构造函数、原型、继承和原型链.html" class="sidebar-link">构造函数、原型、继承和原型链</a></li><li><a href="/font/JS/原生JS知识.html" class="sidebar-link">原生JS知识</a></li><li><a href="/font/JS/防抖与节流.html" class="sidebar-link">防抖与节流</a></li><li><a href="/font/JS/类型转换比较问题.html" class="sidebar-link">类型转换比较问题</a></li><li><a href="/font/JS/JS中有趣的事实.html" class="active sidebar-link">JS中有趣的事实</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#nan-是一个-number-类型" class="sidebar-link">NaN 是一个 number 类型</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#null-是一个对象" class="sidebar-link">null 是一个对象</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#undefined-可以被定义" class="sidebar-link">undefined 可以被定义</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#_0-1-0-2-不等于-to-0-3" class="sidebar-link">0.1 + 0.2 不等于 to 0.3</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#math-max-比-math-min-小" class="sidebar-link">Math.max() 比 Math.min() 小</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#_018-045-19" class="sidebar-link">018 - 045 = -19</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#括号的位置问题" class="sidebar-link">括号的位置问题</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#数组和对象的和" class="sidebar-link">数组和对象的和</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#与-的结果是什么" class="sidebar-link">{} + {}与{} + [\]的结果是什么</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#与" class="sidebar-link">!与!!</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#与-2" class="sidebar-link">~ 与 ~~</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#" class="sidebar-link">+</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#与-3" class="sidebar-link">&amp; 与 &amp;&amp;</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#与-4" class="sidebar-link">| 与 ||</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#-2" class="sidebar-link">^</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#_0" class="sidebar-link">&gt;&gt;&gt; 0</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#-3" class="sidebar-link">..⭐️</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#void" class="sidebar-link">void</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#数值表示法" class="sidebar-link">数值表示法</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#array-prototype-sort" class="sidebar-link">Array.prototype.sort</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#array-prototype-concat-apply" class="sidebar-link">Array.prototype.concat.apply</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#array-prototype-push-apply" class="sidebar-link">Array.prototype.push.apply</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#array-prototype-length" class="sidebar-link">Array.prototype.length</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#object-prototype-tostring-call" class="sidebar-link">Object.prototype.toString.call</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#object-create-null" class="sidebar-link">Object.create(null)</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#json-parse-json-stringify-obj" class="sidebar-link">JSON.parse(JSON.stringify(Obj))</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#生成-0-1-n-1" class="sidebar-link">生成[0, 1, ..., N-1]</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS中有趣的事实.html#truthy与falsy" class="sidebar-link">Truthy与Falsy</a></li></ul></li><li><a href="/font/JS/正则表达式必知必会.html" class="sidebar-link">正则表达式必知必会</a></li><li><a href="/font/JS/空对象与空数组相加问题.html" class="sidebar-link">空对象与空数组相加问题</a></li><li><a href="/font/JS/JS面试题.html" class="sidebar-link">JS面试题</a></li><li><a href="/font/JS/JS零散知识整理.html" class="sidebar-link">JS零散知识整理</a></li><li><a href="/font/JS/前端模块化.html" class="sidebar-link">前端模块化</a></li><li><a href="/font/JS/JS操作DOM常用API总结.html" class="sidebar-link">JS操作DOM常用API总结</a></li><li><a href="/font/JS/JS工具函数大全.html" class="sidebar-link">JS工具函数大全</a></li><li><a href="/font/JS/内存泄漏.html" class="sidebar-link">内存泄漏</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="nan-是一个-number-类型"><a href="#nan-是一个-number-类型" class="header-anchor">#</a> NaN 是一个 number 类型</h2> <p><code>NaN</code>是一个 <code>number</code> 类型。而且， <code>NaN</code> 不等于它自己。实际上 <code>NaN</code>不等于任何东西，验证一个变量是否是 <code>NaN</code> 可以使用 <code>isNaN()</code> 方法来判断。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span>
<span class="token string">&quot;number&quot;</span>
<span class="token operator">&gt;</span> <span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span>
<span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="null-是一个对象"><a href="#null-是一个对象" class="header-anchor">#</a> null 是一个对象</h2> <p><code>null</code>是一个对象。听起来奇怪！对？但这是事实。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token string">&quot;object&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在这种情况下， <code>null</code>表示没有值。因此， <code>null</code>不应该是 <code>Object</code>的实例。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token keyword">null</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span>
<span class="token boolean">false</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="undefined-可以被定义"><a href="#undefined-可以被定义" class="header-anchor">#</a> undefined 可以被定义</h2> <p>undefined<code>不是 JS 中的保留关键字， 你可以为其指定值也不会报错，如果声明一个变量没有赋值，默认为</code>undefined</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token keyword">var</span> some_var<span class="token punctuation">;</span>
<span class="token keyword">undefined</span>
<span class="token operator">&gt;</span> some_var <span class="token operator">==</span> <span class="token keyword">undefined</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token string">'i am undefined'</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_0-1-0-2-不等于-to-0-3"><a href="#_0-1-0-2-不等于-to-0-3" class="header-anchor">#</a> 0.1 + 0.2 不等于 to 0.3</h2> <p>在JavaScript中， <code>0.1+0.2==0.3</code>返回 <code>false</code>。事实是，javascript 将浮点数存储为二进制。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.20</span><span class="token number">.30000000000000004</span>
<span class="token operator">&gt;</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span> <span class="token operator">==</span> <span class="token number">0.3</span>
<span class="token boolean">false</span>   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="math-max-比-math-min-小"><a href="#math-max-比-math-min-小" class="header-anchor">#</a> Math.max() 比 Math.min() 小</h2> <p><code>Math.max()&gt;Math.min()</code>返回 <code>false</code>的事实看起来是错误的，但实际上它是正确的。</p> <p>如果没有参数传给 <code>min()</code>或 <code>max()</code>，那么它将返回以下值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token number">Infinity</span>
<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">Infinity</span>    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_018-045-19"><a href="#_018-045-19" class="header-anchor">#</a> 018 - 045 = -19</h2> <p>在JavaScript中，前缀 <code>0</code>会把任何数字转换成八进制。但是，八进制中不使用 <code>8</code>，任何包含 <code>8</code>的数字都将被无声地转换为常规的十进制数字。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token number">018</span> <span class="token operator">-</span> <span class="token number">045</span>
<span class="token operator">-</span><span class="token number">19</span>    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>因此， <code>018-017</code>实际上等于十进制表达式 <code>18-37</code>，因为 <code>045</code>是八进制，但 <code>018</code>是十进制。</p> <h2 id="括号的位置问题"><a href="#括号的位置问题" class="header-anchor">#</a> 括号的位置问题</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">return</span><span class="token template-punctuation string">`</span></span> 语句后面没有东西的时候它什么都不返回。实际上，<span class="token constant">JS</span> 后面 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">return</span><span class="token template-punctuation string">`</span></span> 添加一个 <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">;</span><span class="token template-punctuation string">`</span></span>。
<span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
	<span class="token keyword">return</span>   
	<span class="token punctuation">{</span>      
		foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>   
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">undefined</span>
<span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token keyword">return</span> 
    <span class="token punctuation">{</span>      
        foo<span class="token punctuation">:</span> <span class="token string">'bar'</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>foo<span class="token punctuation">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="数组和对象的和"><a href="#数组和对象的和" class="header-anchor">#</a> 数组和对象的和</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> <span class="token operator">!</span><span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token number">9</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token number">0</span>
<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token string">&quot;[object Object]&quot;</span>
<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token string">&quot;&quot;</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token string">&quot;[object Object][object Object]&quot;</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token boolean">true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>来自：公众号「大迁世界」</p> <h2 id="与-的结果是什么"><a href="#与-的结果是什么" class="header-anchor">#</a> {} + {}与{} + []的结果是什么</h2> <p>《<a href="/font/JS/空对象与空数组相加问题.html">空对象与空数组相加问题</a>》</p> <p>以下转自:<a href="https://segmentfault.com/a/1190000016595592#articleHeader2" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000016595592#articleHeader2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="与"><a href="#与" class="header-anchor">#</a> !与!!</h2> <p>!为逻辑非操作符，可以应用于ECMAScript中的任何值，无论这个值是什么类型，<strong>它会被强制转化为一个布尔值变量，再对其值取反。</strong></p> <p>!!只是单纯的将操作数执行两次逻辑非，它能将任意类型的值转化为相应的布尔值，它包含的步骤为：</p> <ul><li>将一个值转化为布尔值；</li> <li>将其取反；</li> <li>再次取反。</li></ul> <p>假设你需要通过一个布尔型变量表示是否有id值，以下写法推荐你使用最后一种方式来进行转化：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> enable1 <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>id；
<span class="token keyword">const</span> enable2 <span class="token operator">=</span> id <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> enable3 <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="与-2"><a href="#与-2" class="header-anchor">#</a> ~ 与 ~~</h2> <p><code>~</code>表示<strong>按位取反</strong>，<code>~5</code>的运行步骤为：</p> <ol><li>转为一个字节的二进制表示：00000101，</li> <li>按位取反：11111010</li> <li>取其反码：10000101</li> <li>取其补码：10000110</li> <li>转化为十进制：-6(取反-1)</li></ol> <p><code>~~</code>它代表<strong>双非按位取反运算符，如果你想使用比Math.floor()更快的方法，那就是它</strong>了。需要注意，对于正数，它向下取整；对于负数，向上取整；非数字取值为0，它具体的表现形式为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">~</span><span class="token operator">~</span><span class="token keyword">null</span><span class="token punctuation">;</span>      <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token number">Infinity</span><span class="token punctuation">;</span>  <span class="token comment">// =&gt; 0</span>
<span class="token operator">--</span><span class="token number">NaN</span><span class="token punctuation">;</span>       <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token number">0</span><span class="token punctuation">;</span>         <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token boolean">false</span><span class="token punctuation">;</span>     <span class="token comment">// =&gt; 0</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token comment">// =&gt; 1</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token number">1.9</span><span class="token punctuation">;</span>       <span class="token comment">// =&gt; 1</span>
<span class="token operator">~</span><span class="token operator">~</span><span class="token operator">-</span><span class="token number">1.9</span><span class="token punctuation">;</span>      <span class="token comment">// =&gt; -1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id=""><a href="#" class="header-anchor">#</a> +</h2> <p>在变量值前使用+的本意是<strong>将变量转换为数字</strong>，在一个函数接受数字类型的参数时特别有用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">+</span><span class="token string">'1'</span> <span class="token comment">// 1</span>
<span class="token operator">+</span><span class="token string">'-1'</span> <span class="token comment">// '-1</span>
<span class="token operator">+</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
<span class="token operator">+</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// NaN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>根据观察，<code>+a</code>与<code>a * 1</code>结果类似。除此之外，使用+也可以作为立即执行函数：<code>+function() {}()</code>，等效于<code>(function(){})()</code>。</p> <p>字符串与数字相加时会将数值默认转为字符串，因此有了一下将数字转为字符串的快捷方法：<code>'' + 1</code>。</p> <h2 id="与-3"><a href="#与-3" class="header-anchor">#</a> &amp; 与 &amp;&amp;</h2> <p>如何你是从类C语言过来的话，请抛弃之前的刻板印象：&amp;可以充当逻辑操作符号。在JavaScript中，&amp;只能进行位运算。</p> <p><code>&amp;</code>，它表示<strong>按位与</strong>，此运算符需要两个数字并返回一个数字。如果它们不是数字，则会转换为数字。如果执行<code>7 &amp; 3</code>， 则会经过以下步骤：</p> <ol><li>先转换为2进制： <code>111 &amp; 11</code></li> <li>比较结果为：<code>011</code></li> <li>将二进制转回十进制，因此：<code>7 &amp; 3 = 3</code></li></ol> <p>它也可用于基偶数判断：<code>const isOdd = num =&gt; !!(num &amp; 1);</code></p> <p><code>&amp;&amp;</code>，表示<strong>逻辑与</strong>，通常用于if条件判断，可跟你想象的不太一样，&amp;&amp;并不是单纯的返回true或者false，而是依据：</p> <ol><li>若第一个表达式为false，则返回第一个表达式；</li> <li>若第一个表达式为true，返回第二个表达式。</li></ol> <p>在这里举几个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">false</span>          <span class="token number">0</span> <span class="token punctuation">(</span>both are <span class="token boolean">false</span><span class="token operator">-</span>y<span class="token punctuation">,</span> but <span class="token number">0</span> is the first<span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">false</span>       <span class="token boolean">false</span> <span class="token punctuation">(</span>second one is <span class="token boolean">false</span><span class="token operator">-</span>y<span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span>        <span class="token boolean">true</span> <span class="token punctuation">(</span>both are <span class="token boolean">true</span><span class="token operator">-</span>y<span class="token punctuation">)</span>
<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token number">20</span>          <span class="token number">20</span> <span class="token punctuation">(</span>both are <span class="token boolean">true</span><span class="token operator">-</span>y<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>&amp;&amp;</code>可以连接多个操作符，如：<code>a &amp;&amp; b &amp;&amp; c &amp;&amp; d</code>，返回值的规则与上面一样。除此以外，它还经常被作为短路逻辑使用：若前面表达式不是truthy，则不会继续执行之后的表达式。如在取一个对象的属性，我们需要先判断是否为空才能进行取值，否则会抛出Uncaught TypeError，这种情况下一般我们也会通过逻辑或，给与表达式一个默认值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> value <span class="token operator">=</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>value <span class="token operator">||</span> <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当JavaScript压缩工具遇到if判断时，也会使用&amp;&amp;短路逻辑从而节省内存空间：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// before</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>test<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token comment">// after</span>
test <span class="token operator">&amp;&amp;</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="与-4"><a href="#与-4" class="header-anchor">#</a> | 与 ||</h2> <p>它们与<code>&amp;</code>和<code>&amp;&amp;</code>使用方法很相似，不同的是它们表示的是<strong>逻辑或</strong>，因此使用<code>|</code>会进行按位或运算，而<code>||</code>会返回第一个Truthy值。</p> <p>使用||进行默认值赋值在JavaScript中十分常见，这样可以省略很多不必要的if语句，比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// before</span>
<span class="token keyword">let</span> res<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res <span class="token operator">=</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res <span class="token operator">=</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  res <span class="token operator">=</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  res <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// after</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> a <span class="token operator">||</span> b <span class="token operator">||</span> c <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="与-5"><a href="#与-5" class="header-anchor">#</a> == 与 ===</h3> <p><code>==</code>为相等运算符，操作符会先将左右两边的操作数强制转型，转换为相同的操作数，再进行相等性比较。</p> <p><code>===</code>为全等运算符，它除了在比较时不会将操作数强制转型，其余相等判断与<code>==</code>一致。</p> <p>简单而言，<code>==</code>用于判断值是否相等，<code>===</code>判断值与类型是否都相等，因此使用全等运算符判断操作数会更准确，新手也在学习JavaScript接收到的前几条Tips就是避免使用相等运算符，真的是这样吗？没错，这样能确保在你不彻底熟悉语言的情况下，尽可能的去避免犯错，但是我们也应该清楚在哪些情况下应该使用相等运算符，规则往往只针对于新手，而对聪明的你来说，最重要的是要清楚自己在做什么。</p> <p>相等操作符对于不同类型的值，进行的比较如下图所示：</p> <p><img src="/assets/img/1571387331363.c8658e10.png" alt="1571387331363"></p> <p>针对于undefined与null：<strong>undefined与null互等，与其余任意对象都不相等</strong>，因此在某些lib里，你可能会看到如下写法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">VAR</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">VAR</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>它等效于：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">VAR</span> <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token constant">VAR</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>对于 <code>'', false, 0</code>而言，他们都属于<a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy" target="_blank" rel="noopener noreferrer">Falsy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>类型，通过Boolean对象都会转换为假值，而通过<code>==</code>判断三者的关系，他们总是相等的，因为在比较值时它们会因为类型不同而都被转换为false值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token boolean">false</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">''</span> <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者有时候我们希望利用强转特性比较字符串与数字：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span> <span class="token operator">==</span> <span class="token string">'11'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span> <span class="token operator">===</span> <span class="token string">'11'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="-2"><a href="#-2" class="header-anchor">#</a> ^</h2> <p>按位异或运算符，对比每一个比特位，当比特位不相同时则返回1，否则返回0。很少人在Web开发中使用此运算符吧，除了传说中的一种场景：交换值。</p> <p>若要交换a与b的值，如果可以的话推荐你使用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者新建一个c，用于存储临时变量，如果你遇到有人这样书写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 异或运算，相同位取0，不同位取1，a ^ b ^ b = a， a ^ a ^ b = b</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b
b <span class="token operator">=</span> a <span class="token operator">^</span> b
a <span class="token operator">=</span> a <span class="token operator">^</span> b
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样通过异或运算进行交换两个数字型变量，请原谅他并忽视它，他只可能是一个醉心于魔法的初心者，并祝愿他早日发现，简洁易读的函数才是最佳实践。</p> <h2 id="_0"><a href="#_0" class="header-anchor">#</a> &gt;&gt;&gt; 0</h2> <p>无符号右移运算，对最高位的符号位不作特殊处理，将整体二进制码向右移动，舍弃低位，高位以 0 进行补充，我们以 1 byte 大小的的整数进行举例：</p> <ul><li><code>3 &gt;&gt;&gt; 1</code>等价于<code>0000 0011</code>向右移动 1 位：<code>000 0001</code>，然后高位补0:<code>0000 0001</code>，即<code>3 &gt;&gt;&gt; 1 = 1</code></li></ul> <p>在 js 中，我们总能发现一些使用<code>&gt;&gt;&gt; 0</code>的 Hack 代码，其中核心特性就是无符号右移 0 位可以将所以类型的值都转化为 number 类型做统一处理，且非 number 类型转换为 0，以下大概列了一些基本用法：</p> <table><thead><tr><th style="text-align:left;">类型</th> <th style="text-align:left;">操作</th> <th style="text-align:left;">示例</th></tr></thead> <tbody><tr><td style="text-align:left;">正整数</td> <td style="text-align:left;">不做任何操作</td> <td style="text-align:left;"><code>1 &gt;&gt;&gt; 0 = 1</code></td></tr> <tr><td style="text-align:left;">负整数</td> <td style="text-align:left;">取负数的补码的值</td> <td style="text-align:left;"><code>-1 &gt;&gt;&gt; 0 = 4294967295</code></td></tr> <tr><td style="text-align:left;">布尔值</td> <td style="text-align:left;">转化为 1 or 0</td> <td style="text-align:left;"><code>true &gt;&gt;&gt; 0 = 1</code>、<code>false &gt;&gt;&gt; 0 = 0</code></td></tr> <tr><td style="text-align:left;">字符串</td> <td style="text-align:left;">若isNaN(str)，值为 0；否则值为<code>parseInt(str) &gt;&gt;&gt; 0</code></td> <td style="text-align:left;"><code>'1' &gt;&gt;&gt; 0 = 1</code>、<code>'s' &gt;&gt;&gt; 0 = 0</code></td></tr> <tr><td style="text-align:left;">浮点数</td> <td style="text-align:left;">舍弃掉小数位，然后再执行整数移位操作</td> <td style="text-align:left;"><code>1.1 &gt;&gt;&gt; 0 = 1 &gt;&gt;&gt; 0</code>、<code>-1.1 &gt;&gt;&gt; 0 = -1 &gt;&gt;&gt; 0</code></td></tr> <tr><td style="text-align:left;">其他对象</td> <td style="text-align:left;">统一值为0</td> <td style="text-align:left;"><code>[] &gt;&gt;&gt; 0 = 0</code>、<code>undefined &gt;&gt;&gt; 0 = 0</code>、...</td></tr></tbody></table> <h2 id="-3"><a href="#-3" class="header-anchor">#</a> ..⭐️</h2> <p>在JavaScipt整数和浮点数都属于<code>Number</code>类型，所有数字都以64位浮点数的形式储存，因此在解析语句时允许数组后面跟着一个小数点（<code>1. === 1</code>），可这样其实会引发一个问题，解释器无法解析<code>1.toString()</code>这样的语句，会抛出：<code>Uncaught SyntaxError</code>，此时表达式中的<code>.</code>并没有视为属性访问器，而是与1结合为浮点数<code>1.</code>，所以程序会报错，<code>1.toString()</code>等同于<code>1toString()</code>。</p> <p>为了更便于理解，可以记住这个规则：在解释器眼中，Number型表达式的出现的第一个<code>.</code>为浮点数的小数分隔符号，第二个<code>.</code>为属性访问器。比如<code>1.0.toString()</code>与<code>1..toString()</code>这样的语法都能正常执行。需要注意的是变量与表达式的区别，若将Number型表达式赋值给变量，通过变量是可以直接调用原型方法的，因为此时的<code>.</code>没有歧义。</p> <p>这样的松散类型结构确实很使人产生误解，在程序中我们都应该规避这样的歧义性语句，通过括号消除数值表达式的歧义<code>(1).toString()</code>，而不是为了耍酷使用<code>1..toString()</code>。</p> <h2 id="void"><a href="#void" class="header-anchor">#</a> void</h2> <p>根据MDN中的定义：<code>void对给定的表达式进行求值，然后返回undefined</code>，我们可以有很多种方式去理解这句话。</p> <p>首先它可以作为undefined的替代品，由于undefined不是保留字，它其实是一个全局变量值，因此我们可以对其进行改变，程序可能会出现不稳定的状态，在ES5中已经是一个只读属性了，但是在局部作用域中，还是有被重载的可能（你可能也有被害妄想症）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>其次，我们可以在函数前面加上void关键字，表示函数没有返回值，但是不必在每一个函数都加上，这不符合JavaScript的代码风格，利用此特性我们可以用于执行IIFE（立即执行函数），让我们来看以下示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>若你不习惯于写分号，那就极有可能遇到过这种报错：<code>Uncaught TypeError: [] is not a function</code>，这是由于编辑器在进行minify的时候无法进行正确的分词，这时通过void就可以解决此类问题，解决了分词的问题，也使立即执行函数调用更加优雅：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">void</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在有时我们不希望a标签进行跳转，以下是一些常用方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 使用preventDefault <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a id<span class="token operator">=</span><span class="token string">&quot;a&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  a<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 使用<span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;&quot;</span> onclick<span class="token operator">=</span><span class="token string">&quot;return false;&quot;</span><span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>当我们给href值设置为<code>undefined</code>，也可以避免a标签的默认跳转行为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript: void 0;&quot;</span> onclick<span class="token operator">=</span><span class="token string">&quot;return false;&quot;</span><span class="token operator">&gt;</span>hello<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="数值表示法"><a href="#数值表示法" class="header-anchor">#</a> 数值表示法</h2> <h3 id="_3e9"><a href="#_3e9" class="header-anchor">#</a> 3e9</h3> <p>科学计数法是一种数学术语，将一个数表示为a乘以10的n次方，如光速30万公里每秒，在计算中通常将米做单位，则记为：300000000m/s，而在JavaScript中我们可使用科学计数法 <code>3e9</code>表示。</p> <p>在这里举几个科学计数法的示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">1e5</span><span class="token punctuation">;</span> <span class="token comment">// 100000</span>
<span class="token number">2e-4</span><span class="token punctuation">;</span> <span class="token comment">// 0.0002</span>
<span class="token operator">-</span><span class="token number">3e3</span><span class="token punctuation">;</span> <span class="token comment">// -3000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Number对象有<code>toExponential(fractionDigits)</code>方法以科学计数法返回该数值的字符串表示形式，参数fractionDigits可选，用于用来指定小数点后有几位数字，例如：<code>(179000).toExponential(); // &quot;1.79e+5&quot;</code>。</p> <p>以下情况JavaScript会自动将数值转为科学计数法表示：</p> <ol><li>小数点前的数字多于21位。</li> <li>数值小于1且小数点后的零多于5个，如<code>0.0000001</code>。</li></ol> <h3 id="_5px"><a href="#_5px" class="header-anchor">#</a> .5px</h3> <p>通常某些人习惯省略0.开头的数字，常见于数值计算、css属性中，比如<code>0.5px</code>可直接写为<code>.5px</code>，<code>0.2 * 0.3</code>可写为： <code>.2 * .3</code></p> <h3 id="_0x、0o和0b"><a href="#_0x、0o和0b" class="header-anchor">#</a> 0x、0o和0b</h3> <p>在十进制的世界里呆久了，请不要忘记还有其他进制的存在，在计算机中它们是同地位的。JavaScript提供了以下进制的表示方法：</p> <ul><li>二进制：只用0和1两个数字，前缀为<code>0b</code>，十进制13可表示为<code>0b1101</code></li> <li>八进制：只用0到7八个数字，前缀为<code>0o、0</code>，十进制13可表示为<code>0o15、015</code></li> <li>十六进制：只用0到9的十个数字，和a到f六个字母，前缀为<code>0x</code>，十进制13可表示为<code>0xd</code></li></ul> <p>默认情况下，JavaScript 内部会自动将八进制、十六进制、二进制转为十进制再进行运算。从十进制转其他进制请查阅<code>toString</code>方法，从其他进制转十进制请查阅<code>parseInt</code>方法，从其他进制转其他进制请先转为十进制再转为其他方法。</p> <h2 id="array-prototype-sort"><a href="#array-prototype-sort" class="header-anchor">#</a> Array.prototype.sort</h2> <p>Array.prototype.sort()默认根据字符串的Unicode编码进行排序，具体算法取决于实现的浏览器，在<a href="https://github.com/v8/v8/blob/b8a5ae4749be1b34246957982e205517737d814b/src/js/array.js#L545" target="_blank" rel="noopener noreferrer">v8引擎<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，若数组长度小于10则使用从插入排序，大于10使用的是快排。</p> <p>而sort支持传入一个<code>compareFunction(a, b)</code>的参数，其中a、b为数组中进行比较的两个非空对象(所有空对象将会排在数组的最后)，具体比较规则为：</p> <ul><li>返回值小于0，a排在b的左边</li> <li>返回值等于0，a和b的位置不变</li> <li>返回值大于0，a排在b的右边</li></ul> <p>因此利用sort即可写一个打乱数组的方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">.5</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是以上的实现并不是完全随机的，究其原因，还是因为排序算法的不稳定性，导致一些元素没有机会进行比较，具体请参考<a href="https://www.zhihu.com/question/68330851" target="_blank" rel="noopener noreferrer">问题<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，在抽奖程序中若要实现完全随机，请使用 ⭐️<strong>Fisher–Yates shuffle</strong> 算法，以下是简单实现：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">shuffle</span><span class="token punctuation">(</span><span class="token parameter">arrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> arrs<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> random <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>arrs<span class="token punctuation">[</span>random<span class="token punctuation">]</span><span class="token punctuation">,</span> arrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arrs<span class="token punctuation">[</span>random<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="array-prototype-concat-apply"><a href="#array-prototype-concat-apply" class="header-anchor">#</a> Array.prototype.concat.apply</h2> <p>apply接收数组类型的参数来调用函数，而concat接收字符串或数组的多个参数，因此可使用此技巧将二维数组直接展平：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>而通过此方法也可以写一个深层次遍历的方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">flattenDeep</span><span class="token punctuation">(</span><span class="token parameter">arrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arrs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>经过测试，效率与lodash对比如下：</p> <p><img src="/assets/img/1571401546493.ad59c29d.png" alt="1571401546493"></p> <p>对上述方法中的<code>Array.prototype.concat.apply([], target)</code>亦可以写成：<code>[].concat(...target)</code>。</p> <h2 id="array-prototype-push-apply"><a href="#array-prototype-push-apply" class="header-anchor">#</a> Array.prototype.push.apply</h2> <p>在es5中，若想要对数组进行拼接操作，我们习惯于使用数组中的concat方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrs <span class="token operator">=</span> arrs<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>但还有酷的方法，利用apply方法的数组传参特性，可以更简洁的执行拼接操作：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>arrs<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="array-prototype-length"><a href="#array-prototype-length" class="header-anchor">#</a> Array.prototype.length</h2> <p>它通常用于返回数组的长度，但是也是一个包含有复杂行为的属性，首先需要说明的是，<strong>它并不是用于统计数组中元素的数量</strong>，而是代表数组中最高索引的值：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrs<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>另外，length长度随着数组的变化而变化，但是这种变化仅限于：<strong>子元素最高索引值的变化</strong>，假如使用<code>delete</code>方法删除最高元素，length是不会变化的，因为最高索引值也没变：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> arrs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 长度依然为3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>length还有一个重要的特性，那就是允许你修改它的值，若修改值小于数组本身的最大索引，则会对数组进行部分截取：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrs<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// arrs = [1, 2]</span>
arrs<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// arrs = []</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>若赋予的值大于当前最大索引，则会得到一个稀疏数组：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrs<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// arrs = [1, 2,,,,]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>若将值赋为0，则执行了<strong>清空数组</strong>的操作:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrs<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// arrs = []</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用此方法会将数组中的所有索引都删除掉，因此也会影响其他引用此数组的值，这点跟使用<code>arrs = []</code>有很大的区别：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> a<span class="token punctuation">;</span>
<span class="token keyword">let</span> b1 <span class="token operator">=</span> b<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
b<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> a1<span class="token punctuation">,</span> b1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [], [], [1, 2, 3], []</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在对length进行修改的时候，还需要注意：</p> <ul><li>值需要为正整数</li> <li>传递字符串会被尝试转为数字类型</li></ul> <h2 id="object-prototype-tostring-call"><a href="#object-prototype-tostring-call" class="header-anchor">#</a> Object.prototype.toString.call</h2> <p>每个对象都有一个toString()，用于将对象以字符串方式引用时自动调用，如果此方法未被覆盖，toString则会返回[object type]，因此<code>Object.prototype.toString.call</code>只是为了调用原生对象上未被覆盖的方法，call将作用域指向需要判断的对象，这样一来就可以通过原生的toString方法打印对象的类型字符串： <code>Object.prototype.toString.call([]) =&gt; &quot;[object Array]&quot;</code>，利用这个特性，可以较为精确的实现类型判断。</p> <p>在ES3中，获取到的type为内部属性[[Class]]属性，它可以用来判断一个原生属性属于哪一种内置的值；在ES5中新增了两条规则：若this值为null、undefined分别返回： [object Null]、[object Undefined]；在ES6中不存在[[Class]]了，取而代之的是一种内部属性：[[NativeBrand]]，它是一种标记值，用于区分原生对象的属性，具体的判断规则为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">19.1</span><span class="token number">.3</span><span class="token number">.6</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span>
When the toString method is called<span class="token punctuation">,</span> the following steps are taken<span class="token punctuation">:</span>

If the <span class="token keyword">this</span> value is <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">return</span> <span class="token string">&quot;[object Undefined]&quot;</span><span class="token punctuation">.</span>
If the <span class="token keyword">this</span> value is <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">return</span> <span class="token string">&quot;[object Null]&quot;</span><span class="token punctuation">.</span>
Let <span class="token constant">O</span> be <span class="token operator">!</span> <span class="token function">ToObject</span><span class="token punctuation">(</span><span class="token keyword">this</span> value<span class="token punctuation">)</span><span class="token punctuation">.</span>
Let isArray be <span class="token operator">?</span> <span class="token function">IsArray</span><span class="token punctuation">(</span><span class="token constant">O</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
If isArray is <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Array&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> is a String exotic object<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;String&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has a <span class="token punctuation">[</span><span class="token punctuation">[</span>ParameterMap<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Arguments&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has a <span class="token punctuation">[</span><span class="token punctuation">[</span>Call<span class="token punctuation">]</span><span class="token punctuation">]</span> internal method<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Function&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has an <span class="token punctuation">[</span><span class="token punctuation">[</span>ErrorData<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Error&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has a <span class="token punctuation">[</span><span class="token punctuation">[</span>BooleanData<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Boolean&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has a <span class="token punctuation">[</span><span class="token punctuation">[</span>NumberData<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Number&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has a <span class="token punctuation">[</span><span class="token punctuation">[</span>DateValue<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Date&quot;</span><span class="token punctuation">.</span>
Else <span class="token keyword">if</span> <span class="token constant">O</span> has a <span class="token punctuation">[</span><span class="token punctuation">[</span>RegExpMatcher<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;RegExp&quot;</span><span class="token punctuation">.</span>
Else<span class="token punctuation">,</span> <span class="token keyword">let</span> builtinTag be <span class="token string">&quot;Object&quot;</span><span class="token punctuation">.</span>
Let tag be <span class="token operator">?</span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token constant">O</span><span class="token punctuation">,</span> @@toStringTag<span class="token punctuation">)</span><span class="token punctuation">.</span>
If <span class="token function">Type</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span> is not String<span class="token punctuation">,</span> <span class="token keyword">set</span> tag to builtinTag<span class="token punctuation">.</span>
Return the string<span class="token operator">-</span>concatenation <span class="token keyword">of</span> <span class="token string">&quot;[object &quot;</span><span class="token punctuation">,</span> tag<span class="token punctuation">,</span> and <span class="token string">&quot;]&quot;</span><span class="token punctuation">.</span>
This <span class="token keyword">function</span> is the <span class="token operator">%</span>ObjProto_toString<span class="token operator">%</span> intrinsic object<span class="token punctuation">.</span>

<span class="token constant">NOTE</span>
Historically<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token keyword">function</span> was occasionally used to access the String value <span class="token keyword">of</span> the <span class="token punctuation">[</span><span class="token punctuation">[</span>Class<span class="token punctuation">]</span><span class="token punctuation">]</span> internal slot that was used <span class="token keyword">in</span> previous editions <span class="token keyword">of</span> <span class="token keyword">this</span> specification <span class="token keyword">as</span> a nominal type tag <span class="token keyword">for</span> various built<span class="token operator">-</span><span class="token keyword">in</span> objects<span class="token punctuation">.</span> The above definition <span class="token keyword">of</span> toString preserves compatibility <span class="token keyword">for</span> legacy code that uses toString <span class="token keyword">as</span> a test <span class="token keyword">for</span> those specific kinds <span class="token keyword">of</span> built<span class="token operator">-</span><span class="token keyword">in</span> objects<span class="token punctuation">.</span> It does not provide a reliable type testing mechanism <span class="token keyword">for</span> other kinds <span class="token keyword">of</span> built<span class="token operator">-</span><span class="token keyword">in</span> or program defined objects<span class="token punctuation">.</span> In addition<span class="token punctuation">,</span> programs can use @@toStringTag <span class="token keyword">in</span> ways that will invalidate the reliability <span class="token keyword">of</span> such legacy type tests<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="object-create-null"><a href="#object-create-null" class="header-anchor">#</a> Object.create(null)</h2> <p>用于创建无“副作用”的对象，也就是说，它创建的是一个<strong>空对象</strong>，不包含原型链与其他属性。若使用<code>const map = {}</code>创建出来的对象相当于Object.create(Object.prototype)，它继承了对象的原型链。</p> <h2 id="json-parse-json-stringify-obj"><a href="#json-parse-json-stringify-obj" class="header-anchor">#</a> JSON.parse(JSON.stringify(Obj))</h2> <p>很常用的一种深拷贝对象的方式，将对象进行JSON字符串格式化再进行解析，即可获得一个新的对象，要注意它的性能不是特别好，而且无法处理闭环的引用，比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>b <span class="token operator">=</span> obj<span class="token punctuation">;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Uncaught TypeError: Converting circular structure to JSON</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这样通过JSON解析的方式其实性能并不高，若对象可通过浅拷贝复制请一定使用浅拷贝的方式，不管你使用<code>{...obj}</code>还是<code>Object.assign({}, obj)</code>的方式，而如果对性能有要求的情况下，请不要再造轮子了，直接使用npm:clone这个包或是别的吧。</p> <h2 id="生成-0-1-n-1"><a href="#生成-0-1-n-1" class="header-anchor">#</a> 生成[0, 1, ..., N-1]</h2> <p>依稀记得在Python中生成列表的语法是多么简洁：<code>[ x for x in range(1, 10) ]</code>，那么在JavaScript如何进行初始化1~10的有序序列呢？</p> <p>行车有规范，直接使用<code>new Array(10)</code>进行初始化并<code>.map</code>是不可取的，因为这样只设置了数组的length字段：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;length&quot;]</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [undefined, undefined, undefined]</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// [&quot;length&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样会导致<code>map</code>、<code>filter</code>等迭代方法无效，当然使用<code>fill</code>填充后即可正常操作数组项，但是在这里会用其他方法解决。</p> <p>在以前，大家喜欢使用这样的Hack技巧去初始化固定长度的数组：<code>Array.apply(null, { length: 3 })</code>，需要特意说明的是，<code>{ length: 3 }</code>其实是一个类数组对象，Array.prototype.apply内部取参数可能是这样实现的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// pass arguments[1][index]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>正因如此，如果你基础没问题的话，就会发现上面的语句其实等效于：<code>Array(undefined, undefined, undefined)</code>，综上，生成0~10的序列语句可写为：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> length<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> k<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>而对于ES6来讲，完全可以用<code>Array.from</code>来替代以上的语句的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>Array.from</code>不仅接受字符串、Set、Map、类数组对象作为参数，凡是可迭代对象都可以，比如我们出于娱乐的目的使用生成器实现：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> i
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
<span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="truthy与falsy"><a href="#truthy与falsy" class="header-anchor">#</a> Truthy与Falsy</h2> <p>对每一个类型的值来讲，它每一个对象都有一个布尔型的值，Falsy表示在Boolean对象中表现为false的值，在条件判断与循环中，JavaScript会将任意类型强制转化为Boolean对象。
以下这些对象在遇到if语句时都表现为Falsy：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>all<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>document.all属于历史遗留原因，所以为false，它违背了JavaScript的规范，可以不管它，而NaN这个变量，千万不要用全等或相等对其进行判断，因为它发起疯来连自己都打：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>但是我们可以使用Object.is方法进行判断值是否为NaN，它是ES6新加入的语法，用于比较两个值是否相同，它可以视为比全等判断符更为严格的判断方法，但是不可混为一谈：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>而除了Falsy值，所有值都是Truthy值，在Boolean上下文中表现为true。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">10/18/2019, 10:25:57 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/font/JS/类型转换比较问题.html" class="prev">类型转换比较问题</a></span> <span class="next"><a href="/font/JS/正则表达式必知必会.html">正则表达式必知必会</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.aa96b86d.js" defer></script><script src="/assets/js/2.f0fb8f40.js" defer></script><script src="/assets/js/49.08777439.js" defer></script>
  </body>
</html>
