<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DOM事件流 | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.b8bd58f1.css" as="style"><link rel="preload" href="/assets/js/app.016159d4.js" as="script"><link rel="preload" href="/assets/js/28.4df6eb88.js" as="script"><link rel="prefetch" href="/assets/js/10.1c38ddd1.js"><link rel="prefetch" href="/assets/js/11.c1b366d2.js"><link rel="prefetch" href="/assets/js/12.9cd7e513.js"><link rel="prefetch" href="/assets/js/13.0e756847.js"><link rel="prefetch" href="/assets/js/14.86d457d4.js"><link rel="prefetch" href="/assets/js/15.3fe2aa5c.js"><link rel="prefetch" href="/assets/js/16.8d87281a.js"><link rel="prefetch" href="/assets/js/17.a75a6b7c.js"><link rel="prefetch" href="/assets/js/18.292448f5.js"><link rel="prefetch" href="/assets/js/19.31352c2c.js"><link rel="prefetch" href="/assets/js/2.0bfe2024.js"><link rel="prefetch" href="/assets/js/20.d9078bde.js"><link rel="prefetch" href="/assets/js/21.e807d7a1.js"><link rel="prefetch" href="/assets/js/22.58bd6360.js"><link rel="prefetch" href="/assets/js/23.665d87de.js"><link rel="prefetch" href="/assets/js/24.d5183885.js"><link rel="prefetch" href="/assets/js/25.e66db675.js"><link rel="prefetch" href="/assets/js/26.3c9bb75a.js"><link rel="prefetch" href="/assets/js/27.5c786187.js"><link rel="prefetch" href="/assets/js/29.90991758.js"><link rel="prefetch" href="/assets/js/3.76f4d80f.js"><link rel="prefetch" href="/assets/js/30.e67cb534.js"><link rel="prefetch" href="/assets/js/31.82e1aa55.js"><link rel="prefetch" href="/assets/js/32.d2a5f669.js"><link rel="prefetch" href="/assets/js/33.17345503.js"><link rel="prefetch" href="/assets/js/34.5b0993d9.js"><link rel="prefetch" href="/assets/js/35.05822a78.js"><link rel="prefetch" href="/assets/js/36.2c5243f8.js"><link rel="prefetch" href="/assets/js/37.e26aab5f.js"><link rel="prefetch" href="/assets/js/38.d2a257f7.js"><link rel="prefetch" href="/assets/js/39.5e183a52.js"><link rel="prefetch" href="/assets/js/4.ded771f4.js"><link rel="prefetch" href="/assets/js/40.724a69f4.js"><link rel="prefetch" href="/assets/js/41.f77acb80.js"><link rel="prefetch" href="/assets/js/42.b60471c1.js"><link rel="prefetch" href="/assets/js/43.17285bc4.js"><link rel="prefetch" href="/assets/js/44.bb9c34dd.js"><link rel="prefetch" href="/assets/js/45.06bb4e46.js"><link rel="prefetch" href="/assets/js/46.be6da047.js"><link rel="prefetch" href="/assets/js/47.cc7f360b.js"><link rel="prefetch" href="/assets/js/48.f3020483.js"><link rel="prefetch" href="/assets/js/49.4a87cc41.js"><link rel="prefetch" href="/assets/js/5.61000c5c.js"><link rel="prefetch" href="/assets/js/50.f68c3079.js"><link rel="prefetch" href="/assets/js/51.7a822d55.js"><link rel="prefetch" href="/assets/js/52.5ddd4a40.js"><link rel="prefetch" href="/assets/js/53.82b62c35.js"><link rel="prefetch" href="/assets/js/54.28d03622.js"><link rel="prefetch" href="/assets/js/55.2b0c79c8.js"><link rel="prefetch" href="/assets/js/56.aff2dc38.js"><link rel="prefetch" href="/assets/js/57.a37d5674.js"><link rel="prefetch" href="/assets/js/58.5e2f2f39.js"><link rel="prefetch" href="/assets/js/59.efd54e0a.js"><link rel="prefetch" href="/assets/js/6.22f2db39.js"><link rel="prefetch" href="/assets/js/60.9ca33df4.js"><link rel="prefetch" href="/assets/js/61.4f06929c.js"><link rel="prefetch" href="/assets/js/62.030c0301.js"><link rel="prefetch" href="/assets/js/63.5d06a89b.js"><link rel="prefetch" href="/assets/js/64.51aa2a1c.js"><link rel="prefetch" href="/assets/js/65.71af61c1.js"><link rel="prefetch" href="/assets/js/66.811313a2.js"><link rel="prefetch" href="/assets/js/67.64d9518b.js"><link rel="prefetch" href="/assets/js/68.b1f48db4.js"><link rel="prefetch" href="/assets/js/69.f6c478fc.js"><link rel="prefetch" href="/assets/js/7.824d2765.js"><link rel="prefetch" href="/assets/js/70.802d69a6.js"><link rel="prefetch" href="/assets/js/71.b1f24674.js"><link rel="prefetch" href="/assets/js/72.19e751cb.js"><link rel="prefetch" href="/assets/js/73.94c87511.js"><link rel="prefetch" href="/assets/js/74.cd7006c9.js"><link rel="prefetch" href="/assets/js/75.988a678a.js"><link rel="prefetch" href="/assets/js/76.655c21fe.js"><link rel="prefetch" href="/assets/js/77.c3b67b89.js"><link rel="prefetch" href="/assets/js/78.271edfa3.js"><link rel="prefetch" href="/assets/js/79.52fdc6a2.js"><link rel="prefetch" href="/assets/js/8.cabbb93f.js"><link rel="prefetch" href="/assets/js/80.5a326d6b.js"><link rel="prefetch" href="/assets/js/81.6f12b973.js"><link rel="prefetch" href="/assets/js/82.e6861b1a.js"><link rel="prefetch" href="/assets/js/83.f7acdfe2.js"><link rel="prefetch" href="/assets/js/84.361b1c71.js"><link rel="prefetch" href="/assets/js/85.caf6d59d.js"><link rel="prefetch" href="/assets/js/86.68e01cf6.js"><link rel="prefetch" href="/assets/js/87.03fb1cab.js"><link rel="prefetch" href="/assets/js/88.45865b2d.js"><link rel="prefetch" href="/assets/js/89.a96eaa0c.js"><link rel="prefetch" href="/assets/js/9.d899ed1a.js"><link rel="prefetch" href="/assets/js/90.b1e1b7c8.js"><link rel="prefetch" href="/assets/js/91.c026415d.js"><link rel="prefetch" href="/assets/js/92.769bbf23.js"><link rel="prefetch" href="/assets/js/93.bd6432ef.js"><link rel="prefetch" href="/assets/js/94.f036ba72.js"><link rel="prefetch" href="/assets/js/95.93c43d4f.js"><link rel="prefetch" href="/assets/js/96.1732ac64.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8bd58f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/font/JS/this、new、apply、call与bind.html" class="sidebar-link">this、new、apply、call与bind</a></li><li><a href="/font/JS/JS单线程、异步、同步.html" class="sidebar-link">JS单线程、异步、同步</a></li><li><a href="/font/JS/常用正则表达式备忘录.html" class="sidebar-link">常用正则表达式备忘录</a></li><li><a href="/font/JS/Object.defineProperty与Proxy理解整理.html" class="sidebar-link">Object.defineProperty与Proxy理解整理</a></li><li><a href="/font/JS/柯里化.html" class="sidebar-link">柯里化</a></li><li><a href="/font/JS/JS技巧.html" class="sidebar-link">JS技巧</a></li><li><a href="/font/JS/闭包.html" class="sidebar-link">闭包</a></li><li><a href="/font/JS/作用域与作用域链.html" class="sidebar-link">作用域与作用域链</a></li><li><a href="/font/JS/JS运行机制总结.html" class="sidebar-link">JS运行机制总结</a></li><li><a href="/font/JS/赋值、浅拷贝与深拷贝.html" class="sidebar-link">赋值、浅拷贝与深拷贝</a></li><li><a href="/font/JS/构造函数、原型、继承和原型链.html" class="sidebar-link">构造函数、原型、继承和原型链</a></li><li><a href="/font/JS/原生JS知识.html" class="sidebar-link">原生JS知识</a></li><li><a href="/font/JS/防抖与节流.html" class="sidebar-link">防抖与节流</a></li><li><a href="/font/JS/类型转换比较问题.html" class="sidebar-link">类型转换比较问题</a></li><li><a href="/font/JS/JS中有趣的事实.html" class="sidebar-link">JS中有趣的事实</a></li><li><a href="/font/JS/正则表达式必知必会.html" class="sidebar-link">正则表达式必知必会</a></li><li><a href="/font/JS/空对象与空数组相加问题.html" class="sidebar-link">空对象与空数组相加问题</a></li><li><a href="/font/JS/JS面试题.html" class="sidebar-link">JS面试题</a></li><li><a href="/font/JS/JS零散知识整理.html" class="active sidebar-link">JS零散知识整理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#dom事件流" class="sidebar-link">DOM事件流</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#事件委托" class="sidebar-link">事件委托</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#mouseover和mouseenter的区别" class="sidebar-link">mouseover和mouseenter的区别</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#js的各种位置，比如clientheight-scrollheight-offsetheight-以及scrolltop-offsettop-clienttop的区别？" class="sidebar-link">js的各种位置，比如clientHeight,scrollHeight,offsetHeight ,以及scrollTop, offsetTop,clientTop的区别？</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#js中的垃圾回收机制" class="sidebar-link">JS中的垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#settimeout、setinterval和requestanimationframe之间的区别" class="sidebar-link">setTimeout、setInterval和requestAnimationFrame之间的区别</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#简单实现node的events模块" class="sidebar-link">简单实现Node的Events模块</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#类型转换的规则有哪些？" class="sidebar-link">类型转换的规则有哪些？</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#javascript的参数是按照什么方式传递的？" class="sidebar-link">JavaScript的参数是按照什么方式传递的？</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#简单讲一讲es6的一些新特性" class="sidebar-link">简单讲一讲ES6的一些新特性</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS零散知识整理.html#口述数组去重" class="sidebar-link">口述数组去重</a></li></ul></li><li><a href="/font/JS/前端模块化.html" class="sidebar-link">前端模块化</a></li><li><a href="/font/JS/JS操作DOM常用API总结.html" class="sidebar-link">JS操作DOM常用API总结</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器网络</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="dom事件流"><a href="#dom事件流" aria-hidden="true" class="header-anchor">#</a> DOM事件流</h2> <p>DOM事件流讲的就是：浏览器在于当前页面做交互时，这个事件是怎么传递到页面上的。</p> <p>类似于Android里面的事件传递。</p> <p>完整的事件流，分三个阶段：</p> <ul><li>（1）捕获：从 window 对象传到 目标元素。</li> <li>（2）目标阶段：事件通过捕获，到达目标元素，这个阶段就是目标阶段。</li> <li>（3）冒泡：从<strong>目标元素</strong>传到 Window 对象。</li></ul> <p><img src="/assets/img/1566891643389.3e64255b.png" alt="1566891643389"></p> <p><img src="/assets/img/1566891656508.1d080f82.png" alt="1566891656508"></p> <p><img src="/assets/img/1566891724163.2234ac68.png" alt="1566891724163"></p> <p><img src="/assets/img/1566891699627.204a4f02.png" alt="1566891699627"></p> <p>事件捕获：是一种自顶向下的事件类型，从DOM层次的顶端沿着子节点依次向下延伸，直到目标节点。</p> <p>事件冒泡：和事件捕获正好相反，从目标节点开始沿着父节点逐层向上传播。并非所有的事件都支持冒泡，比如focus，blur等等</p> <p>W3C中阻止事件默认行为：**e.preventDefault()**方法，阻止事件冒泡：**e.stopPropogation()**方法，阻止元素的同类型事件：<strong>e.stopImmediatePropagation()</strong></p> <p>IE中，阻止事件默认行为：event.returnValue=false ,阻止事件冒泡：event.cancelBubble=true</p> <h2 id="事件委托"><a href="#事件委托" aria-hidden="true" class="header-anchor">#</a> 事件委托</h2> <p>简介：事件委托指的是，不在事件的发生地（直接dom）上设置监听函数，而是在其父元素上设置监听函数，通过事件冒泡，父元素可以监听到子元素上事件的触发，通过判断事件发生元素DOM的类型，来做出不同的响应。</p> <p>举例：最经典的就是ul和li标签的事件监听，比如我们在添加事件时候，采用事件委托机制，不会在li标签上直接添加，而是在ul父元素上添加。</p> <p>好处：比较合适动态元素的绑定，新添加的子元素也会有监听函数，也可以有事件触发机制。</p> <h3 id="event-currenttarget和event-target"><a href="#event-currenttarget和event-target" aria-hidden="true" class="header-anchor">#</a> <strong>event.currentTarget和event.target</strong></h3> <p><a href="https://www.cnblogs.com/yzhihao/p/9398917.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/yzhihao/p/9398917.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="mouseover和mouseenter的区别"><a href="#mouseover和mouseenter的区别" aria-hidden="true" class="header-anchor">#</a> mouseover和mouseenter的区别</h2> <p>mouseover：当鼠标移入元素或其子元素都会触发事件，所以有一个重复触发😋，<strong>冒泡</strong>的过程。对应的移除事件是mouseout</p> <p>mouseenter：当鼠标移除元素本身（不包含元素的子元素）会触发事件，也就是不会冒泡，对应的移除事件是mouseleave</p> <p><a href="https://www.w3school.com.cn/tiy/t.asp?f=jquery_event_mouseenter_mouseover" target="_blank" rel="noopener noreferrer">https://www.w3school.com.cn/tiy/t.asp?f=jquery_event_mouseenter_mouseover<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="js的各种位置，比如clientheight-scrollheight-offsetheight-以及scrolltop-offsettop-clienttop的区别？"><a href="#js的各种位置，比如clientheight-scrollheight-offsetheight-以及scrolltop-offsettop-clienttop的区别？" aria-hidden="true" class="header-anchor">#</a> js的各种位置，比如clientHeight,scrollHeight,offsetHeight ,以及scrollTop, offsetTop,clientTop的区别？</h2> <p>clientHeight：表示的是可视区域的高度，不包含border和滚动条</p> <p>offsetHeight：表示可视区域的高度，包含了border和滚动条</p> <p>scrollHeight：表示了所有区域的高度，包含了因为滚动被隐藏的部分。</p> <p>clientTop：表示边框border的厚度，在未指定的情况下一般为0</p> <p>scrollTop：滚动后被隐藏的高度，获取对象相对于由offsetParent属性指定的父坐标(css定位的元素或body元素)距离顶端的高度。</p> <p>scrollHeight: 获取对象的滚动高度。</p> <p>scrollWidth:获取对象的滚动宽度 。</p> <p>scrollLeft:设置或获取位于对象左边界和窗口中目前可见内容的最左端之间的距离</p> <p>scrollTop:设置或获取位于对象最顶端和窗口中可见内容的最顶端之间的距离</p> <p>offsetHeight:获取对象相对于版面或由父坐标 offsetParent 属性指定的父坐标的高度</p> <p>offsetLeft:获取对象相对于版面或由 offsetParent 属性指定的父坐标的计算左侧位置</p> <p>offsetTop:获取对象相对于版面或由 offsetTop 属性指定的父坐标的计算顶端位置</p> <p>event.clientX 相对文档的水平座标</p> <p>event.clientY 相对文档的垂直座标</p> <p>event.offsetX 相对容器的水平坐标</p> <p>event.offsetY 相对容器的垂直坐标</p> <p>document.documentElement.scrollTop 垂直方向滚动的值</p> <p>event.clientX+document.documentElement.scrollTop 相对文档的水平座标+垂直方向滚动的量</p> <p>这里是JavaScript中建造迁移转变代码的常用属性</p> <p>网页可见区域宽： document.body.clientWidth;</p> <p>网页可见区域高： document.body.clientHeight;</p> <p>网页可见区域宽： document.body.offsetWidth   （包含边线的宽）;</p> <p>网页可见区域高： document.body.offsetHeight （包含边线的宽）;</p> <p>网页正文全文宽： document.body.scrollWidth;</p> <p>网页正文全文高： document.body.scrollHeight;</p> <p>网页被卷去的高： document.body.scrollTop;</p> <p>网页被卷去的左： document.body.scrollLeft;</p> <p>网页正文项目组上： window.screenTop;</p> <p>网页正文项目组左： window.screenLeft;</p> <p>屏幕辨别率的高： window.screen.height;</p> <p>屏幕辨别率的宽： window.screen.width;</p> <p>屏幕可用工作区高度： window.screen.availHeight;</p> <h3 id="_1-offset"><a href="#_1-offset" aria-hidden="true" class="header-anchor">#</a> 1. offset</h3> <p><code>offset</code> 指<strong>偏移</strong>，包括这个元素在文档中占用的所有显示宽度，包括滚动条、 <code>padding</code>、 <code>border</code>，不包括 <code>overflow</code>隐藏的部分</p> <ol><li><p><code>offsetParent</code>属性返回一个对象的引用，这个对象是距离调用 <code>offsetParent</code>的父级元素中最近的（在包含层次中最靠近的），并且是已进行过CSS定位的容器元素。如果这个容器元素未进行CSS定位, 则 <code>offsetParent</code>属性的取值为根元素的引用。</p></li> <li><ol><li>如果当前元素的父级元素中没有进行CSS定位（<code>position</code>为 absolute/relative）， <code>offsetParent</code>为 body</li> <li>如果当前元素的父级元素中有CSS定位（ <code>position</code>为 absolute/relative）， <code>offsetParent</code>取父级中最近的元素</li></ol></li> <li><p><strong>obj.offsetWidth</strong> 指 obj 控件自身的绝对宽度，不包括因 <code>overflow</code> 而未显示的部分，也就是其实际占据的宽度，整型，单位：像素。</p> <p><code>offsetWidth</code> = <code>border-width</code>*2+ <code>padding-left</code>+ <code>width</code>+ <code>padding-right</code></p></li> <li><p><strong>obj.offsetHeight</strong> 指 obj 控件自身的绝对高度，不包括因 overflow 而未显示的部分，也就是其实际占据的高度，整型，单位：像素。</p> <p><code>offsetHeight</code> = <code>border-width</code>*2+ <code>padding-top</code>+ <code>height</code>+ <code>padding-bottom</code></p></li> <li><p><strong>obj.offsetTop</strong> 指 obj 相对于版面或由 <code>offsetParent</code> 属性指定的父坐标的计算上侧位置，整型，单位：像素。</p> <p><code>offsetTop</code>= <code>offsetParent</code>的padding-top + 中间元素的offsetHeight + 当前元素的margin-top</p></li> <li><p><strong>obj.offsetLeft</strong> 指 obj 相对于版面或由 <code>offsetParent</code> 属性指定的父坐标的计算左侧位置，整型，单位：像素。</p> <p><code>offsetLeft</code>= <code>offsetParent</code>的padding-left + 中间元素的offsetWidth + 当前元素的margin-left</p></li></ol> <h3 id="_2-scroll"><a href="#_2-scroll" aria-hidden="true" class="header-anchor">#</a> 2. scroll</h3> <p><code>scroll</code>指<strong>滚动</strong>，包括这个元素没显示出来的实际宽度，包括 <code>padding</code>，不包括滚动条、 `border</p> <ol><li><strong>scrollHeight</strong> 获取对象的滚动高度，对象的实际高度；</li> <li><strong>scrollLeft</strong> 设置或获取位于对象左边界和窗口中目前可见内容的最左端之间的距离</li> <li><strong>scrollTop</strong> 设置或获取位于对象最顶端和窗口中可见内容的最顶端之间的距离</li> <li><strong>scrollWidth</strong> 获取对象的滚动宽度</li></ol> <h3 id="_3-client"><a href="#_3-client" aria-hidden="true" class="header-anchor">#</a> 3. client</h3> <p><code>client</code>指元素本身的<strong>可视</strong>内容，不包括 <code>overflow</code>被折叠起来的部分，不包括滚动条、 <code>border</code>，包括 `padding</p> <ol><li><strong>clientWidth</strong> 对象可见的宽度，不包括滚动条等边线，会随窗口的显示大小改变</li> <li><strong>clientHeight</strong> 对象可见的高度</li> <li><strong>clientTop</strong>、<strong>clientLeft</strong> 这两个返回的是元素周围边框的厚度，一般它的值就是0。因为滚动条不会出现在顶部或者左侧</li></ol> <h2 id="js中的垃圾回收机制"><a href="#js中的垃圾回收机制" aria-hidden="true" class="header-anchor">#</a> JS中的垃圾回收机制</h2> <p>必要性：由于字符串、对象和数组没有固定大小，所有当他们的大小已知时，才能对他们进行动态的存储分配。JavaScript程序每次创建字符串、数组或对象时，解释器都必须分配内存来存储那个实体。只要像这样动态地分配了内存，最终都要释放这些内存以便他们能够被再用，否则，JavaScript的解释器将会消耗完系统中所有可用的内存，造成系统崩溃。</p> <p>这段话解释了为什么需要系统需要垃圾回收，JS不像C/C++，他有自己的一套垃圾回收机制（Garbage Collection）。JavaScript的解释器可以检测到何时程序不再使用一个对象了，当他确定了一个对象是无用的时候，他就知道不再需要这个对象，可以把它所占用的内存释放掉了。例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b<span class="token operator">=</span><span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a<span class="token operator">=</span>b<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>//这时，会释放掉&quot;hello world&quot;，释放内存以便再引用</p> <p>垃圾回收的方法：标记清除、计数引用。</p> <p>标记清除</p> <p>这是最常见的垃圾回收方式，当变量进入环境时，就标记这个变量为”进入环境“,从逻辑上讲，永远不能释放进入环境的变量所占的内存，永远不能释放进入环境变量所占用的内存，只要执行流程进入相应的环境，就可能用到他们。当离开环境时，就标记为离开环境。</p> <p>垃圾回收器在运行的时候会给存储在内存中的变量都加上标记（所有都加），然后去掉环境变量中的变量，以及被环境变量中的变量所引用的变量（条件性去除标记），删除所有被标记的变量，删除的变量无法在环境变量中被访问所以会被删除，最后垃圾回收器，完成了内存的清除工作，并回收他们所占用的内存。</p> <p>引用计数法</p> <p>另一种不太常见的方法就是引用计数法，引用计数法的意思就是每个值没引用的次数，当声明了一个变量，并用一个引用类型的值赋值给改变量，则这个值的引用次数为1,；相反的，如果包含了对这个值引用的变量又取得了另外一个值，则原先的引用值引用次数就减1，当这个值的引用次数为0的时候，说明没有办法再访问这个值了，因此就把所占的内存给回收进来，这样垃圾收集器再次运行的时候，就会释放引用次数为0的这些值。</p> <p>用引用计数法会存在内存泄露，下面来看原因：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">problem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> objA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> objB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	objA<span class="token punctuation">.</span>someOtherObject <span class="token operator">=</span> objB<span class="token punctuation">;</span>
	objB<span class="token punctuation">.</span>anotherObject <span class="token operator">=</span> objA<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在这个例子里面，objA和objB通过各自的属性相互引用，这样的话，两个对象的引用次数都为2，在采用引用计数的策略中，由于函数执行之后，这两个对象都离开了作用域，函数执行完成之后，因为计数不为0，这样的相互引用如果大量存在就会导致内存泄露。</p> <p>特别是在DOM对象中，也容易存在这种问题：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> element<span class="token operator">=</span>document<span class="token punctuation">.</span>getElementById（’‘）；
<span class="token keyword">var</span> myObj<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span>element<span class="token operator">=</span>element<span class="token punctuation">;</span>
element<span class="token punctuation">.</span>someObject<span class="token operator">=</span>myObj<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这样就不会有垃圾回收的过程。</p> <h2 id="settimeout、setinterval和requestanimationframe之间的区别"><a href="#settimeout、setinterval和requestanimationframe之间的区别" aria-hidden="true" class="header-anchor">#</a> setTimeout、setInterval和requestAnimationFrame之间的区别</h2> <p>这里有一篇文章讲的是requestAnimationFrame：<a href="http://www.cnblogs.com/xiaohuochai/p/5777186.html" target="_blank" rel="noopener noreferrer">http://www.cnblogs.com/xiaohuochai/p/5777186.html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>与setTimeout和setInterval不同，requestAnimationFrame不需要设置时间间隔，</p> <p>RAF采用的是系统时间间隔，不会因为前面的任务，不会影响RAF，但是如果前面的任务多的话，
会响应setTimeout和setInterval真正运行时的时间间隔。</p> <div class="tip custom-block"><p class="custom-block-title">特点：</p> <p>（1）requestAnimationFrame会把每一帧中的所有DOM操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率。</p> <p>（2）在隐藏或不可见的元素中，requestAnimationFrame将不会进行重绘或回流，这当然就意味着更少的CPU、GPU和内存使用量</p> <p>（3）requestAnimationFrame是由浏览器专门为动画提供的API，在运行时浏览器会自动优化方法的调用，并且如果页面不是激活状态下的话，动画会自动暂停，有效节省了CPU开销。</p></div> <h2 id="简单实现node的events模块"><a href="#简单实现node的events模块" aria-hidden="true" class="header-anchor">#</a> 简单实现Node的Events模块</h2> <h3 id="参考回答："><a href="#参考回答：" aria-hidden="true" class="header-anchor">#</a> 参考回答：</h3> <p>简介：观察者模式或者说订阅模式，它定义了对象间的一种一对多的关系，让多个观察者对象同时监听某一个主题对象，当一个对象发生改变时，所有依赖于它的对象都将得到通知。</p> <p>node中的Events模块就是通过观察者模式来实现的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> events <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'events'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> eventEmitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">events<span class="token punctuation">.</span>EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
eventEmitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
eventEmitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">,</span> <span class="token string">'Jony yu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样，eventEmitter发出say事件，通过On接收，并且输出结果，这就是一个订阅模式的实现，下面我们来简单的实现一个Events模块的EventEmitter。</p> <p>(1)实现简单的Event模块的emit和on方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Events</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">on</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> callBack</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callBack<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">emit</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> o <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handles<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>这样我们就定义了Events，现在我们可以开始来调用：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> events <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Events</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> nama<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
events<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">,</span> <span class="token string">'Jony yu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>//结果就是通过emit调用之后，输出了Jony yu</p> <p>(2)每个对象是独立的</p> <p>因为是通过new的方式，每次生成的对象都是不相同的，因此：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> event1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Events</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> event2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Events</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event1<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Jony event1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event2<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Jony event2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
event1<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event2<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'say'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>//event1、event2之间的事件监听互相不影响</p> <p>//输出结果为'Jony event1' 'Jony event2'</p> <h2 id="类型转换的规则有哪些？"><a href="#类型转换的规则有哪些？" aria-hidden="true" class="header-anchor">#</a> 类型转换的规则有哪些？</h2> <p>在if语句、逻辑语句、数学运算逻辑、==等情况下都可能出现隐士类型转换。</p> <p><img src="/assets/img/1567303217018.e9a430e9.png" alt="1567303217018"></p> <h2 id="javascript的参数是按照什么方式传递的？"><a href="#javascript的参数是按照什么方式传递的？" aria-hidden="true" class="header-anchor">#</a> JavaScript的参数是按照什么方式传递的？</h2> <h3 id="基本类型传递方式"><a href="#基本类型传递方式" aria-hidden="true" class="header-anchor">#</a> 基本类型传递方式</h3> <p>由于js中存在<strong>复杂类型</strong>和<strong>基本类型</strong>,对于<strong>基本类型</strong>而言,是按值传递的.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>虽然在函数<code>test</code>中<code>a</code>被修改,并没有有影响到 外部<code>a</code>的值,基本类型是按值传递的.</p> <h3 id="复杂类型按引用传递"><a href="#复杂类型按引用传递" aria-hidden="true" class="header-anchor">#</a> 复杂类型按引用传递?</h3> <p>我们将外部<code>a</code>作为一个对象传入<code>test</code>函数.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 10, b: 2 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 10, b: 2 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>可以看到,在函数体内被修改的<code>a</code>对象也同时影响到了外部的<code>a</code>对象,可见复杂类型是按<strong>引用传递的</strong>.</p> <p>可是如果再做一个实验:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>外部的<code>a</code>并没有被修改,如果是按引用传递的话,由于共享同一个堆内存,<code>a</code>在外部也会表现为<code>10</code>才对. 此时的复杂类型同时表现出了<code>按值传递</code>和<code>按引用传递</code>的特性.</p> <h3 id="按共享传递"><a href="#按共享传递" aria-hidden="true" class="header-anchor">#</a> 按共享传递</h3> <p>复杂类型之所以会产生这种特性,原因就是在传递过程中,对象<code>a</code>先产生了一个<code>副本a</code>,这个<code>副本a</code>并不是深克隆得到的<code>副本a</code>,<code>副本a</code>地址同样指向对象<code>a</code>指向的堆内存.</p> <p>因此在函数体中修改<code>x=10</code>只是修改了<code>副本a</code>,<code>a</code>对象没有变化. 但是如果修改了<code>x.a=10</code>是修改了两者指向的同一堆内存,此时对象<code>a</code>也会受到影响.</p> <p>有人讲这种特性叫做<strong>传递引用</strong>,也有一种说法叫做<strong>按共享传递</strong>.</p> <h2 id="简单讲一讲es6的一些新特性"><a href="#简单讲一讲es6的一些新特性" aria-hidden="true" class="header-anchor">#</a> 简单讲一讲ES6的一些新特性</h2> <p>ES6在变量的声明和定义方面增加了<strong>let、const声明变量</strong>，有局部变量的概念，赋值中有比较吸引人的<strong>解构赋值</strong>，同时ES6对字符串、 数组、正则、对象、函数等<strong>拓展了一些方法</strong>，如字符串方面的模板字符串、函数方面的默认参数、对象方面属性的简洁表达方式，ES6也 <strong>引入了新的数据类型symbol</strong>，<strong>新的数据结构set和map</strong>,symbol可以通过typeof检测出来，为解决异步回调问题，引入了<strong>promise和 generator</strong>，还有最为吸引人了实现Class和模块，通过<strong>Class可以更好的面向对象编程</strong>，使用模块加载方便模块化编程，当然考虑到 浏览器兼容性，我们在实际开发中需要使用babel进行编译</p> <p>重要的特性：</p> <p><strong>块级作用域</strong>：ES5只有全局作用域和函数作用域，块级作用域的好处是不再需要立即执行的函数表达式，循环体中的闭包不再有问题</p> <p><strong>rest参数</strong>：用于获取函数的多余参数，这样就不需要使用arguments对象了，</p> <p><strong>promise</strong>:一种异步编程的解决方案，比传统的解决方案回调函数和事件更合理强大</p> <p><strong>模块化</strong>：其模块功能主要有两个命令构成，export和import，export命令用于规定模块的对外接口，import命令用于输入其他模块提供的功能</p> <h2 id="口述数组去重"><a href="#口述数组去重" aria-hidden="true" class="header-anchor">#</a> 口述数组去重</h2> <p>法一：indexOf循环去重</p> <p>法二：ES6 Set去重；Array.from(new Set(array))</p> <p>法三：Object 键值对去重；把数组的值存成 Object 的 key 值，比如 Object[value1] = true，在判断另一个值的时候，如果 Object[value2]存在的话，就说明该值是重复的。</p> <h1 id="类数组和数组"><a href="#类数组和数组" aria-hidden="true" class="header-anchor">#</a> 类数组和数组</h1> <h3 id="什么是类数组对象-arraylike"><a href="#什么是类数组对象-arraylike" aria-hidden="true" class="header-anchor">#</a> <em>什么是类数组对象 ArrayLike</em></h3> <ul><li>拥有<strong>length属性</strong>，其它属性（索引）为非负整数(对象中的索引会被当做字符串来处理，这里你可以当做是个非负整数串来理解)</li> <li>不具有数组所具有的方法</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>伪数组，就是像数组一样有 length 属性，也有 <span class="token number">0</span>、<span class="token number">1</span>、<span class="token number">2</span>、<span class="token number">3</span> 等属性的对象，看起来就像数组一样，但不是数组，比如
<span class="token keyword">var</span> fakeArray <span class="token operator">=</span> <span class="token punctuation">{</span>
    length<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;first&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;1&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;second&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;2&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;third&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fakeArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fakeArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>常见的: <strong>arguments</strong>，<strong>DOM 对象列表</strong>（比如通过 document.getElementsByTags 得到的列表），jQuery 对象（比如 $(&quot;div&quot;)）。</p> <h3 id="类数组转化数组的方法"><a href="#类数组转化数组的方法" aria-hidden="true" class="header-anchor">#</a> 类数组转化数组的方法</h3> <h4 id="_1-slice"><a href="#_1-slice" aria-hidden="true" class="header-anchor">#</a> 1.slice</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>最经典的方法，使用Array的slice方法，此方法如果不传参数的话会返回原数组的一个拷贝，因此可以用此方法转换类数组到数组；
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//等同于</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-array-from"><a href="#_2-array-from" aria-hidden="true" class="header-anchor">#</a> 2.Array.from()</h4> <p>是ES6中的方法，用于将类数组转换为数组。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>只要有length属性的对象，都可以应用此方法转换成数组。</strong></p> <h4 id="_3-扩展运算符"><a href="#_3-扩展运算符" aria-hidden="true" class="header-anchor">#</a> 3.扩展运算符</h4> <p>ES6中的扩展运算符<code>...</code>也能将某些数据结构转换成数组，这种数据结构必须有遍历器接口。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.016159d4.js" defer></script><script src="/assets/js/28.4df6eb88.js" defer></script>
  </body>
</html>
