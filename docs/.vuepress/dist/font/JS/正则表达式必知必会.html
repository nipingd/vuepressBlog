<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 简介 | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.b8bd58f1.css" as="style"><link rel="preload" href="/assets/js/app.d23737eb.js" as="script"><link rel="preload" href="/assets/js/65.ec3b8071.js" as="script"><link rel="prefetch" href="/assets/js/10.a920407b.js"><link rel="prefetch" href="/assets/js/11.40836f55.js"><link rel="prefetch" href="/assets/js/12.7e28b1aa.js"><link rel="prefetch" href="/assets/js/13.a1b9e919.js"><link rel="prefetch" href="/assets/js/14.f46e9927.js"><link rel="prefetch" href="/assets/js/15.07dcc65c.js"><link rel="prefetch" href="/assets/js/16.6522ee03.js"><link rel="prefetch" href="/assets/js/17.d4cf0aa4.js"><link rel="prefetch" href="/assets/js/18.08c5cc22.js"><link rel="prefetch" href="/assets/js/19.44357d19.js"><link rel="prefetch" href="/assets/js/2.3eebcd8d.js"><link rel="prefetch" href="/assets/js/20.02780269.js"><link rel="prefetch" href="/assets/js/21.08c4e68a.js"><link rel="prefetch" href="/assets/js/22.1136230d.js"><link rel="prefetch" href="/assets/js/23.82b2c00b.js"><link rel="prefetch" href="/assets/js/24.e1dce031.js"><link rel="prefetch" href="/assets/js/25.9f3d0afa.js"><link rel="prefetch" href="/assets/js/26.c51ae9cc.js"><link rel="prefetch" href="/assets/js/27.dd696fbc.js"><link rel="prefetch" href="/assets/js/28.16d46c12.js"><link rel="prefetch" href="/assets/js/29.27633f8c.js"><link rel="prefetch" href="/assets/js/3.07bc1983.js"><link rel="prefetch" href="/assets/js/30.41dac138.js"><link rel="prefetch" href="/assets/js/31.6db10f86.js"><link rel="prefetch" href="/assets/js/32.10397073.js"><link rel="prefetch" href="/assets/js/33.215c4a9e.js"><link rel="prefetch" href="/assets/js/34.be340226.js"><link rel="prefetch" href="/assets/js/35.f7558106.js"><link rel="prefetch" href="/assets/js/36.e8b1b0b0.js"><link rel="prefetch" href="/assets/js/37.9869c6d3.js"><link rel="prefetch" href="/assets/js/38.a858a291.js"><link rel="prefetch" href="/assets/js/39.76afd657.js"><link rel="prefetch" href="/assets/js/4.5c1e423c.js"><link rel="prefetch" href="/assets/js/40.adae8513.js"><link rel="prefetch" href="/assets/js/41.bf00f419.js"><link rel="prefetch" href="/assets/js/42.97b8c7b4.js"><link rel="prefetch" href="/assets/js/43.8cb59d26.js"><link rel="prefetch" href="/assets/js/44.3f328fb6.js"><link rel="prefetch" href="/assets/js/45.4dfc9536.js"><link rel="prefetch" href="/assets/js/46.6d99ba6d.js"><link rel="prefetch" href="/assets/js/47.abb61a3c.js"><link rel="prefetch" href="/assets/js/48.47b1b73e.js"><link rel="prefetch" href="/assets/js/49.8c3aff50.js"><link rel="prefetch" href="/assets/js/5.9d707a7d.js"><link rel="prefetch" href="/assets/js/50.58fc2135.js"><link rel="prefetch" href="/assets/js/51.f03fc33a.js"><link rel="prefetch" href="/assets/js/52.ac5a0182.js"><link rel="prefetch" href="/assets/js/53.8e423051.js"><link rel="prefetch" href="/assets/js/54.44fcf4ce.js"><link rel="prefetch" href="/assets/js/55.32e0fdbd.js"><link rel="prefetch" href="/assets/js/56.005a6963.js"><link rel="prefetch" href="/assets/js/57.c23344b8.js"><link rel="prefetch" href="/assets/js/58.8a2e5952.js"><link rel="prefetch" href="/assets/js/59.81e19629.js"><link rel="prefetch" href="/assets/js/6.45024ca2.js"><link rel="prefetch" href="/assets/js/60.1ebd7657.js"><link rel="prefetch" href="/assets/js/61.2216bdb2.js"><link rel="prefetch" href="/assets/js/62.c18d5fef.js"><link rel="prefetch" href="/assets/js/63.972db444.js"><link rel="prefetch" href="/assets/js/64.e7d7cced.js"><link rel="prefetch" href="/assets/js/66.c8dd6341.js"><link rel="prefetch" href="/assets/js/67.90b12d04.js"><link rel="prefetch" href="/assets/js/68.e893b480.js"><link rel="prefetch" href="/assets/js/69.268b5939.js"><link rel="prefetch" href="/assets/js/7.b480b60b.js"><link rel="prefetch" href="/assets/js/8.479e23a4.js"><link rel="prefetch" href="/assets/js/9.03899ea4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8bd58f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/font/JS/this、new、apply、call与bind.html" class="sidebar-link">this、new、apply、call与bind</a></li><li><a href="/font/JS/JS单线程、异步、同步.html" class="sidebar-link">JS单线程、异步、同步</a></li><li><a href="/font/JS/常用正则表达式备忘录.html" class="sidebar-link">常用正则表达式备忘录</a></li><li><a href="/font/JS/Object.defineProperty与Proxy理解整理.html" class="sidebar-link">Object.defineProperty与Proxy理解整理</a></li><li><a href="/font/JS/柯里化.html" class="sidebar-link">柯里化</a></li><li><a href="/font/JS/JS技巧.html" class="sidebar-link">JS技巧</a></li><li><a href="/font/JS/闭包.html" class="sidebar-link">闭包</a></li><li><a href="/font/JS/作用域与作用域链.html" class="sidebar-link">作用域与作用域链</a></li><li><a href="/font/JS/JS运行机制总结.html" class="sidebar-link">JS运行机制总结</a></li><li><a href="/font/JS/赋值、浅拷贝与深拷贝.html" class="sidebar-link">赋值、浅拷贝与深拷贝</a></li><li><a href="/font/JS/构造函数、原型、继承和原型链.html" class="sidebar-link">构造函数、原型、继承和原型链</a></li><li><a href="/font/JS/原生JS知识.html" class="sidebar-link">原生JS知识</a></li><li><a href="/font/JS/防抖与节流.html" class="sidebar-link">防抖与节流</a></li><li><a href="/font/JS/类型转换比较问题.html" class="sidebar-link">类型转换比较问题</a></li><li><a href="/font/JS/JS中有趣的事实.html" class="sidebar-link">JS中有趣的事实</a></li><li><a href="/font/JS/正则表达式必知必会.html" class="active sidebar-link">正则表达式必知必会</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/font/JS/正则表达式必知必会.html#_1-简介" class="sidebar-link">1. 简介</a></li><li class="sidebar-sub-header"><a href="/font/JS/正则表达式必知必会.html#_2-内容" class="sidebar-link">2. 内容</a></li><li class="sidebar-sub-header"><a href="/font/JS/正则表达式必知必会.html#_3-常用属性与方法" class="sidebar-link">3. 常用属性与方法</a></li></ul></li><li><a href="/font/JS/空对象与空数组相加问题.html" class="sidebar-link">空对象与空数组相加问题</a></li><li><a href="/font/JS/JS面试题.html" class="sidebar-link">JS面试题</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器网络</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><p>转载自：https://juejin.im/post/5b61b0f86fb9a04fd343af8f#heading-12</p> <h2 id="_1-简介"><a href="#_1-简介" aria-hidden="true" class="header-anchor">#</a> 1. 简介</h2> <p><strong>正则表达式</strong>(Regular Expression) 是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个规则字符串，这个规则字符串用来表达对字符串的一种过滤逻辑。</p> <p>简单来说就是：按照某种规则去匹配符合条件的字符串。正则表达式的规则是<code>/ pattern / flags</code></p> <p>可以使用字面量形式或者new的方式来创建正则表达式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用直接字面量创建 ，推荐使用，性能更好，注意这里pattern不能为空，不然以为是注释</span>
<span class="token keyword">var</span> exp1 <span class="token operator">=</span> <span class="token regex">/\d/g</span> 
 
<span class="token comment">// 使用RegExp对象创建</span>
<span class="token keyword">var</span> exp2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\d'</span><span class="token punctuation">,</span> <span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>模式中使用的所有<strong>元字符</strong>都建议在之前加<code>\</code>转义，正则表达式中的元字符包括：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> \ <span class="token operator">^</span> $ <span class="token operator">|</span> <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">*</span> <span class="token operator">+</span> <span class="token punctuation">.</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-内容"><a href="#_2-内容" aria-hidden="true" class="header-anchor">#</a> 2. 内容</h2> <h3 id="_2-1-匹配模式"><a href="#_2-1-匹配模式" aria-hidden="true" class="header-anchor">#</a> 2.1 匹配模式</h3> <p>修饰符表示正则表达式的匹配模式</p> <table><thead><tr><th>修饰符</th> <th>描述</th></tr></thead> <tbody><tr><td>i</td> <td>执行对大小写不敏感的匹配</td></tr> <tr><td>g</td> <td>执行全局匹配，查找所有匹配而非在找到第一个匹配后停止</td></tr> <tr><td>m</td> <td>执行多行匹配，会改变<code>^</code>和<code>$</code>的行为</td></tr> <tr><td>u</td> <td>可以匹配4字节的unicode编码</td></tr> <tr><td>s (ES9)</td> <td>dotAll模式，<code>.</code>可以匹配换行符</td></tr></tbody></table> <p>加了u修饰符，会正确处理大于<code>\uFFFF</code>的unicode，比如4字节的🐪 <code>\uD83D\uDC2A</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/^\uD83D/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'\uD83D\uDC2A'</span><span class="token punctuation">)</span>                <span class="token comment">//  true</span>
<span class="token operator">/</span><span class="token operator">^</span>\uD83D<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'\uD83D\uDC2A'</span><span class="token punctuation">)</span>               <span class="token comment">//  false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>默认情况下，<code>.</code>可以匹配任意字符，除了换行符，且<code>.</code>不能匹配Unicode字符，需要使用u选项启用Unicode模式才行。</p> <p>ES2018引入了dotAll模式，通过s选项可以启用，这样，<code>.</code>就可以匹配换行符了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/foo.bar/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'foo\nbar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 				<span class="token comment">// false</span>
<span class="token operator">/</span>foo<span class="token punctuation">.</span>bar<span class="token operator">/</span>s<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'foo\nbar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 				<span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-2-类"><a href="#_2-2-类" aria-hidden="true" class="header-anchor">#</a> 2.2 类</h3> <p><strong>类</strong>使用<code>[ ]</code>来表达，用于查找某个范围内的字符</p> <table><thead><tr><th>表达式</th> <th>描述</th></tr></thead> <tbody><tr><td><code>[abc]</code></td> <td>查找方括号之间的任何字符</td></tr> <tr><td><code>[0-9]</code></td> <td>查找任何从 0 至 9 的数字</td></tr></tbody></table> <p>还有一些<strong>预定义类</strong>方便我们直接使用：</p> <table><thead><tr><th>预定义类</th> <th>等价</th> <th>描述</th></tr></thead> <tbody><tr><td><code>\s</code></td> <td><code>[\t\n\x0B\f\r]</code></td> <td>空格</td></tr> <tr><td><code>\S</code></td> <td><code>[^\t\n\x0B\f\r]</code></td> <td>非空格</td></tr> <tr><td><code>\d</code></td> <td><code>[0-9]</code></td> <td>数字</td></tr> <tr><td><code>\D</code></td> <td><code>[^0-9]</code></td> <td>非数字</td></tr> <tr><td><code>\w</code></td> <td><code>[a-zA-Z_0-9]</code></td> <td>单词字符 ( 字母、数字、下划线)</td></tr> <tr><td><code>\W</code></td> <td><code>[^a-zA-Z_0-9]</code></td> <td>非单词字符</td></tr> <tr><td><code>.</code></td> <td><code>[^\r\n]</code></td> <td>任意字符，除了回车与换行外所有字符</td></tr> <tr><td><code>\f</code></td> <td><code>\x0c</code> <code>\cL</code></td> <td>匹配一个换页符</td></tr> <tr><td><code>\n</code></td> <td><code>\x0a</code> <code>\cJ</code></td> <td>匹配一个换行符</td></tr> <tr><td><code>\r</code></td> <td><code>\x0d</code> <code>\cM</code></td> <td>匹配一个回车符</td></tr> <tr><td><code>\t</code></td> <td><code>\x09</code> <code>\cI</code></td> <td>匹配一个制表符</td></tr> <tr><td><code>\v</code></td> <td><code>\x0b</code> <code>\cK</code></td> <td>匹配一个垂直制表符</td></tr> <tr><td><code>\xxx</code></td> <td></td> <td>查找以八进制数 xxx 规定的字符</td></tr> <tr><td><code>\xdd</code></td> <td></td> <td>查找以十六进制数 dd 规定的字符</td></tr> <tr><td><code>\uxxxx</code></td> <td></td> <td>查找以十六进制数 xxxx 规定的 Unicode 字符</td></tr></tbody></table> <h3 id="_2-3-量词"><a href="#_2-3-量词" aria-hidden="true" class="header-anchor">#</a> 2.3 量词</h3> <p><strong>量词</strong>表示匹配多少个目标对象，精确匹配长度使用<code>{ }</code></p> <table><thead><tr><th>量词</th> <th>等价</th> <th>描述</th></tr></thead> <tbody><tr><td>n<code>*</code></td> <td><code>{0,}</code></td> <td>匹配零个或多个n</td></tr> <tr><td>n<code>+</code></td> <td><code>{1,}</code></td> <td>匹配至少一个 n 的字符串</td></tr> <tr><td>n<code>?</code></td> <td><code>{0,1}</code></td> <td>匹配零个或一个n</td></tr> <tr><td><code>{n}</code></td> <td></td> <td>匹配n次</td></tr> <tr><td><code>{n,m}</code></td> <td></td> <td>匹配n到m次</td></tr> <tr><td><code>{n,}</code></td> <td></td> <td>至少匹配n次</td></tr></tbody></table> <h3 id="_2-4-边界"><a href="#_2-4-边界" aria-hidden="true" class="header-anchor">#</a> 2.4 边界</h3> <table><thead><tr><th>边界</th> <th>描述</th></tr></thead> <tbody><tr><td><code>^</code></td> <td>以xx开始，在类<code>[ ]</code>中表示非</td></tr> <tr><td><code>$</code></td> <td>以xx结束</td></tr> <tr><td><code>\b</code></td> <td>单词边界</td></tr> <tr><td><code>\B</code></td> <td>非单词边界</td></tr></tbody></table> <p><code>^</code>匹配字符串开始位置，也就是位置0，如果设置了 RegExp 对象的 Multiline 属性<code>m</code>，<code>^</code> 也匹配 '\n' 或 '\r' 之后的位置</p> <p><code>$</code>一般匹配字符串结束位置，如果设置了 RegExp 对象的 Multiline 属性<code>m</code>，<code>$</code> 也匹配 '\n' 或 '\r' 之前的位置</p> <p><code>\b</code>匹配一个单词边界，也就是指单词和空格间的位置，如<code>er\b</code>可以匹配&quot;never&quot; 中的 'er'，但不能匹配 &quot;verb&quot; 中的 'er' <code>\B</code>匹配非单词边界。如<code>er\B</code>能匹配 &quot;verb&quot; 中的 'er'，但不能匹配 &quot;never&quot; 中的 'er'</p> <h3 id="_2-5-分组"><a href="#_2-5-分组" aria-hidden="true" class="header-anchor">#</a> 2.5 分组</h3> <p><strong>分组</strong>使用<code>( )</code>，作用是提取相匹配的字符串，使量词作用于分组 比如<code>hehe{3}</code>是把<code>e</code>匹配了3次而不是单词，如果希望作用于单词，可以使用分组<code>(hehe){3}</code></p> <h4 id="或"><a href="#或" aria-hidden="true" class="header-anchor">#</a> 或</h4> <p>分组中使用 <code>|</code> 可以达到<strong>或</strong>的效果 比如：<code>T(oo|ii)m</code>可以匹配 Toom 和 Tiim</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token template-string"><span class="token string">`abToomhaTiimmm`</span></span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/T(oo|ii)m/g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>                <span class="token comment">// ab-ha-mm</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="反向引用"><a href="#反向引用" aria-hidden="true" class="header-anchor">#</a> 反向引用</h4> <p>使用<code>( )</code>后可以使用<code>$1</code>-<code>$9</code>等来匹配</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'2018-02-11'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{4})\-(\d{2})\-(\d{2})/g</span><span class="token punctuation">,</span> <span class="token string">'$2/$3/$1'</span><span class="token punctuation">)</span>            
<span class="token comment">//  02/11/2018</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="后向引用"><a href="#后向引用" aria-hidden="true" class="header-anchor">#</a> 后向引用</h4> <p><code>\n</code> 表示后向引用，<code>\1</code>是指在正则表达式中，从左往右数第1个<code>( )</code>中的内容；以此类推，<code>\2</code>表示第2个<code>( )</code>，<code>\0</code>表示整个表达式。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//匹配日期格式，表达式中的\1代表重复(\-|\/|.)</span>
<span class="token keyword">var</span> rgx <span class="token operator">=</span> <span class="token regex">/\d{4}(\-|\/|.)\d{1,2}\1\d{1,2}/</span>
rgx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;2016-03-26&quot;</span><span class="token punctuation">)</span>             <span class="token comment">// true</span>
rgx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;2016-03.26&quot;</span><span class="token punctuation">)</span>             <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>后向引用和反向引用的区别是：<strong><code>\n</code>只能用在表达式中，而<code>$n</code>只能用在表达式之外的地方。</strong></p> <h4 id="分组命名-es9"><a href="#分组命名-es9" aria-hidden="true" class="header-anchor">#</a> 分组命名 (ES9)</h4> <p><strong>ES2018</strong> 之前的分组是通过数字命名的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex">/(\d{4})-(\d{2})-(\d{2})/u</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'2018-10-25'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印&quot;2018-10-25&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印&quot;2018&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印&quot;10&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打印&quot;25&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>现在可以通过指定分组的名称，增加代码可读性，便于维护：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex">/(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/u</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'2018-10-25'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 打印&quot;2018&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>month<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 打印&quot;10&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>groups<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 打印&quot;25&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>分组命名还可以和<code>String.prototype.replace</code>方法结合：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reDate <span class="token operator">=</span> <span class="token regex">/(?&lt;year&gt;\d{4})-(?&lt;month&gt;\d{2})-(?&lt;day&gt;\d{2})/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token string">'2018-10-25'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> USADate <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reDate<span class="token punctuation">,</span> <span class="token string">'$&lt;month&gt;-$&lt;day&gt;-$&lt;year&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>USADate<span class="token punctuation">)</span><span class="token punctuation">;</span>						<span class="token comment">// 10-25-2018</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="忽略分组"><a href="#忽略分组" aria-hidden="true" class="header-anchor">#</a> 忽略分组</h4> <p>如果不希望捕获某些分组，在分组内加上<code>?:</code>即可 比如<code>(?:tom).(ok)</code>那么这里<code>$1</code>指的就是ok</p> <h4 id="前瞻"><a href="#前瞻" aria-hidden="true" class="header-anchor">#</a> 前瞻</h4> <p><strong>前瞻</strong> Lookahead 是RegExp匹配到规则的时候，向后检查是否符合断言，后顾JS目前不支持 (ES2018已经支持)</p> <table><thead><tr><th>名称</th> <th>正则</th> <th>描述</th></tr></thead> <tbody><tr><td>正向前瞻</td> <td><code>(?= )</code></td> <td>后面要有xx</td></tr> <tr><td>负向前瞻</td> <td><code>(?! )</code></td> <td>后面不能有xx</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'1a2bc*456v8'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\w(?=\d)/g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>        <span class="token comment">//  1-2bc*--6-8    匹配后面是数字的单词字符</span>
<span class="token string">'1a2bc*456v8'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\w(?!\d)/g</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>               <span class="token comment">//  -a---*45-v-    匹配后面不是数字的单词字符</span>
 
<span class="token keyword">const</span> pattern1 <span class="token operator">=</span> <span class="token regex">/\d+(?= dollars)/u</span><span class="token punctuation">;</span>             <span class="token comment">// 正向前瞻，匹配字符串中紧跟着是dollars的数字</span>
<span class="token keyword">const</span> result1 <span class="token operator">=</span> pattern1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'42 dollars'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                                    <span class="token comment">// 打印42</span>
 
<span class="token keyword">const</span> pattern2 <span class="token operator">=</span> <span class="token regex">/\d+(?! dollars)/u</span><span class="token punctuation">;</span>           <span class="token comment">// 负向前瞻，匹配字符串中紧跟着的不是dollars的数字</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> pattern2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'42 pesos'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                     <span class="token comment">// 打印42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>(?=exp)</code>匹配一个位置，这个位置的右边能匹配表达式exp，注意这个表达式仅仅匹配一个位置，只是它对于这个位置的右边有要求，而右边的东西是不会被放进结果的，比如用<code>read(?=ing)</code>去匹配&quot;reading&quot;，结果是&quot;read&quot;，而&quot;ing&quot;是不会放进结果的。</p> <p>举个栗子，对密码应用以下限制：其长度必须介于 4 到 8 个字符之间，并且必须至少包含一个数字，正则是<code>/^(?=.*\d).{4,8}$/</code></p> <h4 id="后顾-es9"><a href="#后顾-es9" aria-hidden="true" class="header-anchor">#</a> 后顾 (ES9)</h4> <p><strong>后顾</strong> Lookbehind 是RegExp匹配到规则的时候，向前检查是否符合断言</p> <table><thead><tr><th>名称</th> <th>正则</th> <th>描述</th></tr></thead> <tbody><tr><td>正向后顾</td> <td><code>(?&lt;= )</code></td> <td>前面要有xx</td></tr> <tr><td>负向后顾</td> <td><code>(?&lt;! )</code></td> <td>前面不能有xx</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> pattern1 <span class="token operator">=</span> <span class="token regex">/(?&lt;=\$)\d+/u</span><span class="token punctuation">;</span>           <span class="token comment">// 正向后顾，匹配字符串中前面是\$的数字</span>
<span class="token keyword">const</span> result1 <span class="token operator">=</span> pattern1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'$42'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 打印42 </span>
 
<span class="token keyword">const</span> pattern2 <span class="token operator">=</span> <span class="token regex">/(?&lt;!\$)\d+/u</span><span class="token punctuation">;</span>           <span class="token comment">// 负向后顾，匹配字符串中前面不是是\$的数字</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> pattern2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'€42'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 打印42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-6-贪婪模式-与-非贪婪模式"><a href="#_2-6-贪婪模式-与-非贪婪模式" aria-hidden="true" class="header-anchor">#</a> 2.6 贪婪模式 与 非贪婪模式</h3> <p>😄正则表达式在匹配的时候默认会尽可能多的匹配，叫<strong>贪婪模式</strong>。通过在限定符后加<code>?</code>可以进行非贪婪匹配 比如<code>\d{3,6}</code>默认会匹配6个数字而不是3个，在量词<code>{ }</code>后加一个<code>?</code>就可以修改成<strong>非贪婪模式</strong>，匹配3次</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token template-string"><span class="token string">`12345678`</span></span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\d{3,6}/</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>                <span class="token comment">// -78</span>
<span class="token template-string"><span class="token string">`12345678`</span></span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\d{3,6}?/</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>                <span class="token comment">// -45678</span>
<span class="token string">'abbbb'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/ab+?/</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">)</span>                <span class="token comment">//  -bbb</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-7-优先级"><a href="#_2-7-优先级" aria-hidden="true" class="header-anchor">#</a> 2.7 优先级</h3> <div class="tip custom-block"><p class="custom-block-title">优先级从高到低：</p> <ol><li>转义 <code>\</code></li> <li>括号<code>( )</code>、<code>(?: )</code>、<code>(?= )</code>、<code>[ ]</code></li> <li>字符和位置</li> <li>或 <code>|</code></li></ol></div> <h2 id="_3-常用属性与方法"><a href="#_3-常用属性与方法" aria-hidden="true" class="header-anchor">#</a> 3. 常用属性与方法</h2> <h3 id="_3-1-regexp构造函数属性"><a href="#_3-1-regexp构造函数属性" aria-hidden="true" class="header-anchor">#</a> 3.1 RegExp构造函数属性</h3> <p>RegExp构造函数上也包含一些属性，这些属性适用于作用域中所有的正则表达式，并且基于所执行的最近一次正则表达式操作而变化，这些属性分别有一个长属性名和短属性名</p> <table><thead><tr><th>长属性名</th> <th>短属性名</th> <th>描述</th></tr></thead> <tbody><tr><td>input</td> <td><code>$_</code></td> <td>返回执行规范表述查找的字符串。只读</td></tr> <tr><td>lastMatch</td> <td><code>$&amp;</code></td> <td>返回任何正则表达式搜索过程中的最后匹配的字符。只读</td></tr> <tr><td>lastParen</td> <td><code>$+</code></td> <td>如果有的话，返回任何正则表达式查找过程中最后括的子(分组)匹配。只读</td></tr> <tr><td>leftContext</td> <td><code>$\</code></td> <td>返回被查找的字符串中从字符串开始位置到最后匹配之前的位置之间的字符。只读</td></tr> <tr><td>rightContext</td> <td><code>$'</code></td> <td>返回被搜索的字符串中从最后一个匹配位置开始到字符串结尾之间的字符。只读</td></tr></tbody></table> <h3 id="_3-2-regexp实例上的属性"><a href="#_3-2-regexp实例上的属性" aria-hidden="true" class="header-anchor">#</a> 3.2 RegExp实例上的属性</h3> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td>global</td> <td>是否全文搜索，默认<code>false</code>，对应修饰符的<code>g</code>，只读</td></tr> <tr><td>ignoreCase</td> <td>是否大小写敏感，默认<code>false</code>，对应修饰符<code>i</code>，只读</td></tr> <tr><td>multiline</td> <td>是否多行搜索，默认<code>false</code>，对应修饰符<code>m</code>，只读</td></tr> <tr><td>flags</td> <td>返回修饰符，只读</td></tr> <tr><td>lastIndex</td> <td>当前表达式匹配内容的最后一个字符的下一个位置</td></tr> <tr><td>source</td> <td>正则表达式的文本字符串</td></tr></tbody></table> <h3 id="_3-3-常用方法"><a href="#_3-3-常用方法" aria-hidden="true" class="header-anchor">#</a> 3.3 常用方法</h3> <h4 id="regexp-prototype-test-str"><a href="#regexp-prototype-test-str" aria-hidden="true" class="header-anchor">#</a> RegExp.prototype.test(str)</h4> <p>测试字符串参数中是否存在匹配正则表达式的字符串，使用.test的时候如果修饰符有<code>g</code>，那么会正则会记住lastIndex并在下一次执行的时候从lastIndex处开始检测，如果只是为了测试是否符合正则，可以不用<code>g</code>或者每次都重新实例化正则表达式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> reg<span class="token operator">=</span><span class="token regex">/\w/g</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>                              <span class="token comment">//  true</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>                               <span class="token comment">//  false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="regexp-prototype-exec-str"><a href="#regexp-prototype-exec-str" aria-hidden="true" class="header-anchor">#</a> RegExp.prototype.exec(str)</h4> <p>使用正则表达式对字符串执行搜索，并将更新全局RegExp对象的属性以反映匹配结果</p> <p>如果匹配失败，exec() 方法返回 null</p> <p>如果匹配成功，exec() 方法返回一个数组，并更新正则表达式对象的属性</p> <ul><li>数组索引0：匹配的全部字符串</li> <li>数组索引1,2..n：括号中的分组捕获</li> <li>index：属性是匹配文本的第一个字符的位置</li> <li>input：存放被检索的字符串</li></ul> <p>要注意的是：</p> <ol><li>exec()永远只返回一个匹配项（指匹配整个正则的）</li> <li>如果设置了g修饰符，每次调用exec()会在字符串中继续查找新匹配项，不设置g修饰符，对一个字符串每次调用exec()永远只返回第一个匹配项。所以如果要匹配一个字符串中的所有需要匹配的地方，那么可以设置g修饰符，然后通过循环不断调用exec方法。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//匹配所有ing结尾的单词</span>
<span class="token keyword">const</span> str<span class="token operator">=</span><span class="token string">&quot;Reading and Writing&quot;</span>
<span class="token keyword">const</span> pattern<span class="token operator">=</span><span class="token regex">/\b([a-zA-Z]+)ing\b/g</span>
<span class="token keyword">let</span> matches
<span class="token keyword">while</span><span class="token punctuation">(</span>matches<span class="token operator">=</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index <span class="token operator">+</span><span class="token string">' '</span><span class="token operator">+</span> matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>input<span class="token punctuation">)</span> <span class="token comment">//Reading and Writing</span>
<span class="token comment">// 0 Reading Read</span>
<span class="token comment">// 12 Writing Writ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="string-prototype-search-reg"><a href="#string-prototype-search-reg" aria-hidden="true" class="header-anchor">#</a> String.prototype.search(reg)</h4> <p>search() 方法用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串 方法返回第一个匹配结果的index，查找不到返回-1 search() 方法不执行全局匹配，它将忽略修饰符g，并且总是从字符串的开始进行检索</p> <h4 id="string-prototype-split-reg"><a href="#string-prototype-split-reg" aria-hidden="true" class="header-anchor">#</a> String.prototype.split(reg)</h4> <p>split() 方法一般用来分割字符串成数组，也可以传入正则表达式，使用正则可以避免一些传入字符串解决不了的问题</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'a1b2c3d4e'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/\d/</span><span class="token punctuation">)</span>                   <span class="token comment">//  [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]</span>
<span class="token string">'a b   c'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span>                        <span class="token comment">// ['a', 'b', '', '', 'c']   无法识别连续空格</span>
<span class="token string">'a b   c'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/\s*/</span><span class="token punctuation">)</span>                      <span class="token comment">// ['a', 'b', 'c']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="string-prototype-match-reg"><a href="#string-prototype-match-reg" aria-hidden="true" class="header-anchor">#</a> String.prototype.match(reg)</h4> <p>match() 方法将检索字符串，以找到一个或多个与reg相匹配的文本，reg是否有修饰符<code>g</code>影响很大 返回值与<code>RegExp.prototype.exec</code>的返回类似，不过只返回匹配的字符串数组</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>'cdbbdbsdbdbzddzdbbbd'.match(/d(b+)d/g)              //   [&quot;dbbd&quot;, &quot;dbd&quot;, &quot;dbbbd&quot;]
'cdbbdbsdbdbzddzdbbbd'.match(/d(b+)d/)             //   [&quot;dbbd&quot;, &quot;bb&quot;, index: 1, input: &quot;cdbbdbsdbdbzddzdbbbd&quot;]
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>如果修饰符有<code>g</code>则匹配出所有匹配的数组，如果不是，则出第一个匹配的字符串，以及相应的捕获内容</p> <h4 id="string-prototype-replace-reg-str-num-function"><a href="#string-prototype-replace-reg-str-num-function" aria-hidden="true" class="header-anchor">#</a> String.prototype. replace (reg, str | num | function)</h4> <p>找到匹配并替换，传入string、number比较常见，这里传入回调function是比较高级的用法，这里可以参考<a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FString%2Freplace%23%E6%8C%87%E5%AE%9A%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>比如一个场景，把手机号的中间4位换成*</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>function validateMobile(str) {
  return /^[1][0-9]{10}$/.test(str) &amp;&amp;
      str.replace(/(\d{3})(\d{4})(\d{4})/, (rs, $1, $2, $3) =&gt; `${$1}****${$3}`)
}
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>也可以不返回值，用回调来遍历，比如一个在面试中会遇到的问题：找出重复最多的字符</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>let str = 'asss23sjdssskssa7lsssdkjsssdss'
 
const arr = str.split(/\s*/)              // 把字符串转换为数组
const str2 = arr.sort().join('')               // 首先进行排序，这样结果会把相同的字符放在一起，然后再转换为字符串
 
let value = ''
let index = 0
str2.replace(/(\w)\1*/g, function($0, $1) {         //匹配字符
  if (index &lt; $0.length) {
    index = $0.length                   // index是出现次数
    value = $1                              // value是对应字符
  }
})
 
console.log(`最多的字符: ${value} ,重复的次数: ${index}`)          // s   17
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>作者：SHERlocked93</p> <p>链接：https://juejin.im/post/5b61b0f86fb9a04fd343af8f</p> <p>来源：掘金著作权归作者所有。</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.d23737eb.js" defer></script><script src="/assets/js/65.ec3b8071.js" defer></script>
  </body>
</html>
