<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1 什么是DOM | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.b8bd58f1.css" as="style"><link rel="preload" href="/assets/js/app.29c409b0.js" as="script"><link rel="preload" href="/assets/js/7.dd16c015.js" as="script"><link rel="prefetch" href="/assets/js/10.c433b941.js"><link rel="prefetch" href="/assets/js/11.58fa2c63.js"><link rel="prefetch" href="/assets/js/12.df5475c2.js"><link rel="prefetch" href="/assets/js/13.41d08b96.js"><link rel="prefetch" href="/assets/js/14.e3057cd4.js"><link rel="prefetch" href="/assets/js/15.205c88f3.js"><link rel="prefetch" href="/assets/js/16.017642ee.js"><link rel="prefetch" href="/assets/js/17.bc927fa9.js"><link rel="prefetch" href="/assets/js/18.acfc7836.js"><link rel="prefetch" href="/assets/js/19.e98cd9aa.js"><link rel="prefetch" href="/assets/js/2.4a58f76b.js"><link rel="prefetch" href="/assets/js/20.824dcc7f.js"><link rel="prefetch" href="/assets/js/21.34c60ffc.js"><link rel="prefetch" href="/assets/js/22.9cca80e4.js"><link rel="prefetch" href="/assets/js/23.d9f94acd.js"><link rel="prefetch" href="/assets/js/24.ab71a30c.js"><link rel="prefetch" href="/assets/js/25.79df3304.js"><link rel="prefetch" href="/assets/js/26.f3483d31.js"><link rel="prefetch" href="/assets/js/27.a37e406a.js"><link rel="prefetch" href="/assets/js/28.4e55ec8d.js"><link rel="prefetch" href="/assets/js/29.9fd34570.js"><link rel="prefetch" href="/assets/js/3.b186eff5.js"><link rel="prefetch" href="/assets/js/30.e508f399.js"><link rel="prefetch" href="/assets/js/31.55a6e3ed.js"><link rel="prefetch" href="/assets/js/32.4a3aab84.js"><link rel="prefetch" href="/assets/js/33.06bb0f63.js"><link rel="prefetch" href="/assets/js/34.e1391ab5.js"><link rel="prefetch" href="/assets/js/35.28673c9a.js"><link rel="prefetch" href="/assets/js/36.1d49f4a1.js"><link rel="prefetch" href="/assets/js/37.a8655aa5.js"><link rel="prefetch" href="/assets/js/38.2de28a47.js"><link rel="prefetch" href="/assets/js/39.3cb80cc3.js"><link rel="prefetch" href="/assets/js/4.8a9ecca9.js"><link rel="prefetch" href="/assets/js/40.a4843f87.js"><link rel="prefetch" href="/assets/js/41.3afaccd5.js"><link rel="prefetch" href="/assets/js/42.67c05d6b.js"><link rel="prefetch" href="/assets/js/43.0e3a1faf.js"><link rel="prefetch" href="/assets/js/44.fe39fe73.js"><link rel="prefetch" href="/assets/js/45.25b051b5.js"><link rel="prefetch" href="/assets/js/46.71bf6ffe.js"><link rel="prefetch" href="/assets/js/47.e88e74b5.js"><link rel="prefetch" href="/assets/js/48.fcd6786b.js"><link rel="prefetch" href="/assets/js/49.5379d566.js"><link rel="prefetch" href="/assets/js/5.3285a9a3.js"><link rel="prefetch" href="/assets/js/50.c3a88b26.js"><link rel="prefetch" href="/assets/js/51.5d229e3b.js"><link rel="prefetch" href="/assets/js/52.07d764b4.js"><link rel="prefetch" href="/assets/js/53.98ecd027.js"><link rel="prefetch" href="/assets/js/54.49423f94.js"><link rel="prefetch" href="/assets/js/55.cf4344ce.js"><link rel="prefetch" href="/assets/js/56.540842ce.js"><link rel="prefetch" href="/assets/js/57.132ef040.js"><link rel="prefetch" href="/assets/js/58.e61bcd18.js"><link rel="prefetch" href="/assets/js/59.7b8b2983.js"><link rel="prefetch" href="/assets/js/6.1b0a2126.js"><link rel="prefetch" href="/assets/js/60.6cb0f549.js"><link rel="prefetch" href="/assets/js/61.0b042109.js"><link rel="prefetch" href="/assets/js/62.db36bb7d.js"><link rel="prefetch" href="/assets/js/63.20380201.js"><link rel="prefetch" href="/assets/js/64.b60ced94.js"><link rel="prefetch" href="/assets/js/65.d97aa235.js"><link rel="prefetch" href="/assets/js/66.0c45e330.js"><link rel="prefetch" href="/assets/js/67.83cd06cb.js"><link rel="prefetch" href="/assets/js/68.64334445.js"><link rel="prefetch" href="/assets/js/69.df1c8983.js"><link rel="prefetch" href="/assets/js/70.e1ad4c69.js"><link rel="prefetch" href="/assets/js/71.ab6c0a50.js"><link rel="prefetch" href="/assets/js/72.cbbdd000.js"><link rel="prefetch" href="/assets/js/73.b1ab67e9.js"><link rel="prefetch" href="/assets/js/74.80fdd8db.js"><link rel="prefetch" href="/assets/js/75.fd9501f0.js"><link rel="prefetch" href="/assets/js/76.9456eba0.js"><link rel="prefetch" href="/assets/js/77.69c00cf3.js"><link rel="prefetch" href="/assets/js/78.de5dccee.js"><link rel="prefetch" href="/assets/js/79.895e276e.js"><link rel="prefetch" href="/assets/js/8.bdc924aa.js"><link rel="prefetch" href="/assets/js/80.a7b6e702.js"><link rel="prefetch" href="/assets/js/81.693d5eb4.js"><link rel="prefetch" href="/assets/js/82.b573a6ac.js"><link rel="prefetch" href="/assets/js/83.ff5f9b6d.js"><link rel="prefetch" href="/assets/js/84.fcaa660d.js"><link rel="prefetch" href="/assets/js/85.a79a7b12.js"><link rel="prefetch" href="/assets/js/86.85e8aed1.js"><link rel="prefetch" href="/assets/js/87.0b950e36.js"><link rel="prefetch" href="/assets/js/88.52da4830.js"><link rel="prefetch" href="/assets/js/89.8d52faa5.js"><link rel="prefetch" href="/assets/js/9.4b16e7e8.js"><link rel="prefetch" href="/assets/js/90.0faa4bf9.js"><link rel="prefetch" href="/assets/js/91.db6803b8.js"><link rel="prefetch" href="/assets/js/92.05c17cdc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8bd58f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/font/JS/this、new、apply、call与bind.html" class="sidebar-link">this、new、apply、call与bind</a></li><li><a href="/font/JS/JS单线程、异步、同步.html" class="sidebar-link">JS单线程、异步、同步</a></li><li><a href="/font/JS/常用正则表达式备忘录.html" class="sidebar-link">常用正则表达式备忘录</a></li><li><a href="/font/JS/Object.defineProperty与Proxy理解整理.html" class="sidebar-link">Object.defineProperty与Proxy理解整理</a></li><li><a href="/font/JS/柯里化.html" class="sidebar-link">柯里化</a></li><li><a href="/font/JS/JS技巧.html" class="sidebar-link">JS技巧</a></li><li><a href="/font/JS/闭包.html" class="sidebar-link">闭包</a></li><li><a href="/font/JS/作用域与作用域链.html" class="sidebar-link">作用域与作用域链</a></li><li><a href="/font/JS/JS运行机制总结.html" class="sidebar-link">JS运行机制总结</a></li><li><a href="/font/JS/赋值、浅拷贝与深拷贝.html" class="sidebar-link">赋值、浅拷贝与深拷贝</a></li><li><a href="/font/JS/构造函数、原型、继承和原型链.html" class="sidebar-link">构造函数、原型、继承和原型链</a></li><li><a href="/font/JS/原生JS知识.html" class="sidebar-link">原生JS知识</a></li><li><a href="/font/JS/防抖与节流.html" class="sidebar-link">防抖与节流</a></li><li><a href="/font/JS/类型转换比较问题.html" class="sidebar-link">类型转换比较问题</a></li><li><a href="/font/JS/JS中有趣的事实.html" class="sidebar-link">JS中有趣的事实</a></li><li><a href="/font/JS/正则表达式必知必会.html" class="sidebar-link">正则表达式必知必会</a></li><li><a href="/font/JS/空对象与空数组相加问题.html" class="sidebar-link">空对象与空数组相加问题</a></li><li><a href="/font/JS/JS面试题.html" class="sidebar-link">JS面试题</a></li><li><a href="/font/JS/JS零散知识整理.html" class="sidebar-link">JS零散知识整理</a></li><li><a href="/font/JS/前端模块化.html" class="sidebar-link">前端模块化</a></li><li><a href="/font/JS/JS操作DOM常用API总结.html" class="active sidebar-link">JS操作DOM常用API总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_1-什么是dom" class="sidebar-link">1 什么是DOM</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_2-如何访问dom" class="sidebar-link">2 如何访问DOM</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_3-node" class="sidebar-link">3 Node</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_4-节点创建型api" class="sidebar-link">4 节点创建型API</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_5-页面修改型api" class="sidebar-link">5 页面修改型API</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_6-节点查询型api" class="sidebar-link">6 节点查询型API</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_7-节点关系型api" class="sidebar-link">7 节点关系型API</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_8-元素属性型api" class="sidebar-link">8 元素属性型API</a></li><li class="sidebar-sub-header"><a href="/font/JS/JS操作DOM常用API总结.html#_9-元素样式型api" class="sidebar-link">9 元素样式型API</a></li></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器网络</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><p>作者：YyzclYang</p> <p>链接：https://juejin.im/post/5af43bd5f265da0b8336c6f7</p> <p>来源：掘金著作权归作者所有。</p> <h2 id="_1-什么是dom"><a href="#_1-什么是dom" aria-hidden="true" class="header-anchor">#</a> 1 什么是DOM</h2> <p>文档对象模型 (DOM) 是HTML和XML文档的<strong>编程接口</strong>。它提供了对文档的结构化的表述，并定义了一种方式可以使从程序中对该结构进行访问，从而改变文档的结构，样式和内容。
<strong>文档对象模型 (DOM)</strong> 是对HTML文件的另一种展示，通俗地说，一个HTML 文件，我们可以用编辑器以代码的形式展示它，也可以用浏览器以页面的形式展示它，同一份文件通过不同的展示方式，就有了不一样的表现形式。而DOM 将文档解析为一个由节点和对象（包含属性和方法的对象）组成的结构集合。简言之，它会将web页面和脚本或程序语言连接起来，我们可以使用脚本或者程序语言通过DOM 来改变或者控制web页面。</p> <h2 id="_2-如何访问dom"><a href="#_2-如何访问dom" aria-hidden="true" class="header-anchor">#</a> 2 如何访问DOM</h2> <p>我们可以通过JavaScript 来调用<code>document</code>和<code>window</code>元素的API来操作文档或者获取文档的信息。</p> <h2 id="_3-node"><a href="#_3-node" aria-hidden="true" class="header-anchor">#</a> 3 Node</h2> <p>Node 是一个接口，有许多接口都从Node 继承方法和属性： <code>Document</code>, <code>Element</code>, <code>CharacterData (which Text, Comment, and CDATASection inherit)</code>, <code>ProcessingInstruction</code>, <code>DocumentFragment</code>, <code>DocumentType</code>, <code>Notation</code>, <code>Entity</code>, <code>EntityReference</code>。 Node 有一个<code>nodeType</code>的属性表示Node 的类型，是一个整数，不同的值代表不同的节点类型。具体如下表所示：</p> <p><strong>节点类型常量</strong></p> <table><thead><tr><th>常量</th> <th style="text-align:center">值</th> <th style="text-align:left">描述</th></tr></thead> <tbody><tr><td><code>Node.ELEMENT_NODE</code></td> <td style="text-align:center">1</td> <td style="text-align:left">一个元素节点，例如 <code>&lt;p&gt;</code> 和 <code>&lt;div&gt;</code></td></tr> <tr><td><code>Node.TEXT_NODE</code></td> <td style="text-align:center">3</td> <td style="text-align:left"><code>Element</code> 或者 <code>Attr</code> 中实际的文字</td></tr> <tr><td><code>Node.PROCESSING_INSTRUCTION_NODE</code></td> <td style="text-align:center">7</td> <td style="text-align:left">一个用于XML文档的 <code>ProcessingInstruction</code> ，例如 <code>&lt;?xml-stylesheet ... ?&gt;</code> 声明</td></tr> <tr><td><code>Node.COMMENT_NODE</code></td> <td style="text-align:center">8</td> <td style="text-align:left">一个 <code>Comment</code> 节点</td></tr> <tr><td><code>Node.DOCUMENT_NODE</code></td> <td style="text-align:center">9</td> <td style="text-align:left">一个 <code>Document</code> 节点</td></tr> <tr><td><code>Node.DOCUMENT_TYPE_NODE</code></td> <td style="text-align:center">10</td> <td style="text-align:left">描述文档类型的 <code>DocumentType</code> 节点。例如 <code>&lt;!DOCTYPE html&gt;</code>  就是用于 HTML5 的</td></tr> <tr><td><code>Node.DOCUMENT_FRAGMENT_NODE</code></td> <td style="text-align:center">11</td> <td style="text-align:left">一个 <code>DocumentFragment</code> 节点</td></tr></tbody></table> <p><strong>已弃用的节点类型常量</strong></p> <table><thead><tr><th>常量</th> <th style="text-align:center">值</th> <th style="text-align:left">描述</th></tr></thead> <tbody><tr><td><code>Node.ATTRIBUTE_NODE</code></td> <td style="text-align:center">2</td> <td style="text-align:left">元素的耦合属性。在DOM4 规范里<code>Node</code> 接口将不再实现这个元素属性</td></tr> <tr><td><code>Node.CDATA_SECTION_NODE</code></td> <td style="text-align:center">4</td> <td style="text-align:left">一个<code>CDATASection</code>。在DOM4 规范里被移除</td></tr> <tr><td><code>Node.ENTITY_REFERENCE_NODE</code></td> <td style="text-align:center">5</td> <td style="text-align:left">一个XML 实体引用节点。在DOM4 规范里被移除</td></tr> <tr><td><code>Node.ENTITY_NODE</code></td> <td style="text-align:center">6</td> <td style="text-align:left">一个XML <code>&lt;!ENTITY ...&gt;</code>节点。在DOM4 规范中被移除</td></tr> <tr><td><code>Node.NOTATION_NODE</code></td> <td style="text-align:center">12</td> <td style="text-align:left">一个XML <code>&lt;!NOTATION ...&gt;</code>节点。在DOM4 规范里被移除</td></tr></tbody></table> <p>假设我们要判断一个Node 是不是一个<code>元素</code>，通过查表可知<code>元素</code>的<code>nodeType</code>属性值为1，代码可以这么写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token constant">X</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'X 是一个元素'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在Node 类型中，比较常用的就是<code>element</code>，<code>text</code>，<code>comment</code>，<code>document</code>，<code>document_fragment</code>这几种类型。</p> <h3 id="_3-1-element"><a href="#_3-1-element" aria-hidden="true" class="header-anchor">#</a> 3.1 Element</h3> <p>Element提供了对元素标签名，子节点和特性的访问，我们常用HTML元素比如<code>div</code>，<code>span</code>，<code>a</code>等标签就是<code>element</code>中的一种。</p> <div class="tip custom-block"><p class="custom-block-title">Element有下面几条特性：</p> <ul><li>nodeType为1</li> <li><strong>nodeName为元素标签名，tagName也是返回标签名</strong></li> <li><strong>nodeValue为null</strong></li> <li>parentNode可能是Document或Element</li> <li>子节点可能是Element，Text，Comment，Processing_Instruction，CDATASection或EntityReference</li></ul></div> <h3 id="_3-2-text"><a href="#_3-2-text" aria-hidden="true" class="header-anchor">#</a> 3.2 Text</h3> <p>Text表示文本节点，它包含的是纯文本内容，不能包含html代码，但可以包含转义后的html代码。</p> <div class="tip custom-block"><p class="custom-block-title">Text有下面的特性：</p> <ul><li>nodeType为3</li> <li>nodeName为#text</li> <li><strong>nodeValue为文本内容</strong></li> <li><strong>parentNode是一个Element</strong></li> <li>没有子节点</li></ul></div> <h3 id="_3-3-comment"><a href="#_3-3-comment" aria-hidden="true" class="header-anchor">#</a> 3.3 Comment</h3> <p>Comment表示HTML文档中的注释，</p> <div class="tip custom-block"><p class="custom-block-title">它有下面的几种特征：</p> <ul><li>nodeType为8</li> <li>nodeName为#comment</li> <li><strong>nodeValue为注释的内容</strong></li> <li>parentNode可能是Document或Element</li> <li>没有子节点</li></ul></div> <h3 id="_3-4-document"><a href="#_3-4-document" aria-hidden="true" class="header-anchor">#</a> 3.4 Document</h3> <p>Document表示文档，在浏览器中，<code>document</code>对象是HTMLDocument的一个实例，表示整个页面，它同时也是window对象的一个属性。</p> <div class="tip custom-block"><p class="custom-block-title">Document有下面的特性：</p> <ul><li>nodeType为9</li> <li>nodeName为#document</li> <li><strong>nodeValue为null</strong></li> <li><strong>parentNode为null</strong></li> <li>子节点可能是一个DocumentType或Element</li></ul></div> <h3 id="_3-5-documentfragment"><a href="#_3-5-documentfragment" aria-hidden="true" class="header-anchor">#</a> 3.5 DocumentFragment</h3> <p>DocumentFragment是所有节点中唯一一个没有对应标记的类型，它表示一种轻量级的文档，可能当作一个临时的仓库用来保存可能会添加到文档中的节点。</p> <div class="tip custom-block"><p class="custom-block-title">DocumentFragment有下面的特性：</p> <ul><li>nodeType为11</li> <li>nodeName为#document-fragment</li> <li>nodeValue为null</li> <li>parentNode为null</li></ul></div> <h2 id="_4-节点创建型api"><a href="#_4-节点创建型api" aria-hidden="true" class="header-anchor">#</a> 4 节点创建型API</h2> <p>用如其名，这类API是用来创建节点的</p> <h3 id="_4-1-createelement"><a href="#_4-1-createelement" aria-hidden="true" class="header-anchor">#</a> 4.1 createElement</h3> <p><code>createElement</code>通过传入<strong>指定的一个标签名来创建一个元素</strong>，<strong>如果传入的标签名是一个未知的，则会创建一个自定义的标签</strong>，注意：IE8以下浏览器不支持自定义标签。</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用<code>createElement</code>要注意：通过<code>createElement</code>创建的元素<strong>并不属于HTML文档</strong>，它只是创建出来，并未添加到HTML文档中，要调用<code>appendChild</code>或<code>insertBefore</code>等方法将其添加到HTML文档树中。</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">let</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string">'color: red'</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'我是新创建的节点'</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>运行结果为：</p> <p><img src="/assets/img/1567699812129.e22977cd.png" alt="1567699812129"></p> <h3 id="_4-2-createtextnode"><a href="#_4-2-createtextnode" aria-hidden="true" class="header-anchor">#</a> 4.2 createTextNode</h3> <p><code>createTextNode</code>用来<strong>创建一个文本节点</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>createTextNode</code>接收一个参数，这个参数就是文本节点中的文本，和<code>createElement</code>一样，创建后的文本节点也只是独立的一个节点，同样需要<code>appendChild</code>将其添加到HTML文档树中</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;我是文本节点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>运行结果为：</p> <p><img src="/assets/img/1567699838676.94bb9e0e.png" alt="1567699838676"></p> <h3 id="_4-3-clonenode"><a href="#_4-3-clonenode" aria-hidden="true" class="header-anchor">#</a> 4.3 cloneNode</h3> <p><code>cloneNode</code><strong>返回调用该方法的节点的一个副本</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> dupNode <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span>deep<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>😋<code>node</code> 将要被克隆的节点 <code>dupNode</code> 克隆生成的副本节点 <code>deep</code>（可选）是否采用深度克隆,如果为<strong>true</strong>,则该节点的所有后代节点也都会被克隆,如果为<strong>false</strong>,则只克隆该节点本身.</p> <div class="tip custom-block"><p class="custom-block-title">这里有几点要注意：</p> <p>（1）和<code>createElement</code>一样，<code>cloneNode</code>创建的节点<strong>只是游离有HTML文档外的节点</strong>，要调用<code>appendChild</code>方法才能添加到文档树中</p> <p>（2）如果复制的元素有<code>id</code>，则其副本同样会包含该<code>id</code>，<strong>由于<code>id</code>具有唯一性，所以在复制节点后必须要修改其<code>id</code></strong></p> <p>（3）<strong>调用接收的<code>deep</code>参数最好传入</strong>，如果不传入该参数，不同浏览器对其默认值的处理可能不同</p></div> <p><strong>注意</strong>
如果被复制的节点绑定了事件，则副本也会跟着绑定该事件吗？这里要分情况讨论：</p> <p>（1）⭐️<strong>如果是通过addEventListener或者比如onclick进行绑定事件，则副本节点不会绑定该事件</strong></p> <p>（2）⭐️<strong>如果是内联方式绑定比如：<code>&lt;div onclick=&quot;showParent()&quot;&gt;&lt;/div&gt;</code>，这样的话，副本节点同样会触发事件。</strong></p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;parent&quot;</span><span class="token operator">&gt;</span>
    我是父元素的文本
    <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>
        我是子元素
    <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btnCopy&quot;</span><span class="token operator">&gt;</span>复制<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnCopy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">var</span> parent2 <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	parent2<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;parent2&quot;</span><span class="token punctuation">;</span>
  	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>parent2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>运行结果为：</p> <p><img src="/assets/img/1567699948726.419f643e.png" alt="1567699948726"></p> <h3 id="_4-4-createdocumentfragment"><a href="#_4-4-createdocumentfragment" aria-hidden="true" class="header-anchor">#</a> 4.4 createDocumentFragment</h3> <p><code>DocumentFragments</code> 是DOM节点。它们不是主DOM树的一部分。通常的用例是<strong>创建文档片段，将元素附加到文档片段，然后将文档片段附加到DOM树</strong>。在DOM树中，文档片段被其所有的子元素所代替。
因为文档片段存在于内存中，并不在DOM树中，所以将子元素插入到文档片段时<strong>不会引起页面回流</strong>(reflow)(对元素位置和几何上的计算)。因此，使用文档片段<code>document fragments</code> 通常会起到<strong>优化性能</strong>的作用。</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">let</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>ul id<span class="token operator">=</span><span class="token string">&quot;ul&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">var</span> start <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> li<span class="token punctuation">;</span>
    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        li<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'第'</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'个子节点'</span><span class="token punctuation">;</span>
        fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>运行结果为：</p> <p><img src="/assets/img/1567699984287.f6187b35.png" alt="1567699984287"></p> <h3 id="_4-5-节点创建型api总结"><a href="#_4-5-节点创建型api总结" aria-hidden="true" class="header-anchor">#</a> 4.5 节点创建型API总结</h3> <p>节点创建型API主要包括<code>createElement</code>，<code>createTextNode</code>，<code>cloneNode</code>和<code>createDocumentFragment</code>四个方法，</p> <div class="tip custom-block"><p class="custom-block-title">需要注意下面几点：</p> <p>（1）它们创建的节点只是一个<strong>孤立的</strong>节点，要通过<code>appendChild</code>添加到文档中</p> <p>（2）<code>cloneNode</code>要注意如果被复制的节点<strong>是否包含子节点以及事件绑定</strong>等问题</p> <p>（3）使用<code>createDocumentFragment</code>来<strong>解决添加大量节点时的性能问题</strong></p></div> <h2 id="_5-页面修改型api"><a href="#_5-页面修改型api" aria-hidden="true" class="header-anchor">#</a> 5 页面修改型API</h2> <p>前面我们提到节点创建型API，它们只是创建节点，并没有真正修改到页面内容，而是要调用·appendChild·来将其添加到文档树中。我在这里将这类会修改到页面内容归为一类。
修改页面内容的api主要包括：<code>appendChild</code>，<code>insertBefore</code>，<code>removeChild</code>，<code>replaceChild</code>。</p> <h3 id="_5-1-appendchild"><a href="#_5-1-appendchild" aria-hidden="true" class="header-anchor">#</a> 5.1 appendChild</h3> <p><code>appendChild</code>我们在前面已经用到多次，就是<strong>将指定的节点添加到调用该方法的节点的子元素的末尾</strong>。</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>child节点将会作为parent节点的最后一个子节点。
<code>appendChild</code>这个方法很简单，但是还有有一点需要注意：如果<strong>被添加的节点是一个页面中存在的节点，则执行后这个节点将会添加到指定位置，其原本所在的位置将移除该节点</strong>，也就是说不会同时存在两个该节点在页面上，相当于把这个节点移动到另一个地方。
如果child绑定了事件，被移动时，它依然绑定着该事件。</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;child&quot;</span><span class="token operator">&gt;</span>
    要被添加的节点
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;parent&quot;</span><span class="token operator">&gt;</span>
    要移动的位置
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>		
  <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">&quot;btnMove&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;移动节点&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnMove&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	  <span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567732799981.21f1696e.png" alt="1567732799981"></p> <h3 id="_5-2-insertbefore"><a href="#_5-2-insertbefore" aria-hidden="true" class="header-anchor">#</a> 5.2 insertBefore</h3> <p><code>insertBefore</code><strong>用来添加一个节点到一个参照节点之前</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span>refNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>⭐️<strong><code>parentNode</code>表示新节点被添加后的父节点 <code>newNode</code>表示要添加的节点 <code>refNode</code>表示参照节点，新节点会添加到这个节点之前</strong></p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;parent&quot;</span><span class="token operator">&gt;</span>
    父节点
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;child&quot;</span><span class="token operator">&gt;</span>				
        子元素
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;insertNode&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;插入节点&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;insertNode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">var</span> newNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	newNode<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;新节点&quot;</span>
  	parent<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567733010710.13d46809.png" alt="1567733010710"></p> <div class="tip custom-block"><p class="custom-block-title">关于第二个参数参照节点还有几个注意的地方：</p> <p>（1）<strong>refNode是必传的</strong>，如果不传该参数会报错</p> <p>（2）如果<strong>refNode是undefined或null，则insertBefore会将节点添加到子元素的末尾</strong></p></div> <h3 id="_5-3-removechild"><a href="#_5-3-removechild" aria-hidden="true" class="header-anchor">#</a> 5.3 <a href>removeChild</a></h3> <p><strong>删除指定的子节点并返回</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> deletedChild <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>⭐️<code>deletedChild</code><strong>指向被删除节点的引用</strong>，它等于<code>node</code>，被删除的节点仍然<strong>存在于内存中</strong>，可以对其进行下一步操作。
注意：如果被删除的节点不是其子节点，则程序将会报错。我们可以通过下面的方式来确保可以删除：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">{</span>
    node<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567733185797.230e3574.png" alt="1567733185797"></p> <p>通过节点自己获取节点的父节点，然后将自身删除</p> <h3 id="_5-4-replacechild"><a href="#_5-4-replacechild" aria-hidden="true" class="header-anchor">#</a> 5.4 replaceChild</h3> <p><code>replaceChild</code>用于<strong>使用一个节点替换另一个节点</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  parent<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newChild<span class="token punctuation">,</span>oldChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>⭐️<code>newChild</code>是替换的节点，<strong>可以是新的节点，也可以是页面上的节点</strong>，如果是页面上的节点，则其将被转移到新的位置, <code>oldChild</code>是被替换的节点</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;parent&quot;</span><span class="token operator">&gt;</span>
    父节点
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;child&quot;</span><span class="token operator">&gt;</span>				
        子元素
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;insertNode&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;替换节点&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">var</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;parent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;child&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;insertNode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">var</span> newNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	newNode<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;新节点&quot;</span>
  	parent<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span>child<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567733354765.157665b0.png" alt="1567733354765"></p> <h3 id="_5-5-页面修改型api总结"><a href="#_5-5-页面修改型api总结" aria-hidden="true" class="header-anchor">#</a> 5.5 页面修改型API总结</h3> <p>页面修改型API主要是这四个接口，要注意几个特点：</p> <p>（1）⭐️不管是新增还是替换节点，<strong>如果新增或替换的节点是原本存在页面上的，则其原来位置的节点将被移除</strong>，也就是说同一个节点不能存在于页面的多个位置。</p> <p>（2）⭐️<strong>节点本身绑定的事件不会消失，会一直保留着。</strong></p> <h2 id="_6-节点查询型api"><a href="#_6-节点查询型api" aria-hidden="true" class="header-anchor">#</a> 6 节点查询型API</h2> <h3 id="_6-1-document-getelementbyid"><a href="#_6-1-document-getelementbyid" aria-hidden="true" class="header-anchor">#</a> 6.1 document.getElementById</h3> <p>这个接口很简单，<strong>根据元素id返回元素，返回值是Element类型，如果不存在该元素，则返回null</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">使用这个接口有几点要注意：</p> <p>（1）元素的<strong>Id是大小写敏感的</strong>，一定要写对元素的id</p> <p>（2）HTML文档中<strong>可能存在多个id相同的元素，则返回第一个元素</strong></p> <p>（3）<strong>只从文档中进行搜索元素</strong>，如果创建了一个元素并指定id，但并没有添加到文档中，则这个元素是不会被查找到的</p></div> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">&quot;para1&quot;</span><span class="token operator">&gt;</span>Some text here<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;changeColor('blue');&quot;</span><span class="token operator">&gt;</span>blue<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;changeColor('red');&quot;</span><span class="token operator">&gt;</span>red<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">function</span> <span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token parameter">newColor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;para1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> newColor<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567733565664.017b613c.png" alt="1567733565664"></p> <h3 id="_6-2-document-getelementsbytagname"><a href="#_6-2-document-getelementsbytagname" aria-hidden="true" class="header-anchor">#</a> 6.2 document.getElementsByTagName</h3> <p>⭐️返回一个包括所有<strong>给定标签名称的元素的HTML集合HTMLCollection</strong>。 整个文件结构都会被搜索，包括根节点。返回的 HTML集合是<strong>动态的</strong>, 意味着它可以<strong>自动更新自己来保持和 DOM 树的同步</strong>而不用再次调用<code>document.getElementsByTagName()</code></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>（1）如果要对HTMLCollection集合进行循环操作，<strong>最好将其长度缓存起来</strong>，因为每次循环都会去计算长度，暂时缓存起来可以提高效率</p> <p>（2）<strong>如果没有存在指定的标签，该接口返回的不是null，而是一个空的HTMLCollection</strong></p> <p>（3）<code>name</code>是一个<strong>代表元素的名称的字符串</strong>。<strong>特殊字符 &quot;*&quot; 代表了所有元素。</strong></p></div> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>div1<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>div2<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>	
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;显示数量&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;btnShowCount&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;新增div&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;btnAddDiv&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>	
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">var</span> divList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnAddDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	div<span class="token punctuation">.</span>textContent <span class="token operator">=</span><span class="token string">&quot;div&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>divList<span class="token punctuation">.</span>length<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnShowCount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>divList<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这段代码中有两个按钮，一个按钮是显示HTMLCollection元素的个数，另一个按钮可以新增一个div标签到文档中。前面提到HTMLCollcetion元素是即时的表示<strong>该集合是随时变化的</strong>，也就是是文档中有几个div，它会随时进行变化，当我们新增一个div后，再访问HTMLCollection时，就会包含这个新增的div。</p> <p>运行结果：</p> <p><img src="/assets/img/1567733722341.04dd039a.png" alt="1567733722341"></p> <h3 id="_6-3-document-getelementsbyname"><a href="#_6-3-document-getelementsbyname" aria-hidden="true" class="header-anchor">#</a> 6.3 document.getElementsByName</h3> <p><code>getElementsByName</code>主要是通过<strong>指定的<code>name</code>属性来获取元素</strong>，它返回一个<strong>即时的NodeList对象</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">使用这个接口主要要注意几点：</p> <p>（1）返回对象是一个即时的NodeList，它是<strong>随时变化</strong>的</p> <p>（2）在HTML元素中，<strong>并不是所有元素都有<code>name</code>属性</strong>，比如<code>div</code>是没有<code>name</code>属性的，<strong>但是如果强制设置<code>div</code>的<code>name</code>属性，它也是可以被查找到的</strong></p> <p>（3）在IE中，如果<code>id</code>设置成某个值，然后传入<code>getElementsByName</code>的参数值和id值一样，则这个元素是会被找到的，所以<strong>最好不要设置同样的值给<code>id</code>和<code>name</code></strong></p></div> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
  <span class="token keyword">function</span> <span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">{</span>
   <span class="token keyword">var</span> x<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">&quot;myInput&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">alert</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;myInput&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;20&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;myInput&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;20&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input name<span class="token operator">=</span><span class="token string">&quot;myInput&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> size<span class="token operator">=</span><span class="token string">&quot;20&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> onclick<span class="token operator">=</span><span class="token string">&quot;getElements()&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;How many elements named 'myInput'?&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567734155692.5bc04b13.png" alt="1567734155692"></p> <h3 id="_6-4-document-getelementsbyclassname"><a href="#_6-4-document-getelementsbyclassname" aria-hidden="true" class="header-anchor">#</a> 6.4 document.getElementsByClassName</h3> <p>这个API是根据<strong>元素的class返回一个即时的HTMLCollection</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// or:</span>
  <span class="token keyword">var</span> elements <span class="token operator">=</span> rootElement<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>elements</code>是一个<strong>实时集合</strong>，包含了找到的所有元素</li> <li><code>names</code>是<strong>一个字符串，表示要匹配的类名列表；类名通过空格分隔</strong></li> <li><code>getElementsByClassName</code><strong>可以在任何元素上调用</strong>，不仅仅是<code>document</code>。<strong>调用这个方法的元素将作为本次查找的根元素</strong></li></ul> <p>这个接口有下面几点要注意：</p> <p>（1）返回结果是一个即时的HTMLCollection，会随时根据文档结构变化</p> <p>（2）IE9以下浏览器不支持</p> <p>（3）如果要获取2个以上<code>classname</code>，可传入多个<code>classname</code>，每个用空格相隔，例如</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;test1 test2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例子：</p> <ul><li>获取所有<code>class</code>为 'test' 的元素</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>获取所有<code>class</code>同时包括 'red' 和 'test' 的元素</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'red test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>在<code>id</code>为'main'的元素的子节点中，获取所有<code>class</code>为'test'的元素</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>我们还可以对任意的HTMLCollection 使用<code>Array.prototype</code>的方法，调用时传递HTMLCollection 作为方法的参数。这里我们将查找到所有<code>class</code>为'test'的<code>div</code>元素:</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> testElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> testDivs <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>testElements<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">testElement</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> testElement<span class="token punctuation">.</span>nodeName <span class="token operator">===</span> <span class="token string">'DIV'</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_6-5-document-queryselector和document-queryselectorall"><a href="#_6-5-document-queryselector和document-queryselectorall" aria-hidden="true" class="header-anchor">#</a> 6.5 document.querySelector和document.querySelectorAll</h3> <p>这两个API很相似，通过<a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FLearn%2FCSS%2FIntroduction_to_CSS%2FSelectors" target="_blank" rel="noopener noreferrer">css选择器<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>来查找元素，注意选择器要符合CSS选择器的规则</p> <ul><li><strong>6.5.1 document.querySelector</strong></li></ul> <p>document.querySelector<code>返回第一个匹配的元素，如果没有匹配的元素，则返回</code><strong>null</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selectors<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意，由于返回的是<strong>第一个匹配</strong>的元素，<strong>这个api使用的深度优先搜索来获取元素。</strong></p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span>第三级的span<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>	
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span>			
    同级的第二个div
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;btnGet&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;获取test元素&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnGet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>两个<code>class</code>都包含“test”的元素，一个在文档树的前面，但是它在第三级，另一个在文档树的后面，但它在第一级，通过<code>querySelector</code>获取元素时，它通过深度优先搜索，拿到文档树前面的第三级的元素。 运行结果：</p> <p><img src="/assets/img/1567734616180.69224541.png" alt="1567734616180"></p> <ul><li><strong>6.5.2 document.querySelectorAll</strong> 返回的是<strong>所有匹配的元素，而且可以匹配多个选择符</strong></li></ul> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> elementList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>selectors<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><code>elementList</code>是一个😋<strong>静态</strong>的<code>NodeList</code>类型的对象</li> <li><code>selectors</code>是一个<strong>由逗号连接的包含一个或多个CSS选择器的字符串</strong></li> <li>如果<code>selectors</code>参数中⭐️<strong>包含CSS伪元素,则返回一个空的<code>elementList</code></strong></li></ul> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> matches <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;div.note, div.alert&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>返回一个文档中所有的<code>class</code>为<code>&quot;note&quot;</code>或者<code>&quot;alert&quot;</code>的<code>div</code>元素</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span>
    <span class="token keyword">class</span>为test
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;test&quot;</span><span class="token operator">&gt;</span>
    id为test
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">&quot;btnShow&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;button&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;显示内容&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btnShow&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> elements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;#test,.test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>length <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">&lt;</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token function">alert</span><span class="token punctuation">(</span>elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>	
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这段代码通过<code>querySelectorAll</code>，使用id选择器和class选择器选择了两个元素，并依次输出其内容。</p> <div class="tip custom-block"><p class="custom-block-title">要注意两点：</p> <p>（1）querySelectorAll也是<strong>通过深度优先搜索</strong>，搜索的元素顺序和选择器的顺序无关</p> <p>（2）返回的是一个<strong>非即时</strong>的NodeList，也就是说<strong>结果不会随着文档树的变化而变化</strong></p> <p>兼容性问题：<code>querySelector</code>和<code>querySelectorAll</code>在ie8以下的浏览器不支持。</p></div> <p>运行结果：</p> <p><img src="/assets/img/1567734678757.efdca529.png" alt="1567734678757"></p> <h2 id="_7-节点关系型api"><a href="#_7-节点关系型api" aria-hidden="true" class="header-anchor">#</a> 7 节点关系型API</h2> <p>在html文档中的每个节点之间的关系都可以看成是家谱关系，包含父子关系，兄弟关系等等</p> <h3 id="_7-1-父关系型api"><a href="#_7-1-父关系型api" aria-hidden="true" class="header-anchor">#</a> 7.1 父关系型API</h3> <h4 id="_7-1-1-parentnode"><a href="#_7-1-1-parentnode" aria-hidden="true" class="header-anchor">#</a> 7.1.1 parentNode</h4> <p>每个节点都有一个parentNode属性，它表示<strong>元素的父节点</strong>。Element的父节点可能是Element，Document或DocumentFragment</p> <h4 id="_7-1-2-parentelement"><a href="#_7-1-2-parentelement" aria-hidden="true" class="header-anchor">#</a> 7.1.2 parentElement</h4> <p>返回元素的父元素节点，与parentNode的区别在于，<strong>其父节点必须是一个Element</strong>，如果不是，则返回null</p> <h3 id="_7-2-子关系型appi"><a href="#_7-2-子关系型appi" aria-hidden="true" class="header-anchor">#</a> 7.2 子关系型APPI</h3> <h4 id="_7-2-1-childnodes"><a href="#_7-2-1-childnodes" aria-hidden="true" class="header-anchor">#</a> 7.2.1 childNodes</h4> <p>返回一个<strong>即时的NodeList，表示元素的子节点列表</strong>，子节点可能会包含文本节点，注释节点等</p> <h4 id="_7-2-2-children"><a href="#_7-2-2-children" aria-hidden="true" class="header-anchor">#</a> 7.2.2 children</h4> <p><strong>一个即时的HTMLCollection，子节点都是Element</strong>，IE9以下浏览器不支持 <code>children</code>属性为只读属性，对象类型为HTMLCollection，你可以使用<code>elementNodeReference.children[1].nodeName</code>来获取某个子元素的标签名称</p> <h4 id="_7-2-3-firstchild"><a href="#_7-2-3-firstchild" aria-hidden="true" class="header-anchor">#</a> 7.2.3 firstChild</h4> <p>只读属性返回树中节点的<strong>第一个子节点，如果节点是无子节点，则返回 null</strong></p> <h4 id="_7-2-4-lastchild"><a href="#_7-2-4-lastchild" aria-hidden="true" class="header-anchor">#</a> 7.2.4 lastChild</h4> <p><strong>返回当前节点的最后一个子节点</strong>。如果父节点为一个元素节点，则子节点通常为一个元素节点，或一个文本节点，或一个注释节点。如果没有子节点，则返回<code>null</code></p> <h4 id="_7-2-5-haschildnodes"><a href="#_7-2-5-haschildnodes" aria-hidden="true" class="header-anchor">#</a> 7.2.5 hasChildNodes</h4> <p>返回一个布尔值,表明当前节点<strong>是否包含有子节点.</strong></p> <h3 id="_7-3-兄弟关系型api"><a href="#_7-3-兄弟关系型api" aria-hidden="true" class="header-anchor">#</a> 7.3 兄弟关系型API</h3> <h4 id="_7-3-1-previoussibling"><a href="#_7-3-1-previoussibling" aria-hidden="true" class="header-anchor">#</a> 7.3.1 previousSibling</h4> <p>返回<strong>当前节点的前一个兄弟节点,没有则返回<code>null</code></strong>
Gecko内核的浏览器会在源代码中标签内部有空白符的地方插入一个文本结点到文档中.因此,使用诸如<code>Node.firstChild</code>和<code>Node.previousSibling</code>之类的方法可能会引用到一个空白符文本节点, 而不是使用者所预期得到的节点</p> <h4 id="_7-3-2-previouselementsibling"><a href="#_7-3-2-previouselementsibling" aria-hidden="true" class="header-anchor">#</a> 7.3.2 previousElementSibling</h4> <p><code>previousElementSibling</code>返回<strong>当前元素在其父元素的子元素节点中的前一个元素节点,如果该元素已经是第一个元素节点,则返回<code>null</code>,该属性是只读的</strong>。注意IE9以下浏览器不支持</p> <h4 id="_7-3-3-nextsibling"><a href="#_7-3-3-nextsibling" aria-hidden="true" class="header-anchor">#</a> 7.3.3 nextSibling</h4> <p><code>Node.nextSibling</code>是一个只读属性，<strong>返回其父节点的<code>childNodes</code>列表中紧跟在其后面的节点</strong>，如果指定的节点为最后一个节点，则返回<code>null</code>
Gecko内核的浏览器会在源代码中标签内部有空白符的地方插入一个文本结点到文档中.因此,使用诸如<code>Node.firstChild</code>和<code>Node.previousSibling</code>之类的方法可能会引用到一个空白符文本节点, 而不是使用者所预期得到的节点</p> <h4 id="_7-3-4-nextelementsibling"><a href="#_7-3-4-nextelementsibling" aria-hidden="true" class="header-anchor">#</a> 7.3.4 nextElementSibling</h4> <p><code>nextElementSibling</code>返回<strong>当前元素在其父元素的子元素节点中的后一个元素节点,如果该元素已经是最后一个元素节点,则返回<code>null</code>,该属性是只读的</strong>。注意IE9以下浏览器不支持</p> <h2 id="_8-元素属性型api"><a href="#_8-元素属性型api" aria-hidden="true" class="header-anchor">#</a> 8 元素属性型API</h2> <h3 id="_8-1-setattribute"><a href="#_8-1-setattribute" aria-hidden="true" class="header-anchor">#</a> 8.1 setAttribute</h3> <p><strong>设置指定元素上的一个属性值</strong>。<strong>如果属性已经存在，则更新该值</strong>; 否则将添加一个新的属性用指定的名称和值</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中<code>name</code>是特性名，<code>value</code>是特性值。如果元素不包含该特性，则会创建该特性并赋值。</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span><span class="token operator">&gt;</span><span class="token constant">ABC</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>  
  <span class="token keyword">let</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  div1<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;align&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567736209205.1029183e.png" alt="1567736209205"></p> <p>如果元素本身包含指定的特性名为属性，则可以世界访问属性进行赋值，比如下面两条代码是等价的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  element<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_8-2-getattribute"><a href="#_8-2-getattribute" aria-hidden="true" class="header-anchor">#</a> 8.2 <a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FElement%2FgetAttribute" target="_blank" rel="noopener noreferrer">getAttribute<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p><code>getAttribute()</code><strong>返回元素上一个指定的属性值</strong>。<strong>如果指定的属性不存在，则返回<code>null</code>或<code>&quot;&quot;</code>（空字符</strong>串）</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">let</span> attribute <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span>attributeName<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>attribute</code>是一个包含<code>attributeName</code>属性值的字符串。<code>attributeName</code>是你想要获取的属性值的属性名称</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span><span class="token operator">&gt;</span><span class="token constant">ABC</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>  
  <span class="token keyword">let</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> align <span class="token operator">=</span> div1<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;align&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>align<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>运行结果：</p> <p><img src="/assets/img/1567736277887.fbc7eea5.png" alt="1567736277887"></p> <h3 id="_8-3-removeattribute"><a href="#_8-3-removeattribute" aria-hidden="true" class="header-anchor">#</a> 8.3 removeAttribute</h3> <p><code>removeAttribute()</code>从<strong>指定的元素中删除一个属性</strong></p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  element<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span>attrName<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>attrName</code>是一个字符串，将要从元素中删除的属性名</p> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;div1&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;color:red&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;200px&quot;</span><span class="token operator">&gt;</span><span class="token constant">ABC</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>  
  <span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div1&quot;</span><span class="token punctuation">)</span>
  div<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;style&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在运行之前<code>div</code>有个<code>style=&quot;color:red&quot;</code>的属性，在运行之后这个属性就被删除了</p> <p>运行结果：</p> <p><img src="/assets/img/1567736320501.c677d994.png" alt="1567736320501"></p> <h2 id="_9-元素样式型api"><a href="#_9-元素样式型api" aria-hidden="true" class="header-anchor">#</a> 9 元素样式型API</h2> <h3 id="_9-1-window-getcomputedstyle"><a href="#_9-1-window-getcomputedstyle" aria-hidden="true" class="header-anchor">#</a> 9.1 <a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWindow%2FgetComputedStyle" target="_blank" rel="noopener noreferrer">window.getComputedStyle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p><code>Window.getComputedStyle()</code>方法<strong>给出应用活动样式表后的元素的所有CSS属性的值</strong>，<strong>并解析这些值可能包含的任何基本计算</strong> 假设某个元素并未设置高度而是通过其内容将其高度撑开，这时候要获取它的高度就要用到`getComputedStyle</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> style <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">[</span><span class="token punctuation">,</span> pseudoElt<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>element</code>是要获取的元素，<code>pseudoElt</code>指定一个伪元素进行匹配。
返回的<code>style</code>是一个CSSStyleDeclaration对象。
通过<code>style</code>可以访问到元素计算后的样式</p> <p><img src="/assets/img/1567736878145.e453ba93.png" alt="1567736878145"></p> <h3 id="_9-2-getboundingclientrect"><a href="#_9-2-getboundingclientrect" aria-hidden="true" class="header-anchor">#</a> 9.2 <a href="https://link.juejin.im?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FElement%2FgetBoundingClientRect" target="_blank" rel="noopener noreferrer">getBoundingClientRect<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p><code>getBoundingClientRect</code>用来返回元素的大小以及相对于浏览器可视窗口的位置</p> <p><strong>语法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> clientRect <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>clientRect</code><strong>是一个DOMRect对象，包含left，top，right，bottom，它是相对于可视窗口的距离，滚动位置发生改变时</strong>，它们的值是会发生变化的。除了IE9以下浏览器，还包含元素的height和width等数据</p> <h3 id="_9-3-直接修改元素的样式"><a href="#_9-3-直接修改元素的样式" aria-hidden="true" class="header-anchor">#</a> 9.3 直接修改元素的样式</h3> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'font-size'</span><span class="token punctuation">,</span> <span class="token string">'16px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">removeProperty</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_9-4-动态添加样式规则"><a href="#_9-4-动态添加样式规则" aria-hidden="true" class="header-anchor">#</a> 9.4 动态添加样式规则</h3> <p>例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'body{color:red} #top:hover{background-color: red;color: white;}'</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.29c409b0.js" defer></script><script src="/assets/js/7.dd16c015.js" defer></script>
  </body>
</html>
