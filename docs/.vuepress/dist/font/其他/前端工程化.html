<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Babel的原理是什么? | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.b8bd58f1.css" as="style"><link rel="preload" href="/assets/js/app.e80300b8.js" as="script"><link rel="preload" href="/assets/js/14.fd72de6e.js" as="script"><link rel="prefetch" href="/assets/js/10.ee8f4a87.js"><link rel="prefetch" href="/assets/js/100.335be2c9.js"><link rel="prefetch" href="/assets/js/101.095f7657.js"><link rel="prefetch" href="/assets/js/102.9be07e45.js"><link rel="prefetch" href="/assets/js/103.56d1dd45.js"><link rel="prefetch" href="/assets/js/104.83514ec7.js"><link rel="prefetch" href="/assets/js/11.2c0a3ee9.js"><link rel="prefetch" href="/assets/js/12.3c61c465.js"><link rel="prefetch" href="/assets/js/13.1fd6c1fa.js"><link rel="prefetch" href="/assets/js/15.d0a9a6cf.js"><link rel="prefetch" href="/assets/js/16.3f3d7ea3.js"><link rel="prefetch" href="/assets/js/17.7f129077.js"><link rel="prefetch" href="/assets/js/18.1665a47e.js"><link rel="prefetch" href="/assets/js/19.64e485dd.js"><link rel="prefetch" href="/assets/js/2.12473037.js"><link rel="prefetch" href="/assets/js/20.4b82ce5a.js"><link rel="prefetch" href="/assets/js/21.142ab7fe.js"><link rel="prefetch" href="/assets/js/22.3cc372c7.js"><link rel="prefetch" href="/assets/js/23.eaa35e87.js"><link rel="prefetch" href="/assets/js/24.ebad5a11.js"><link rel="prefetch" href="/assets/js/25.24c1e1af.js"><link rel="prefetch" href="/assets/js/26.ac406c26.js"><link rel="prefetch" href="/assets/js/27.e031670e.js"><link rel="prefetch" href="/assets/js/28.9ac62515.js"><link rel="prefetch" href="/assets/js/29.e892e692.js"><link rel="prefetch" href="/assets/js/3.16c6c8d9.js"><link rel="prefetch" href="/assets/js/30.1f8b3f83.js"><link rel="prefetch" href="/assets/js/31.008f0fab.js"><link rel="prefetch" href="/assets/js/32.00b5996f.js"><link rel="prefetch" href="/assets/js/33.11cbcbbd.js"><link rel="prefetch" href="/assets/js/34.b3c8c496.js"><link rel="prefetch" href="/assets/js/35.6cde299f.js"><link rel="prefetch" href="/assets/js/36.1cc947fa.js"><link rel="prefetch" href="/assets/js/37.013ea82c.js"><link rel="prefetch" href="/assets/js/38.0eb1e924.js"><link rel="prefetch" href="/assets/js/39.24f0c31b.js"><link rel="prefetch" href="/assets/js/4.19714d75.js"><link rel="prefetch" href="/assets/js/40.c5d53d65.js"><link rel="prefetch" href="/assets/js/41.f8fff5a7.js"><link rel="prefetch" href="/assets/js/42.d1afef40.js"><link rel="prefetch" href="/assets/js/43.ac501aa0.js"><link rel="prefetch" href="/assets/js/44.334ee760.js"><link rel="prefetch" href="/assets/js/45.53770e63.js"><link rel="prefetch" href="/assets/js/46.d78e0e07.js"><link rel="prefetch" href="/assets/js/47.66cc8ece.js"><link rel="prefetch" href="/assets/js/48.f241dbab.js"><link rel="prefetch" href="/assets/js/49.4c7d25d8.js"><link rel="prefetch" href="/assets/js/5.0b47af80.js"><link rel="prefetch" href="/assets/js/50.4e55f665.js"><link rel="prefetch" href="/assets/js/51.a240bdb7.js"><link rel="prefetch" href="/assets/js/52.91af45df.js"><link rel="prefetch" href="/assets/js/53.57109bf5.js"><link rel="prefetch" href="/assets/js/54.f5b2fed8.js"><link rel="prefetch" href="/assets/js/55.625dae36.js"><link rel="prefetch" href="/assets/js/56.e611c653.js"><link rel="prefetch" href="/assets/js/57.21c9b267.js"><link rel="prefetch" href="/assets/js/58.ddbcd7ab.js"><link rel="prefetch" href="/assets/js/59.36c441ca.js"><link rel="prefetch" href="/assets/js/6.33441478.js"><link rel="prefetch" href="/assets/js/60.a632bb1d.js"><link rel="prefetch" href="/assets/js/61.f659cd2a.js"><link rel="prefetch" href="/assets/js/62.718a0b39.js"><link rel="prefetch" href="/assets/js/63.a6feaf48.js"><link rel="prefetch" href="/assets/js/64.3a8be603.js"><link rel="prefetch" href="/assets/js/65.c905e664.js"><link rel="prefetch" href="/assets/js/66.d86df139.js"><link rel="prefetch" href="/assets/js/67.a9b7eb15.js"><link rel="prefetch" href="/assets/js/68.b28c879b.js"><link rel="prefetch" href="/assets/js/69.a7f8c137.js"><link rel="prefetch" href="/assets/js/7.4fa5ddfe.js"><link rel="prefetch" href="/assets/js/70.97a39da7.js"><link rel="prefetch" href="/assets/js/71.d79d89f6.js"><link rel="prefetch" href="/assets/js/72.6885324b.js"><link rel="prefetch" href="/assets/js/73.c16e711d.js"><link rel="prefetch" href="/assets/js/74.bc821747.js"><link rel="prefetch" href="/assets/js/75.e2212883.js"><link rel="prefetch" href="/assets/js/76.65c9f619.js"><link rel="prefetch" href="/assets/js/77.6871537f.js"><link rel="prefetch" href="/assets/js/78.80d4194c.js"><link rel="prefetch" href="/assets/js/79.955a49b5.js"><link rel="prefetch" href="/assets/js/8.43cf8d33.js"><link rel="prefetch" href="/assets/js/80.4ebb1da7.js"><link rel="prefetch" href="/assets/js/81.b9e106b3.js"><link rel="prefetch" href="/assets/js/82.633f166c.js"><link rel="prefetch" href="/assets/js/83.e432fbf4.js"><link rel="prefetch" href="/assets/js/84.31570108.js"><link rel="prefetch" href="/assets/js/85.e39018b6.js"><link rel="prefetch" href="/assets/js/86.41e3787e.js"><link rel="prefetch" href="/assets/js/87.d444d422.js"><link rel="prefetch" href="/assets/js/88.268d5961.js"><link rel="prefetch" href="/assets/js/89.5d093cc1.js"><link rel="prefetch" href="/assets/js/9.bfb96b1b.js"><link rel="prefetch" href="/assets/js/90.82f8cab4.js"><link rel="prefetch" href="/assets/js/91.e2e10bbd.js"><link rel="prefetch" href="/assets/js/92.84a7d80a.js"><link rel="prefetch" href="/assets/js/93.8c5a44bb.js"><link rel="prefetch" href="/assets/js/94.4e09a758.js"><link rel="prefetch" href="/assets/js/95.a4d94238.js"><link rel="prefetch" href="/assets/js/96.2dea0f7c.js"><link rel="prefetch" href="/assets/js/97.02747d31.js"><link rel="prefetch" href="/assets/js/98.7df022c0.js"><link rel="prefetch" href="/assets/js/99.fdc20299.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8bd58f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>浏览器网络</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>其他</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/font/其他/Nginx反向代理与负载均衡.html" class="sidebar-link">Nginx反向代理与负载均衡</a></li><li><a href="/font/其他/PC端与移动端开发区别.html" class="sidebar-link">PC端与移动端开发区别</a></li><li><a href="/font/其他/手撕代码.html" class="sidebar-link">手撕代码</a></li><li><a href="/font/其他/实现一个Event.html" class="sidebar-link">实现一个Event</a></li><li><a href="/font/其他/实现深克隆.html" class="sidebar-link">实现深克隆</a></li><li><a href="/font/其他/前端工程化.html" class="active sidebar-link">前端工程化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/font/其他/前端工程化.html#babel的原理是什么" class="sidebar-link">Babel的原理是什么?</a></li><li class="sidebar-sub-header"><a href="/font/其他/前端工程化.html#如何写一个babel插件" class="sidebar-link">如何写一个babel插件?</a></li><li class="sidebar-sub-header"><a href="/font/其他/前端工程化.html#你的git工作流是怎样的" class="sidebar-link">你的git工作流是怎样的?</a></li><li class="sidebar-sub-header"><a href="/font/其他/前端工程化.html#rebase-与-merge的区别" class="sidebar-link">rebase 与 merge的区别?</a></li><li class="sidebar-sub-header"><a href="/font/其他/前端工程化.html#git高级操作" class="sidebar-link">git高级操作</a></li></ul></li><li><a href="/font/其他/单页面SEO问题.html" class="sidebar-link">单页面SEO问题</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="babel的原理是什么"><a href="#babel的原理是什么" aria-hidden="true" class="header-anchor">#</a> Babel的原理是什么?</h2> <p>babel 的转译过程也分为三个阶段，这三步具体是：</p> <ul><li>解析 Parse: 将代码解析生成抽象语法树( 即AST )，即词法分析与语法分析的过程</li> <li>转换 Transform: 对于 AST 进行变换一系列的操作，babel 接受得到 AST 并通过 babel-traverse 对其进行遍历，在此过程中进行添加、更新及移除等操作</li> <li>生成 Generate: 将变换后的 AST 再转换为 JS 代码, 使用到的模块是 babel-generator</li></ul> <p><img src="data:image/png;base64,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" alt="1567819217710"></p> <blockquote><p>更具体的原理可以移步<a href="https://www.cxymsg.com/guide/ast.html" target="_blank" rel="noopener noreferrer">如何写一个babel<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="如何写一个babel插件"><a href="#如何写一个babel插件" aria-hidden="true" class="header-anchor">#</a> 如何写一个babel插件?</h2> <p><strong>Babel解析成AST，然后插件更改AST，最后由Babel输出代码</strong></p> <p>那么Babel的插件模块需要你暴露一个function，function内返回visitor</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">export</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    visitor<span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>visitor是对各类型的AST节点做处理的地方，那么我们怎么知道Babel生成了的AST有哪些节点呢？
很简单，你可以把Babel转换的结果打印出来，或者这里有传送门: <a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">AST explorer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <img src="/assets/img/1567819744385.7792f9ca.png" alt="1567819744385">
这里我们看到 <code>const result = 1 + 2</code>中的<code>1 + 1</code>是一个<code>BinaryExpression</code>节点，那么在visitor中，我们就处理这个节点</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'babel-core'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'babel-types'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> visitor <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">BinaryExpression</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> node <span class="token operator">=</span> path<span class="token punctuation">.</span>node<span class="token punctuation">;</span>
    <span class="token keyword">let</span> result<span class="token punctuation">;</span>
    <span class="token comment">// 判断表达式两边，是否都是数字</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">isNumericLiteral</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">isNumericLiteral</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 根据不同的操作符作运算</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>operator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">:</span>
          result <span class="token operator">=</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">+</span> node<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token keyword">break</span>
        <span class="token keyword">case</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">:</span>
          result <span class="token operator">=</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">-</span> node<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">:</span>
          result <span class="token operator">=</span>  node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">*</span> node<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">:</span>
          result <span class="token operator">=</span>  node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">/</span> node<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">:</span>
          <span class="token keyword">let</span> i <span class="token operator">=</span> node<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> result <span class="token operator">||</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            result <span class="token operator">=</span>  result <span class="token operator">*</span> node<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果上面的运算有结果的话</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 把表达式节点替换成number字面量</span>
      path<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">numericLiteral</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    visitor
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>插件写好了，我们运行下插件试试</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;babel-core&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> babel<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token string">&quot;const result = 1 + 2;&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./index&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// const result = 3;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>与预期一致，那么转换 <code>const result = 1 + 2 + 3 + 4 + 5;</code>呢?
结果是: <code>const result = 3 + 3 + 4 + 5;</code>
这就奇怪了，为什么只计算了<code>1 + 2</code>之后，就没有继续往下运算了?
我们看一下这个表达式的AST树
<img src="/assets/img/1567819729101.7792f9ca.png" alt="1567819729101">
你会发现Babel解析成表达式里面再嵌套表达式。</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>表达式( 表达式( 表达式( 表达式(1 + 2) + 3) + 4) + 5)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>而我们的判断条件并不符合所有的，只符合<code>1 + 2</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 判断表达式两边，是否都是数字</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">isNumericLiteral</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span><span class="token function">isNumericLiteral</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>那么我们得改一改
第一次计算<code>1 + 2</code>之后，我们会得到这样的表达式</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>表达式( 表达式( 表达式(3 + 3) + 4) + 5)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中 <code>3 + 3</code>又符合了我们的条件， 我们通过向上递归的方式遍历父级节点
又转换成这样:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">表达式</span><span class="token punctuation">(</span> <span class="token function">表达式</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token function">表达式</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token number">15</span>
<span class="token comment">// 如果上面的运算有结果的话</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 把表达式节点替换成number字面量</span>
      path<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">numericLiteral</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> parentPath <span class="token operator">=</span> path<span class="token punctuation">.</span>parentPath<span class="token punctuation">;</span>
      <span class="token comment">// 向上遍历父级节点</span>
      parentPath <span class="token operator">&amp;&amp;</span> visitor<span class="token punctuation">.</span><span class="token function">BinaryExpression</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> parentPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>到这里，我们就得出了结果 <code>const result = 15;</code>
那么其他运算呢:
<code>const result = 100 + 10 - 50</code> &gt;&gt;&gt; <code>const result = 60;</code> <code>const result = (100 / 2) + 50</code> &gt;&gt;&gt; <code>const result = 100;</code> <code>const result = (((100 / 2) + 50 * 2) / 50) ** 2</code> &gt;&gt;&gt; <code>const result = 9;</code></p> <blockquote><p><a href="https://github.com/axetroy/babel-plugin-pre-calculate-number" target="_blank" rel="noopener noreferrer">项目地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>上述答案来源于cnode<a href="https://cnodejs.org/topic/5a9317d38d6e16e56bb808d1" target="_blank" rel="noopener noreferrer">帖子<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>更详实的教程移步<a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md#builders" target="_blank" rel="noopener noreferrer">官方的插件教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="你的git工作流是怎样的"><a href="#你的git工作流是怎样的" aria-hidden="true" class="header-anchor">#</a> 你的git工作流是怎样的?</h2> <p>GitFlow 是由 Vincent Driessen 提出的一个 git操作流程标准。包含如下几个关键分支：</p> <table><thead><tr><th>名称</th> <th>说明</th></tr></thead> <tbody><tr><td>master</td> <td>主分支</td></tr> <tr><td>develop</td> <td>主开发分支，包含确定即将发布的代码</td></tr> <tr><td>feature</td> <td>新功能分支，一般一个新功能对应一个分支，对于功能的拆分需要比较合理，以避免一些后面不必要的代码冲突</td></tr> <tr><td>release</td> <td>发布分支，发布时候用的分支，一般测试时候发现的 bug 在这个分支进行修复</td></tr> <tr><td>hotfix</td> <td>hotfix 分支，紧急修 bug 的时候用</td></tr></tbody></table> <p>GitFlow 的优势有如下几点：</p> <ul><li>并行开发：GitFlow 可以很方便的实现并行开发：每个新功能都会建立一个新的 <code>feature</code> 分支，从而和已经完成的功能隔离开来，而且只有在新功能完成开发的情况下，其对应的 <code>feature</code> 分支才会合并到主开发分支上（也就是我们经常说的 <code>develop</code> 分支）。另外，如果你正在开发某个功能，同时又有一个新的功能需要开发，你只需要提交当前 <code>feature</code> 的代码，然后创建另外一个 <code>feature</code> 分支并完成新功能开发。然后再切回之前的 <code>feature</code> 分支即可继续完成之前功能的开发。</li> <li>协作开发：GitFlow 还支持多人协同开发，因为每个 <code>feature</code> 分支上改动的代码都只是为了让某个新的 <code>feature</code> 可以独立运行。同时我们也很容易知道每个人都在干啥。</li> <li>发布阶段：当一个新 <code>feature</code> 开发完成的时候，它会被合并到 <code>develop</code> 分支，这个分支主要用来暂时保存那些还没有发布的内容，所以如果需要再开发新的 <code>feature</code>，我们只需要从 <code>develop</code> 分支创建新分支，即可包含所有已经完成的 <code>feature</code> 。</li> <li>支持紧急修复：GitFlow 还包含了 <code>hotfix</code> 分支。这种类型的分支是从某个已经发布的 tag 上创建出来并做一个紧急的修复，而且这个紧急修复只影响这个已经发布的 tag，而不会影响到你正在开发的新 <code>feature</code>。</li></ul> <p>然后就是 GitFlow 最经典的几张流程图，一定要理解：
<img src="/assets/img/1567820187895.0cba4c80.png" alt="1567820187895"> <code>feature</code> 分支都是从 <code>develop</code> 分支创建，完成后再合并到 <code>develop</code> 分支上，等待发布。
<img src="/assets/img/1567820205860.e41b70d0.png" alt="1567820205860">
当需要发布时，我们从 <code>develop</code> 分支创建一个 <code>release</code> 分支
<img src="/assets/img/1567820224301.598b6be8.png" alt="1567820224301">
然后这个 <code>release</code> 分支会发布到测试环境进行测试，如果发现问题就在这个分支直接进行修复。在所有问题修复之前，我们会不停的重复<strong>发布-&gt;测试-&gt;修复-&gt;重新发布-&gt;重新测试</strong>这个流程。
发布结束后，这个 <code>release</code> 分支会合并到 <code>develop</code> 和 <code>master</code> 分支，从而保证不会有代码丢失。
<img src="/assets/img/1567820245382.b1be7e4a.png" alt="1567820245382"> <code>master</code> 分支只跟踪已经发布的代码，合并到 <code>master</code> 上的 commit 只能来自 <code>release</code> 分支和 <code>hotfix</code> 分支。
<code>hotfix</code> 分支的作用是紧急修复一些 Bug。
它们都是从 <code>master</code> 分支上的某个 tag 建立，修复结束后再合并到 <code>develop</code> 和 <code>master</code> 分支上。</p> <blockquote><p>更多工作流可以参考阮老师的<a href="https://www.ruanyifeng.com/blog/2015/12/git-workflow.html" target="_blank" rel="noopener noreferrer">Git 工作流程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="rebase-与-merge的区别"><a href="#rebase-与-merge的区别" aria-hidden="true" class="header-anchor">#</a> rebase 与 merge的区别?</h2> <p>git rebase 和 git merge 一样都是用于从一个分支获取并且合并到当前分支.</p> <p>假设一个场景,就是我们开发的[feature/todo]分支要合并到master主分支,那么用rebase或者merge有什么不同呢?</p> <p><img src="/assets/img/1567821136125.e259dd82.png" alt="1567821136125"></p> <ul><li>merge 特点：自动创建一个新的commit 如果合并的时候遇到冲突，仅需要修改后重新commit</li> <li>优点：<strong>记录了真实的commit情况，包括每个分支的详情</strong></li> <li>缺点：因为每次merge会自动产生一个merge commit，所以在使用一些git 的GUI tools，特别是<strong>commit比较频繁时，看到分支很杂乱。</strong></li></ul> <p><img src="data:image/png;base64,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" alt="1567821160288"></p> <ul><li>rebase 特点：会<strong>合并之前的commit历史</strong></li> <li>优点：得到更简洁的项目历史，去掉了merge commit</li> <li>缺点：如果合并出现代码问题不容易定位，因为re-write了history</li></ul> <p>因此,当需要<strong>保留详细的合并信息的时候建议使用git merge</strong>，特别是需要将分支合并进入master分支时；当发现自己修改某个功能时，频繁进行了git commit提交时，<strong>发现其实过多的提交信息没有必要时</strong>，可以尝试git rebase.</p> <h2 id="git高级操作"><a href="#git高级操作" aria-hidden="true" class="header-anchor">#</a> git高级操作</h2> <h3 id="git-reset、git-revert-和-git-checkout-有什么区别"><a href="#git-reset、git-revert-和-git-checkout-有什么区别" aria-hidden="true" class="header-anchor">#</a> git reset、git revert 和 git checkout 有什么区别</h3> <p>这个问题同样也需要先了解 git 仓库的三个组成部分：工作区（Working Directory）、暂存区（Stage）和历史记录区（History）。</p> <ul><li>工作区：在 git 管理下的正常目录都算是工作区，我们平时的编辑工作都是在工作区完成</li> <li>暂存区：临时区域。里面存放将要提交文件的快照</li> <li>历史记录区：git commit 后的记录区</li></ul> <p>三个区的转换关系以及转换所使用的命令：</p> <p><img src="/assets/img/1567821486441.5c83bbe4.png" alt="1567821486441"></p> <p>git reset、git revert 和 git checkout的共同点：用来撤销代码仓库中的某些更改。</p> <p>然后是不同点：</p> <p>首先，从 commit 层面来说：</p> <ul><li>git reset 可以将一个分支的末端指向之前的一个 commit。然后再下次 git 执行垃圾回收的时候，会把这个 commit 之后的 commit 都扔掉。git reset 还支持三种标记，用来标记 reset 指令影响的范围：
<ul><li>--mixed：会影响到暂存区和历史记录区。也是默认选项</li> <li>--soft：只影响历史记录区</li> <li>--hard：影响工作区、暂存区和历史记录区</li></ul></li></ul> <blockquote><p>注意：因为 git reset 是直接删除 commit 记录，从而会影响到其他开发人员的分支，所以不要在公共分支（比如 develop）做这个操作。</p></blockquote> <ul><li>git checkout 可以将 HEAD 移到一个新的分支，并更新工作目录。因为可能会覆盖本地的修改，所以执行这个指令之前，你需要 stash 或者 commit 暂存区和工作区的更改。</li> <li>git revert 和 git reset 的目的是一样的，但是做法不同，它会以创建新的 commit 的方式来撤销 commit，这样能保留之前的 commit 历史，比较安全。另外，同样因为可能会覆盖本地的修改，所以执行这个指令之前，你需要 stash 或者 commit 暂存区和工作区的更改。</li></ul> <div class="tip custom-block"><p class="custom-block-title">然后，从文件层面来说：</p> <ul><li>git reset 只是把文件从历史记录区拿到暂存区，不影响工作区的内容，而且不支持 --mixed、--soft 和 --hard。</li> <li>git checkout 则是把文件从历史记录拿到工作区，不影响暂存区的内容。</li> <li>git revert 不支持文件层面的操作。</li></ul></div> <p><img src="/assets/img/1567821505927.851cd08a.png" alt="1567821505927"></p> <h3 id="rebase-合并"><a href="#rebase-合并" aria-hidden="true" class="header-anchor">#</a> Rebase 合并</h3> <p>该命令可以让和 <code>merge</code> 命令得到的结果基本是一致的。</p> <p>通常使用 <code>merge</code> 操作将分支上的代码合并到 <code>master</code> 中，分支样子如下所示</p> <p><img src="data:image/png;base64,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" alt="1568535674938"></p> <p>使用 <code>rebase</code> 后，会将 <code>develop</code> 上的 <code>commit</code> 按顺序移到 <code>master</code> 的第三个 <code>commit</code> 后面，分支样子如下所示</p> <p><img src="data:image/png;base64,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" alt="1568535683125"></p> <p>Rebase 对比 merge，优势在于合并后的结果很清晰，只有一条线，劣势在于如果一旦出现冲突，解决冲突很麻烦，可能要解决多个冲突，但是 merge 出现冲突只需要解决一次。</p> <p>使用 rebase 应该在需要被 rebase 的分支上操作，并且该分支是本地分支。如果 <code>develop</code> 分支需要 rebase 到 <code>master</code> 上去，那么应该如下操作</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>## branch develop
git rebase master
git checkout master
## 用于将 `master` 上的 HEAD 移动到最新的 commit
git merge develop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="stash"><a href="#stash" aria-hidden="true" class="header-anchor">#</a> stash</h3> <p><code>stash</code> 用于临时保存工作目录的改动。开发中可能会遇到代码写一半需要切分支打包的问题，如果这时候你不想 <code>commit</code> 的话，就可以使用该命令。</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>git stash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用该命令可以暂存你的工作目录，后面想恢复工作目录，只需要使用</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>git stash pop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样你之前临时保存的代码又回来了</p> <h3 id="reflog"><a href="#reflog" aria-hidden="true" class="header-anchor">#</a> reflog</h3> <p><code>reflog</code> 可以看到 HEAD 的移动记录，假如之前误删了一个分支，可以通过 <code>git reflog</code> 看到移动 HEAD 的哈希值</p> <p><img src="/assets/img/1568535707940.5d169473.png" alt="1568535707940"></p> <p>从图中可以看出，HEAD 的最后一次移动行为是 <code>merge</code> 后，接下来分支 <code>new</code> 就被删除了，那么我们可以通过以下命令找回 <code>new</code> 分支</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout 37d9aca
git checkout -b new
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>PS：<code>reflog</code> 记录是时效的，只会保存一段时间内的记录。</p> <h3 id="reset"><a href="#reset" aria-hidden="true" class="header-anchor">#</a> Reset</h3> <p>如果你想删除刚写的 commit，就可以通过以下命令实现</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code>git reset --hard HEAD^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>但是 <code>reset</code> 的本质并不是删除了 commit，而是重新设置了 HEAD 和它指向的 branch。</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间: </span> <span class="time">9/15/2019, 11:52:13 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.e80300b8.js" defer></script><script src="/assets/js/14.fd72de6e.js" defer></script>
  </body>
</html>
