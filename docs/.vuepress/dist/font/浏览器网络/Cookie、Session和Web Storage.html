<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.什么是Cookie与Session | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.b8bd58f1.css" as="style"><link rel="preload" href="/assets/js/app.d2d9735e.js" as="script"><link rel="preload" href="/assets/js/21.69fa9178.js" as="script"><link rel="prefetch" href="/assets/js/10.821888c4.js"><link rel="prefetch" href="/assets/js/11.753e96c9.js"><link rel="prefetch" href="/assets/js/12.b976123f.js"><link rel="prefetch" href="/assets/js/13.379f7c67.js"><link rel="prefetch" href="/assets/js/14.3d360e42.js"><link rel="prefetch" href="/assets/js/15.6611681f.js"><link rel="prefetch" href="/assets/js/16.b3d0340c.js"><link rel="prefetch" href="/assets/js/17.c970e5b7.js"><link rel="prefetch" href="/assets/js/18.287c3aeb.js"><link rel="prefetch" href="/assets/js/19.cd96ffe2.js"><link rel="prefetch" href="/assets/js/2.793aae94.js"><link rel="prefetch" href="/assets/js/20.9524ebab.js"><link rel="prefetch" href="/assets/js/22.124b87a6.js"><link rel="prefetch" href="/assets/js/23.8a4cb3ad.js"><link rel="prefetch" href="/assets/js/24.4b12d9ab.js"><link rel="prefetch" href="/assets/js/25.6adc157a.js"><link rel="prefetch" href="/assets/js/26.75accf59.js"><link rel="prefetch" href="/assets/js/27.b9fc0849.js"><link rel="prefetch" href="/assets/js/28.897c54ea.js"><link rel="prefetch" href="/assets/js/29.7f845e3d.js"><link rel="prefetch" href="/assets/js/3.c4c982f2.js"><link rel="prefetch" href="/assets/js/30.06b1a7c0.js"><link rel="prefetch" href="/assets/js/31.bd280936.js"><link rel="prefetch" href="/assets/js/32.03a70a7a.js"><link rel="prefetch" href="/assets/js/33.61fc2478.js"><link rel="prefetch" href="/assets/js/34.ee6684a3.js"><link rel="prefetch" href="/assets/js/35.eebe4789.js"><link rel="prefetch" href="/assets/js/36.3bb40e17.js"><link rel="prefetch" href="/assets/js/37.94662582.js"><link rel="prefetch" href="/assets/js/38.9b6dd484.js"><link rel="prefetch" href="/assets/js/39.5519e567.js"><link rel="prefetch" href="/assets/js/4.d1b33403.js"><link rel="prefetch" href="/assets/js/40.3528988e.js"><link rel="prefetch" href="/assets/js/41.914375a8.js"><link rel="prefetch" href="/assets/js/42.001521a4.js"><link rel="prefetch" href="/assets/js/43.9c66c37c.js"><link rel="prefetch" href="/assets/js/44.5c7d57c5.js"><link rel="prefetch" href="/assets/js/45.9ce71f8c.js"><link rel="prefetch" href="/assets/js/46.7eeda292.js"><link rel="prefetch" href="/assets/js/47.281891c5.js"><link rel="prefetch" href="/assets/js/48.332737c0.js"><link rel="prefetch" href="/assets/js/49.9d20b20c.js"><link rel="prefetch" href="/assets/js/5.d7c9ac38.js"><link rel="prefetch" href="/assets/js/50.7107660a.js"><link rel="prefetch" href="/assets/js/51.7e9d50aa.js"><link rel="prefetch" href="/assets/js/52.a6dae600.js"><link rel="prefetch" href="/assets/js/53.05784598.js"><link rel="prefetch" href="/assets/js/6.7a8fec11.js"><link rel="prefetch" href="/assets/js/7.c2892836.js"><link rel="prefetch" href="/assets/js/8.1dbea06c.js"><link rel="prefetch" href="/assets/js/9.01cf1c44.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8bd58f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>浏览器网络</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/font/浏览器网络/URL到页面呈现过程总结.html" class="sidebar-link">URL到页面呈现过程总结</a></li><li><a href="/font/浏览器网络/Web安全.html" class="sidebar-link">Web安全</a></li><li><a href="/font/浏览器网络/Cookie、Session和Web Storage.html" class="active sidebar-link">Cookie、Session和Web Storage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_1-什么是cookie与session" class="sidebar-link">1.什么是Cookie与Session</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_2-两者的区别" class="sidebar-link">2.两者的区别</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_3-如何配合" class="sidebar-link">3.如何配合</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_4-禁止cookie后的正常运转" class="sidebar-link">4.禁止Cookie后的正常运转</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_5-分布式session问题" class="sidebar-link">5.分布式Session问题</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_6-跨域请求" class="sidebar-link">6.跨域请求</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_7-localstorage，sessionstorage和cookie的区别" class="sidebar-link">7.localStorage，sessionStorage和cookie的区别</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_8-cookie使用方法介绍" class="sidebar-link">8.cookie使用方法介绍</a></li><li class="sidebar-sub-header"><a href="/font/浏览器网络/Cookie、Session和Web Storage.html#_9-sessionstorage-和-localstorage用法" class="sidebar-link">9.SessionStorage 和  localStorage用法</a></li></ul></li><li><a href="/font/浏览器网络/跨域实现.html" class="sidebar-link">跨域实现</a></li><li><a href="/font/浏览器网络/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/font/浏览器网络/页面性能优化.html" class="sidebar-link">页面性能优化</a></li><li><a href="/font/浏览器网络/网络基础.html" class="sidebar-link">网络基础</a></li><li><a href="/font/浏览器网络/前端路由.html" class="sidebar-link">前端路由</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="_1-什么是cookie与session"><a href="#_1-什么是cookie与session" aria-hidden="true" class="header-anchor">#</a> 1.什么是Cookie与Session</h2> <p><strong>什么是 Cookie</strong></p> <p>HTTP Cookie（也叫 Web Cookie或浏览器 Cookie）是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器，如保持用户的登录状态。Cookie 使基于无状态的 HTTP 协议记录稳定的状态信息成为了可能。</p> <p>Cookie 主要用于以下三个方面：</p> <ul><li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）</li> <li>个性化设置（如用户自定义设置、主题等）</li> <li>浏览器行为跟踪（如跟踪分析用户行为等）</li></ul> <p><strong>什么是 Session</strong></p> <p>Session 代表着服务器和客户端一次会话的过程。Session 对象存储特定用户会话所需的属性及配置信息。这样，当用户在应用程序的 Web 页之间跳转时，存储在 Session 对象中的变量将不会丢失，而是在整个用户会话中一直存在下去。当客户端关闭会话，或者 Session 超时失效时会话结束。</p> <h2 id="_2-两者的区别"><a href="#_2-两者的区别" aria-hidden="true" class="header-anchor">#</a> 2.两者的区别</h2> <p>Cookie 和 Session 有什么不同？</p> <ul><li>作用范围不同，Cookie 保存在客户端（浏览器），Session 保存在服务器端。</li> <li>存取方式的不同，Cookie 只能保存 字符串，Session 可以存任意数据类型，一般情况下我们可以在 Session 中保持一些常用变量信息，比如说 UserId 等。</li> <li>有效期不同，Cookie 可设置为长时间保持，比如我们经常使用的默认登录功能，Session 一般失效时间较短，客户端关闭或者 Session 超时都会失效。</li> <li>隐私策略不同，Cookie 存储在客户端，比较容易遭到不法获取，早期有人将用户的登录名和密码存储在 Cookie 中导致信息被窃取；Session 存储在服务端，安全性相对 Cookie 要好一些。</li> <li>存储大小不同， 单个 Cookie 保存的数据不能超过 4K，Session 可存储数据远高于 Cookie</li></ul> <h2 id="_3-如何配合"><a href="#_3-如何配合" aria-hidden="true" class="header-anchor">#</a> 3.如何配合</h2> <p>为什么需要 Cookie 和 Session，他们有什么关联？</p> <p>说起来为什么需要 Cookie ，这就需要从浏览器开始说起，我们都知道浏览器是没有状态的(HTTP 协议无状态)，这意味着浏览器并不知道是张三还是李四在和服务端打交道。这个时候就需要有一个机制来告诉服务端，本次操作用户是否登录，是哪个用户在执行的操作，那这套机制的实现就需要 Cookie 和 Session 的配合。</p> <p>那么 Cookie 和 Session 是如何配合的呢？我画了一张图大家可以先了解下。</p> <p><img src="/assets/img/1558268493580.d9021a9e.png" alt="1558268493580"></p> <p>用户第一次请求服务器的时候，服务器根据用户提交的相关信息，创建创建对应的 Session ，请求返回时将此 Session 的唯一标识信息 SessionID 返回给浏览器，浏览器接收到服务器返回的 SessionID 信息后，会将此信息存入到 Cookie 中，同时 Cookie 记录此 SessionID 属于哪个域名。</p> <p>当用户第二次访问服务器的时候，请求会自动判断此域名下是否存在 Cookie 信息，如果存在自动将 Cookie 信息也发送给服务端，服务端会从 Cookie 中获取 SessionID，再根据 SessionID 查找对应的 Session 信息，如果没有找到说明用户没有登录或者登录失效，如果找到 Session 证明用户已经登录可执行后面操作。</p> <p>根据以上流程可知，SessionID 是连接 Cookie 和 Session 的一道桥梁，大部分系统也是根据此原理来验证用户登录状态。</p> <h2 id="_4-禁止cookie后的正常运转"><a href="#_4-禁止cookie后的正常运转" aria-hidden="true" class="header-anchor">#</a> 4.禁止Cookie后的正常运转</h2> <p>既然服务端是根据 Cookie 中的信息判断用户是否登录，那么如果浏览器中禁止了 Cookie，如何保障整个机制的正常运转。</p> <p>第一种方案，每次请求中都携带一个 SessionID 的参数，也可以 Post 的方式提交，也可以在请求的地址后面拼接 <code>xxx?SessionID=123456...</code>。</p> <p>第二种方案，Token 机制。Token 机制多用于 App 客户端和服务器交互的模式，也可以用于 Web 端做用户状态管理。</p> <p>Token 的意思是“令牌”，是服务端生成的一串字符串，作为客户端进行请求的一个标识。Token 机制和 Cookie 和 Session 的使用机制比较类似。</p> <p>当用户第一次登录后，服务器根据提交的用户信息生成一个 Token，响应时将 Token 返回给客户端，以后客户端只需带上这个 Token 前来请求数据即可，无需再次登录验证。</p> <h2 id="_5-分布式session问题"><a href="#_5-分布式session问题" aria-hidden="true" class="header-anchor">#</a> 5.分布式Session问题</h2> <p>如何考虑分布式 Session 问题？</p> <p>在互联网公司为了可以支撑更大的流量，后端往往需要多台服务器共同来支撑前端用户请求，那如果用户在 A 服务器登录了，第二次请求跑到服务 B 就会出现登录失效问题。</p> <p>分布式 Session 一般会有以下几种解决方案：</p> <ul><li>Nginx ip_hash 策略，服务端使用 Nginx 代理，每个请求按访问 IP 的 hash 分配，这样来自同一 IP 固定访问一个后台服务器，避免了在服务器 A 创建 Session，第二次分发到服务器 B 的现象。</li> <li>Session 复制，任何一个服务器上的 Session 发生改变（增删改），该节点会把这个 Session 的所有内容序列化，然后广播给所有其它节点。</li> <li>共享 Session，服务端无状态话，将用户的 Session 等信息使用缓存中间件来统一管理，保障分发到每一个服务器的响应结果都一致。</li></ul> <p>建议采用第三种方案。</p> <h2 id="_6-跨域请求"><a href="#_6-跨域请求" aria-hidden="true" class="header-anchor">#</a> 6.跨域请求</h2> <p>如何解决跨域请求？Jsonp 跨域的原理是什么？</p> <p>说起跨域请求，必须要了解浏览器的同源策略，同源策略/SOP（Same origin policy）是一种约定，由 Netscape 公司 1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到 XSS、CSFR 等攻击。所谓同源是指&quot;协议+域名+端口&quot;三者相同，即便两个不同的域名指向同一个 ip 地址，也非同源。</p> <p>解决跨域请求的常用方法是：</p> <ul><li>通过代理来避免，比如使用 Nginx 在后端转发请求，避免了前端出现跨域的问题。</li> <li>通过 Jsonp 跨域</li> <li>其它跨域解决方案</li></ul> <p>重点谈一下 Jsonp 跨域原理。浏览器的同源策略把跨域请求都禁止了，但是页面中的 <code>&lt;script&gt;&lt;img&gt;&lt;iframe&gt;</code>标签是例外，不受同源策略限制。Jsonp 就是利用 <code>&lt;script&gt;</code> 标签跨域特性进行跨域数据访问。</p> <p>JSONP 的理念就是，与服务端约定好一个回调函数名，服务端接收到请求后，将返回一段 Javascript，在这段  Javascript 代码中调用了约定好的回调函数，并且将数据作为参数进行传递。当网页接收到这段 Javascript 代码后，就会执行这个回调函数，这时数据已经成功传输到客户端了。</p> <p>JSONP 的缺点是：它只支持 GET 请求，而不支持 POST 请求等其他类型的 HTTP 请求。</p> <p>作者：ityouknow</p> <p>链接：https://juejin.im/post/5cd9037ee51d456e5c5babca</p> <p>来源：掘金</p> <p>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p> <h2 id="_7-localstorage，sessionstorage和cookie的区别"><a href="#_7-localstorage，sessionstorage和cookie的区别" aria-hidden="true" class="header-anchor">#</a> 7.localStorage，sessionStorage和cookie的区别</h2> <p><strong>共同点</strong>：都是保存在浏览器端、且同源的</p> <div class="tip custom-block"><p class="custom-block-title">数据存储方面</p> <ul><li><strong>cookie数据</strong>始终在同源的http请求中携带（即使不需要），即cookie在浏览器和服务器间来回传递。cookie数据还有路径（path）的概念，可以限制cookie只属于某个路径下</li> <li><strong>sessionStorage和localStorage</strong>不会自动把数据发送给服务器，仅在<strong>本地保存</strong>。</li></ul></div> <div class="tip custom-block"><p class="custom-block-title">存储数据大小</p> <ul><li>存储大小限制也不同，<strong>cookie数据</strong>不能超过4K，同时因为每次http请求都会携带cookie、所以cookie只适合保存很小的数据，如会话标识。</li> <li><strong>sessionStorage和localStorage</strong>虽然也有存储大小的限制，但比cookie大得多，可以达到5M或更大</li></ul></div> <div class="tip custom-block"><p class="custom-block-title">数据存储有效期</p> <ul><li><strong>sessionStorage</strong>：仅在当前浏览器窗口关闭之前有效；</li> <li><strong>localStorage</strong>：始终有效，窗口或浏览器关闭也一直保存，本地存储，因此用作持久数据；</li> <li><strong>cookie</strong>：只在设置的cookie过期时间之前有效，即使窗口关闭或浏览器关闭</li></ul></div> <div class="tip custom-block"><p class="custom-block-title">作用域不同</p> <ul><li><strong>sessionStorage</strong>不在不同的浏览器窗口中共享，即使是同一个页面；</li> <li><strong>localstorage</strong>在所有<code>同源窗口</code>中都是共享的；也就是说只要浏览器不关闭，数据仍然存在</li> <li><strong>cookie</strong>: 也是在所有<code>同源窗口</code>中都是共享的.也就是说只要浏览器不关闭，数据仍然存在</li></ul></div> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>Web Storage拥有setItem、getItem、removeItem、clear等方法，不像cookie需要自己封装setCookie、getCookie等方法</p></div> <h3 id="sessionstorage与页面js数据对象的区别"><a href="#sessionstorage与页面js数据对象的区别" aria-hidden="true" class="header-anchor">#</a> sessionStorage与页面js数据对象的区别</h3> <p>页面中一般的js对象的生存期仅在当前页面有效，因此刷新页面或转到另一页面这样的重新加载页面的情况，数据就不存在了()</p> <p>而sessionStorage只要同源的同窗口中，刷新页面或进入同源的不同页面，数据始终存在，也就是说只要浏览器不关闭，数据仍然存在()</p> <h2 id="_8-cookie使用方法介绍"><a href="#_8-cookie使用方法介绍" aria-hidden="true" class="header-anchor">#</a> 8.cookie使用方法介绍</h2> <h4 id="浏览器中的cookie"><a href="#浏览器中的cookie" aria-hidden="true" class="header-anchor">#</a> 浏览器中的Cookie</h4> <p>浏览器中的Cookie主要由以下几部分组成：</p> <ul><li>名称：Cookie唯一的名称，必须经过URL编码处理。（同名会出现覆盖的情况）</li> <li>值：必须经过URL编码处理。</li> <li>域（domain）：默认情况下cookie在当前域下有效，你也可以设置该值来确保对其子域是否有效。</li> <li>路径（path）：指定Cookie在哪些路径下有效，默认是当前路径下。</li> <li>失效时间（expires）：默认情况下，浏览器会话结束时会自动删除Cookie；也可以设置一个GMT格式的日期，指定具体的删除日期；如果设置的日期为以前的日期，那么Cookie会立即删除。</li> <li>安全标志（secure）：指定之后只允许Cookie发送给https协议。</li></ul> <p>浏览器在发送请求时，只会将名称与值添加到请求头的Cookie字段中，发送给服务端。</p> <p>浏览器提供了一个非常蹩脚的API来操作Cookie：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span>cookie
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过上述方法可以对该Cookie进行写操作，每一次只能写入一条Cookie字符串：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">'a=1; secure; path=/'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过该方法还可以进行Cookie的读操作：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>document<span class="token punctuation">.</span>cookie   <span class="token comment">// &quot;a=1&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>由于上述方法操作Cookie非常的不直观，一般都会写一些函数来简化Cookie读取、设置和删除操作。</p> <p>对于Cookie的设置操作中，需要以下几点：</p> <p>对于名称和值进行URL编码处理，也就是采用JavaScript中的encodeURIComponent()方法； expires要求传入GMT格式的日期，需要处理为更易书写的方式，比如：设置秒数的方式； 注意只有的属性名的secure；</p> <p>每一段信息需要采用分号加空格。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">setCookie</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> document <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
	<span class="token keyword">return</span>  
<span class="token punctuation">}</span>  
    attributes <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    
        path<span class="token punctuation">:</span> <span class="token string">'/'</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span> attributes<span class="token punctuation">)</span>
  	<span class="token keyword">let</span> <span class="token punctuation">{</span> domain<span class="token punctuation">,</span> path<span class="token punctuation">,</span> expires<span class="token punctuation">,</span> secure <span class="token punctuation">}</span> <span class="token operator">=</span> attributes
 	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> expires <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      expires <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expires <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>expires <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        expires <span class="token operator">=</span> expires<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    
        expires <span class="token operator">=</span> <span class="token string">''</span>  
    <span class="token punctuation">}</span>
  	key <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>  
  	value <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  	<span class="token keyword">let</span> cookieStr <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
  	<span class="token keyword">if</span> <span class="token punctuation">(</span>domain<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      cookieStr <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`; domain=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>domain<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>  
  <span class="token punctuation">}</span>
  	<span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      cookieStr <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`; path=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>  
  <span class="token punctuation">}</span>
  	<span class="token keyword">if</span> <span class="token punctuation">(</span>expires<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      cookieStr <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`; expires=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>expires<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>  
  <span class="token punctuation">}</span>
  	<span class="token keyword">if</span> <span class="token punctuation">(</span>secure<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      cookieStr <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`; secure`</span></span>  
  <span class="token punctuation">}</span>
  	<span class="token keyword">return</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> cookieStr<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>Cookie的读操作需要注意的是将名称与值进行URL解码处理，也就是调用JavaScript中的decodeURIComponent()方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getCookie</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> document <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
	<span class="token keyword">return</span>  
<span class="token punctuation">}</span>  
<span class="token keyword">let</span> cookies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token keyword">let</span> jar <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  
document<span class="token punctuation">.</span>cookie <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>cookies <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'; '</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> cookies<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
      <span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token operator">=</span> cookies<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>    
      key <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    
      value <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>    
      jar<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value    
      <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>      
          <span class="token keyword">break</span>    
      <span class="token punctuation">}</span>  
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> name <span class="token operator">?</span> jar<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token punctuation">:</span> jar
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>最后一个清除的方法就更加简单了，只要将失效日期（expires）设置为过去的日期即可：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">removeCookie</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
	<span class="token function">setCookie</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> expires<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>介绍Cookie基本操作的封装之后，还需要了解浏览器为了限制Cookie不会被恶意使用，规定了Cookie所占磁盘空间的大小以及每个域名下Cookie的个数。</p> <p>为了绕开单域名下Cookie个数的限制，开发人员还创造了一种称为subcookie的概念，这里就不在赘述了，可以参考【JavaScript高级程序设计第23章 p633】。</p> <h4 id="服务端的cookie"><a href="#服务端的cookie" aria-hidden="true" class="header-anchor">#</a> 服务端的Cookie</h4> <p>相比较浏览器端，服务端执行Cookie的写操作时，是将拼接好的Cookie字符串放入响应头的Set-Cookie字段中；执行Cookie的读操作时，则是解析HTTP请求头字段Cookie中的键值对。</p> <p>与浏览器最大的不同，在于服务端对于Cookie的安全性操碎了心</p> <p>signed</p> <p>当设置signed=true时，服务端会对该条Cookie字符串生成两个Set-Cookie响应头字段：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Set<span class="token operator">-</span>Cookie<span class="token punctuation">:</span> lastTime<span class="token operator">=</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">05</span>T14<span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">05.543</span>Z<span class="token punctuation">;</span> path<span class="token operator">=</span><span class="token operator">/</span><span class="token punctuation">;</span> httponly
Set<span class="token operator">-</span>Cookie<span class="token punctuation">:</span> lastTime<span class="token punctuation">.</span>sig<span class="token operator">=</span>URXREOYTtMnGm0b7qCYFJ2Db400<span class="token punctuation">;</span> path<span class="token operator">=</span><span class="token operator">/</span><span class="token punctuation">;</span> httponly
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这里通过再发送一条以.sig为后缀的名称以及对值进行加密的Cookie，来验证该条Cookie是否在传输的过程中被篡改。</p> <p>httpOnly</p> <p>服务端Set-Cookie字段中新增httpOnly属性，当服务端在返回的Cookie信息中含有httpOnly字段时，开发者是不能通过JavaScript来操纵该条Cookie字符串的。</p> <p>这样做的好处主要在于面对XSS（Cross-site scripting）攻击时，黑客无法拿到设置httpOnly字段的Cookie信息。</p> <p>此时，你会发现localStorage相比较Cookie，在XSS攻击的防御上就略逊一筹了。 sameSite</p> <p>在介绍这个新属性之前，首先你需要明白：当用户从http://a.com发起http://b.com的请求也会携带上Cookie，而从http://a.com携带过来的Cookie称为第三方Cookie。</p> <p>虽然第三方Cookie有一些好处，但是给CSRF（Cross-site request forgrey）攻击的机会。</p> <p>为了从根源上解决CSRF攻击，sameSite属性便闪亮登场了，它的取值有以下几种：</p> <ul><li>strict：浏览器在任何跨域请求中都不会携带Cookie，这样可以有效的防御CSRF攻击，但是对于有多个子域名的网站采用主域名存储用户登录信息的场景，每个子域名都需要用户重新登录，造成用户体验非常的差。</li> <li>lax：相比较strict，它允许从三方网站跳转过来的时候使用Cookie。</li></ul> <p>为了方便大家理解sameSite的实际效果，可以看这个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// a.com 服务端会在访问页面时返回如下</span>
Cookiecookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'aaaaa'</span><span class="token punctuation">)</span>
cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'bbbbb'</span><span class="token punctuation">)</span>
cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'cccccc'</span><span class="token punctuation">)</span>
<span class="token comment">// b.com 服务端会在访问页面时返回如下</span>
Cookiecookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> sameSite<span class="token punctuation">:</span> <span class="token string">'strict'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> sameSite<span class="token punctuation">:</span> <span class="token string">'lax'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如何现在用户在a.com中点击链接跳转到b.com，它的请求头是这样的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Request Headers 
Cookie<span class="token punctuation">:</span> bar<span class="token operator">=</span>b<span class="token punctuation">;</span> baz<span class="token operator">=</span>c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_9-sessionstorage-和-localstorage用法"><a href="#_9-sessionstorage-和-localstorage用法" aria-hidden="true" class="header-anchor">#</a> 9.SessionStorage 和  localStorage用法</h2> <p>H5对于web storage的支持很友好，使用方法很简单</p> <ul><li><strong>setItem()</strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>keyName<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 将value存储到key字段中</span>
<span class="token comment">//或者</span>
sessionStorage<span class="token punctuation">.</span>keyName<span class="token operator">=</span><span class="token string">'value'</span><span class="token punctuation">;</span>
eg：sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;thomas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>keyName<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//获取指定key的本地存储的值</span>
<span class="token comment">//或者</span>
<span class="token keyword">var</span> keyName<span class="token operator">=</span>localStorage<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
eg<span class="token punctuation">:</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>下面我只列举sessionStorage方法。</p> <blockquote><p>其他的方法基本同上，只是将前缀sessionStorage改成localStorage即可</p></blockquote> <ul><li><strong>getItem()</strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>keyName<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//获取指定key的本地存储的值</span>
<span class="token comment">//或者</span>
<span class="token keyword">var</span> keyName<span class="token operator">=</span>sessionStorage<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
eg<span class="token punctuation">:</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><strong>removeItem()</strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>keyName<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 删除指定ke的本地存储的值</span>
eg<span class="token punctuation">:</span> sesisonStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><strong>clear()</strong></li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment">//清除所有localStorage数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>key(index)</strong>：获得 index位置处的值的名字</li></ul> <p>作者：thomaszhou</p> <p>链接：https://juejin.im/post/5ad5b9116fb9a028e014fb19</p> <p>来源：掘金</p> <p>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.d2d9735e.js" defer></script><script src="/assets/js/21.69fa9178.js" defer></script>
  </body>
</html>
