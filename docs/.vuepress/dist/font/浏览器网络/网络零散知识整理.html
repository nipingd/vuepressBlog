<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>301和302的区别 | niping</title>
    <meta name="description" content="欢迎来到我的博客">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.b8bd58f1.css" as="style"><link rel="preload" href="/assets/js/app.4f18c788.js" as="script"><link rel="preload" href="/assets/js/22.7d83c6c2.js" as="script"><link rel="prefetch" href="/assets/js/10.d79ed696.js"><link rel="prefetch" href="/assets/js/11.045cee2f.js"><link rel="prefetch" href="/assets/js/12.2bf61606.js"><link rel="prefetch" href="/assets/js/13.155b8954.js"><link rel="prefetch" href="/assets/js/14.219b4d01.js"><link rel="prefetch" href="/assets/js/15.0619d11c.js"><link rel="prefetch" href="/assets/js/16.ad9a4b09.js"><link rel="prefetch" href="/assets/js/17.9dde5852.js"><link rel="prefetch" href="/assets/js/18.b9511eae.js"><link rel="prefetch" href="/assets/js/19.e46433f9.js"><link rel="prefetch" href="/assets/js/2.f8120166.js"><link rel="prefetch" href="/assets/js/20.cf715628.js"><link rel="prefetch" href="/assets/js/21.45fc8e27.js"><link rel="prefetch" href="/assets/js/23.44b06c14.js"><link rel="prefetch" href="/assets/js/24.504d62ba.js"><link rel="prefetch" href="/assets/js/25.2cf1f623.js"><link rel="prefetch" href="/assets/js/26.b3eb0d16.js"><link rel="prefetch" href="/assets/js/27.4918a9f5.js"><link rel="prefetch" href="/assets/js/28.f2d78713.js"><link rel="prefetch" href="/assets/js/29.d4e9d033.js"><link rel="prefetch" href="/assets/js/3.e39f0567.js"><link rel="prefetch" href="/assets/js/30.0a2bc792.js"><link rel="prefetch" href="/assets/js/31.c01a0d14.js"><link rel="prefetch" href="/assets/js/32.e7acff97.js"><link rel="prefetch" href="/assets/js/33.f763610f.js"><link rel="prefetch" href="/assets/js/34.df0c9f4f.js"><link rel="prefetch" href="/assets/js/35.dddd195e.js"><link rel="prefetch" href="/assets/js/36.484e3607.js"><link rel="prefetch" href="/assets/js/37.3efcc631.js"><link rel="prefetch" href="/assets/js/38.a3fd4250.js"><link rel="prefetch" href="/assets/js/39.78446299.js"><link rel="prefetch" href="/assets/js/4.4dd0cd04.js"><link rel="prefetch" href="/assets/js/40.0e5b64e0.js"><link rel="prefetch" href="/assets/js/41.45398cbc.js"><link rel="prefetch" href="/assets/js/42.a9e3d01b.js"><link rel="prefetch" href="/assets/js/43.9ba659fe.js"><link rel="prefetch" href="/assets/js/44.86d265cc.js"><link rel="prefetch" href="/assets/js/45.754ae0fe.js"><link rel="prefetch" href="/assets/js/46.d87ee4bc.js"><link rel="prefetch" href="/assets/js/47.4bd63b0c.js"><link rel="prefetch" href="/assets/js/48.05e9ede0.js"><link rel="prefetch" href="/assets/js/49.b0453fa7.js"><link rel="prefetch" href="/assets/js/5.462a8f8a.js"><link rel="prefetch" href="/assets/js/50.1448331c.js"><link rel="prefetch" href="/assets/js/51.180341d8.js"><link rel="prefetch" href="/assets/js/52.17d90592.js"><link rel="prefetch" href="/assets/js/53.ecff10b1.js"><link rel="prefetch" href="/assets/js/54.fef52b07.js"><link rel="prefetch" href="/assets/js/55.84c7c771.js"><link rel="prefetch" href="/assets/js/56.2082809b.js"><link rel="prefetch" href="/assets/js/57.dd644d00.js"><link rel="prefetch" href="/assets/js/58.3a6ce7e6.js"><link rel="prefetch" href="/assets/js/59.e0e9fcbd.js"><link rel="prefetch" href="/assets/js/6.37facabd.js"><link rel="prefetch" href="/assets/js/60.814d31d0.js"><link rel="prefetch" href="/assets/js/61.05b5a21b.js"><link rel="prefetch" href="/assets/js/62.9b05ee9d.js"><link rel="prefetch" href="/assets/js/63.33f1d7bc.js"><link rel="prefetch" href="/assets/js/64.7bf02a7a.js"><link rel="prefetch" href="/assets/js/65.5164457a.js"><link rel="prefetch" href="/assets/js/66.26f8309d.js"><link rel="prefetch" href="/assets/js/67.a33f15dd.js"><link rel="prefetch" href="/assets/js/68.19127c41.js"><link rel="prefetch" href="/assets/js/69.d3003503.js"><link rel="prefetch" href="/assets/js/7.efb9bd3a.js"><link rel="prefetch" href="/assets/js/70.13e1d7a0.js"><link rel="prefetch" href="/assets/js/71.08dacd09.js"><link rel="prefetch" href="/assets/js/72.7a0292db.js"><link rel="prefetch" href="/assets/js/73.50b14bc8.js"><link rel="prefetch" href="/assets/js/74.089c2e16.js"><link rel="prefetch" href="/assets/js/75.5beaa71f.js"><link rel="prefetch" href="/assets/js/76.16f8a2b8.js"><link rel="prefetch" href="/assets/js/77.80366160.js"><link rel="prefetch" href="/assets/js/78.9a103cbd.js"><link rel="prefetch" href="/assets/js/79.57b3affa.js"><link rel="prefetch" href="/assets/js/8.006b788b.js"><link rel="prefetch" href="/assets/js/80.710b878c.js"><link rel="prefetch" href="/assets/js/81.472917d8.js"><link rel="prefetch" href="/assets/js/82.f016e5d6.js"><link rel="prefetch" href="/assets/js/83.d2a193ef.js"><link rel="prefetch" href="/assets/js/84.93ff612c.js"><link rel="prefetch" href="/assets/js/9.b2879854.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b8bd58f1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">niping</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/font/" class="nav-link router-link-active">前端</a></div><div class="nav-item"><a href="/computer/" class="nav-link">计算机</a></div><div class="nav-item"><a href="/other/" class="nav-link">个人学习笔记</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.instagram.com/nipingd/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  instagram
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/nipingd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>浏览器网络</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/font/浏览器网络/URL到页面呈现过程总结.html" class="sidebar-link">URL到页面呈现过程总结</a></li><li><a href="/font/浏览器网络/Web安全.html" class="sidebar-link">Web安全</a></li><li><a href="/font/浏览器网络/Cookie、Session和Web Storage、token.html" class="sidebar-link">Cookie、Session和Web Storage、token</a></li><li><a href="/font/浏览器网络/跨域实现.html" class="sidebar-link">跨域实现</a></li><li><a href="/font/浏览器网络/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/font/浏览器网络/页面性能优化.html" class="sidebar-link">页面性能优化</a></li><li><a href="/font/浏览器网络/网络基础.html" class="sidebar-link">网络基础</a></li><li><a href="/font/浏览器网络/前端路由.html" class="sidebar-link">前端路由</a></li><li><a href="/font/浏览器网络/chrome调试技巧.html" class="sidebar-link">chrome调试技巧</a></li><li><a href="/font/浏览器网络/网络零散知识整理.html" class="active sidebar-link">网络零散知识整理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/font/浏览器网络/浏览器零散知识整理.html" class="sidebar-link">浏览器零散知识整理</a></li><li><a href="/font/浏览器网络/HTTP面试题.html" class="sidebar-link">HTTP面试题</a></li><li><a href="/font/浏览器网络/TCP面试题.html" class="sidebar-link">TCP面试题</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>node</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><ul><li><h3 id="get和post的区别："><a href="#get和post的区别：" aria-hidden="true" class="header-anchor">#</a> GET和POST的区别：</h3> <p>get参数通过url传递，post放在request body中。</p> <p>get请求在url中传递的参数是有长度限制的，而post没有。</p> <p>get比post更不安全，因为参数直接暴露在url中，所以不能用来传递敏感信息。</p> <p>get请求只能进行url编码，而post支持多种编码方式</p> <p>get请求会浏览器主动cache，而post支持多种编码方式。</p> <p>get请求参数会被完整保留在浏览历史记录里，而post中的参数不会被保留。</p> <p>GET和POST本质上就是TCP链接，并无差别。但是由于HTTP的规定和浏览器/服务器的限制，导致他们在应用过程中体现出一些不同。</p> <p>GET产生一个TCP数据包；POST产生两个TCP数据包。</p></li> <li><h3 id="get请求传参长度的误区"><a href="#get请求传参长度的误区" aria-hidden="true" class="header-anchor">#</a> get请求传参长度的误区</h3> <p>实际上HTTP 协议从未规定 GET/POST 的请求长度限制是多少。对get请求参数的限制是来源与浏览器或web服务器，浏览器或web服务器限制了url的长度。为了明确这个概念，我们必须再次强调下面几点:</p> <p>HTTP 协议 未规定 GET 和POST的长度限制</p> <p>GET的最大长度显示是因为 浏览器和 web服务器限制了 URI的长度</p> <p>不同的浏览器和WEB服务器，限制的最大长度不一样</p> <p>要支持IE，则最大长度为2083byte，若只支持Chrome，则最大长度 8182byte</p></li> <li><p>计算机网络共四个阶段分为：</p> <p>第1阶段：20世纪60年代末到20世纪70年代初为计算机网络发展的萌芽阶段。</p> <p>第2阶段：20世纪70年代中后期是局域网络(LAN)发展的重要阶段</p> <p>第3阶段：整个20世纪80年代是计算机局域网络的发展时期。</p> <p>第4阶段：20世纪90年代初至现在是计算机网络飞速发展的阶段。</p></li> <li><p><strong>域名系统DNS</strong>(Domain Name System)是因特网使用的命名系统，用来把便于人们记忆的含有特定含义的主机名转换为便于机器处理的IP地址。DNS系统采用客户\服务器模型，其协议运行在UDP之上，使用53号端口。</p></li> <li><p><strong>URI</strong>（identifier）：统一资源标识符       <strong>URL</strong> （locator）：统一资源定位符</p></li></ul> <p><img src="/assets/img/1565196512596.3ea913ca.png" alt="1565196512596"></p> <ul><li><strong>网桥</strong>是干什么的：主要用于局域网的扩展，作用与数据链路层。可以将局域网划分为多个网段，网桥是数据链路层的</li></ul> <div class="tip custom-block"><p class="custom-block-title">网桥</p> <p>源路由网桥由源结点实现帧的路由选择功能</p> <p>而透明网桥是通过自学习的方式转发帧</p></div> <div class="tip custom-block"><p class="custom-block-title">位置</p> <p><strong>中继器</strong>(信号放大与整形)：物理层</p> <p><strong>集线器Hub</strong>(可以有多个端口，也是信号放大与整形)：物理层</p> <p><strong>交换机</strong>(在多端口之间同时转发多帧)：MAC层</p> <p><strong>网桥</strong>(MAC地址过滤与帧转发)：数据链路层(MAC层)</p> <p><strong>路由器</strong>(连接两个网络，对分组报文进行转发的设备)：网络层</p> <p><strong>网关</strong>(协议的转换与数据的转发)：网络层以上</p></div> <div class="tip custom-block"><p class="custom-block-title">协议端口</p> <p>80  http        用于万维网（WWW）服务的超文本传输协议（HTTP）</p> <p>21  ftp          文件传输协议（FTP）端口；有时被文件服务协议（FSP）使用(FTP服务器有两个端口，其中21端口用于控制连接，20端口用于传输数据)</p> <p>22  ssh        安全 Shell（SSH）服务</p> <p>23  telnet     Telnet 服务</p> <p>25  smtp      简单邮件传输协议（SMTP）</p></div> <ul><li><p>ICMP 报文作为数据字段封装在 IP 分组中，因此， IP 协议直接为 ICMP 提供服务。 UDP 和 TCP 都是传输层协议，为应用层提供服务。 PPP协议是链路层协议，为网络层提供服务。</p></li> <li><p>IP 分片发生在 <strong>IP 层</strong> ，不仅 <strong>源端主机</strong> 会进行分片，中间的 <strong>路由器</strong> 也有可能分片，因为不同的网络的 MTU 是不一样的，如果传输路径上的某个网络的 MTU 比源端网络的 MTU 要小，路由器就可能对 IP 数据报再次进行分片。而分片数据的 <strong>重组</strong> 只会发生在 <strong>目的端</strong> 的 IP 层。</p></li> <li><p>不同的端口号可以连接不同的服务端，端口号的长度为16为，2*16次方，所以最多为65535个。</p></li> <li><p>802.3以太网，采用CSMA/CD(载波监听多点接入/碰撞检测)；802.4令牌总线网；802.5令牌环网。</p></li> <li><p>PPP（Point-to-Point Protocol点到点协议）是为在 <strong>同等单元之间传输数据包这样的简单链路设计的链路层协议</strong> 。这种链路提供全双工操作，并按照顺序传递数据包。
<strong>PPP协议支持以下功能：</strong></p> <ul><li>IP地址的动态分配和管理</li> <li>同步或异步的物理层通信</li> <li>链路的配置、质量检测和纠错</li> <li>多种配置参数选项的协商</li></ul> <p><strong>PPP是目前使用最广泛的数据链路层协议，不管是低速的拨号猫连接还是高速的光纤链路，都适用PPP协议</strong> 。因特网用户通常都要连接到某个ISP 才能接入到因特网。 PPP协议就是用户计算机和ISP进行通信时所使用的数据链路层协议。 ISP使用PPP协议为计算机分配一些网络参数（如IP地址、域名等）。</p></li> <li><p>简单网络管理协议（ SNMP ）：属于<strong>应用层</strong></p></li> <li><p>RTSP（Real Time Streaming Protocol），实时流传输协议，是TCP/IP协议体系中的一个<strong>应用层</strong>协议</p></li> <li><p><strong>RIP</strong>是一种分布式的基于距离向量的路由选择协议，通过广播<strong>UDP</strong>报文来交换路由信息。</p></li> <li><p><strong>OSPF</strong>是一个内部网关协议，不使用传输协议，如UDP或TCP，而是直接用<strong>IP</strong>包封装它的数据。</p></li> <li><p><strong>BGP</strong>是一个外部网关协议，用<strong>TCP</strong>封装它的数据。</p></li> <li><p><strong>HDLC协议</strong>(高级数据链路控制)对比特串进行组帧时，HDLC数据帧以位值0111 1110 标识，每一个帧的开始和结束，</p> <p>因此，在帧数据中凡是出现连续五个1时，就在输出位流末尾加0</p></li></ul> <div class="tip custom-block"><p class="custom-block-title">零散的名词解释</p> <p>IPS 入侵防御系统</p> <p>UTM  安全网关</p> <p>IDS 入侵检测系统</p> <p>FDDI 光钎分布式接口(属于高速计算机网络技术)</p> <p>ATM 异步传输模式(属于高速计算机网络技术)</p></div> <p>https的SSL加密是在传输层实现的。</p> <h3 id="_301和302的区别"><a href="#_301和302的区别" aria-hidden="true" class="header-anchor">#</a> 301和302的区别</h3> <p>301 Moved Permanently 被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个URI之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。</p> <p>302 Found 请求的资源现在临时从不同的URI响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。</p> <p>字面上的区别就是301是永久重定向，而302是临时重定向。</p> <p>301比较常用的场景是使用域名跳转。302用来做临时跳转 比如未登陆的用户访问用户中心重定向到登录页面。</p> <h3 id="tcp和udp的区别"><a href="#tcp和udp的区别" aria-hidden="true" class="header-anchor">#</a> TCP和UDP的区别</h3> <p>（1）TCP是面向连接的，udp是无连接的即发送数据前不需要先建立链接。</p> <p>（2）TCP提供可靠的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即不保证可靠交付。 并且因为tcp可靠，面向连接，不会丢失数据因此适合大数据量的交换。</p> <p>（3）TCP是面向字节流，UDP面向报文，并且网络出现拥塞不会使得发送速率降低（因此会出现丢包，对实时的应用比如IP电话和视频会议等）。</p> <p>（4）TCP只能是1对1的，UDP支持1对1,1对多。</p> <p>（5）TCP的首部较大为20字节，而UDP只有8字节。</p> <p>（6）TCP是面向连接的可靠性传输，而UDP是不可靠的。</p> <p>以下内容来自：公众号 前端指南，作者 前端指南</p> <h3 id="http-响应常见状态码"><a href="#http-响应常见状态码" aria-hidden="true" class="header-anchor">#</a> http 响应常见状态码</h3> <ul><li>100-199 : 表示成功接收请求, 要求客户端继续提交下一次请求才能完成整个处理过程</li> <li>200-299: 表示成果接收请求并已完成整个处理过程. 常用 200</li> <li>300-399: 为完成请求, 客户需进一步细化需求: 例如: 请求的资源已经移动一个新地址, 常用 302(重定向), 307 和 304(拿缓存)</li> <li>400-499: 客户端的请求有错误, 包含语法错误或者不能正确执行. 常用 404(请求的资源在 web 服务器中没有) 403(服务器拒绝访问, 权限不够)</li> <li>500-599: 服务器端出现错误</li></ul> <p>常用：</p> <ul><li>100    Continue    继续。客户端应继续其请求</li> <li>101    Switching Protocols    切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议</li> <li><strong>200 正常，表示一切正常, 返回的是正常请求结果</strong></li> <li>201    Created    已创建。成功请求并创建了新的资源</li> <li>202    Accepted    已接受。已经接受请求，但未处理完成</li> <li>203    Non-Authoritative Information    非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本</li> <li><strong>204 请求处理成功，但无资源返回</strong></li> <li>205    Reset Content    重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域</li> <li><strong>206 对资源某一部分的请求</strong></li> <li>300    Multiple Choices    多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择</li> <li>301    Moved Permanently    永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替</li> <li><strong>302/307 临时重定向，指出请求的文档已被临时移动到别处, 此文档的新的 url 在 location 响应头中给出，307是不会使用GET来临时重定向，而303则会使用GET方法来临时重定向</strong></li> <li>303    See Other    查看其它地址。与301类似。使用GET和POST请求查看</li> <li><strong>304 未修改，表示客户机缓存的版本是最新的, 客户机应该继续使用它，资源已找到，但未符合条件请求</strong></li> <li>305    Use Proxy    使用代理。所请求的资源必须通过代理访问</li> <li><strong>400    Bad Request    客户端请求的语法错误，服务器无法理解</strong></li> <li><strong>401 需要HTTP认证</strong></li> <li><strong>403 禁止，服务器理解客户端请求, 但拒绝处理它, 通常用于服务器上文件或目录的权限设置所致</strong></li> <li><strong>404 找不到，服务器上不存在客户机所请求的资源</strong></li> <li><strong>405 不支持方法</strong></li> <li>406    Not Acceptable    服务器无法根据客户端请求的内容特性完成请求</li> <li><strong>500 服务器内部错误，服务器端的 cgi, asp, jsp 等程序发生错误</strong></li> <li>501    Not Implemented    服务器不支持请求的功能，无法完成请求</li> <li>502    Bad Gateway    作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应</li> <li><strong>503 服务器处于超负载或正在进行停机维护</strong></li> <li>504    Gateway Time-out    充当网关或代理的服务器，未及时从远端服务器获取请求</li> <li>505    HTTP Version not supported    服务器不支持请求的HTTP协议的版本，无法完成处理</li></ul> <h3 id="简述-http-1-1-与-http-1-0-的区别"><a href="#简述-http-1-1-与-http-1-0-的区别" aria-hidden="true" class="header-anchor">#</a> 简述 http 1.1 与 http 1.0 的区别</h3> <ul><li>http 1.0 对于每个连接都得建立一次连接, 一次只能传送一个请求和响应, 请求就会关闭, http1.0 没有 Host 字段</li> <li>而 http1.1 在同一个连接中可以传送多个请求和响应, 多个请求可以重叠和同时进行, http1.1 必须有 host 字段</li> <li>http1.1 中引入了 ETag 头, 它的值 entity tag 可以用来唯一的描述一个资源. 请求消息中可以使用 If-None-Match 头域来匹配资源的 entitytag 是否有变化</li> <li>http1.1 新增了 Cache-Control 头域(消息请求和响应请求都可以使用), 它支持一个可扩展的指令子集</li> <li>http1.0 中只定义了 16 个状态响应码, 对错误或警告的提示不够具体. http1.1 引入了一个 Warning 头域, 增加对错误或警告信息的描述. 且新增了 24 个状态响应码</li></ul> <h3 id="说一下-tcp-三次握手和四次挥手"><a href="#说一下-tcp-三次握手和四次挥手" aria-hidden="true" class="header-anchor">#</a> 说一下 TCP 三次握手和四次挥手</h3> <p>​        建立 TCP 连接需要三次握手,<strong>三次握手</strong>: 首先 Client 端发送连接请求报文，Server 段接受连接后回复 ACK 报文，并为这次连接分配资源。Client 端接收到 ACK 报文后也向 Server 段发生 ACK 报文，并分配资源，这样 TCP 连接就建立了。</p> <ul><li><ul><li>第一步: 客户机的 TCP 先向服务器的 TCP 发送一个连接请求报文. 这个特殊的报文中不含应用层数据, 其首部中的 SYN 标志位被置 1. 另外, 客户机会随机选择一个起始序号 seq=x(连接请求报文不携带数据,但要消耗掉一个序号)</li> <li>第二步: 服务器端的 TCP 收到连接请求报文后, 若同意建立连接, 就向客户机发送请求, 并为该 TCP 连接分配 TCP 缓存和变量. 在确认报文中,SYN 和 ACK 位都被置为 1, 确认号字段的值为 x+1, 并且服务器随机产生起始序号 seq=y(确认报文不携带数据, 但也要消耗掉一个序号). 确认报文同样不包含应用层数据.</li> <li>第三步: 当客户机收到确认报文后, 还要向服务器给出确认, 并且也要给该连接分配缓存和变量. 这个报文的 ACK 标志位被置为 1, 序号字段为 x+1, 确认号字段为 y+1</li></ul></li> <li><p><strong>四次挥手:</strong></p></li> <li><ul><li>第一步: 客户机打算关闭连接,就向其 TCP 发送一个连接释放报文,并停止再发送数据,主动关闭 TCP 连接, 该报文的 FIN 标志位被置 1, seq=u, 它等于前面已经传送过的数据的最后一个字节的序号加 1(FIN 报文即使不携带数据,也要消耗掉一个序号)</li> <li>第二步: 服务器接收连接释放报文后即发出确认, 确认号是 ack=u+1, 这个报文自己的序号是 v, 等于它前面已传送过的数据的最后一个自己的序号加 1. 此时, 从客户机到服务器这个方向的连接就释放了, TCP 连接处于半关闭状态. 但服务器若发送数据, 客户机仍要接收, 即从服务器到客户机的连接仍未关闭.</li> <li>第三步: 若服务器已经没有了要向客户机发送的数据, 就通知 TCP 释放连接, 此时其发出 FIN=1 的连接释放报文</li> <li>第四步: 客户机收到连接释放报文后, 必须发出确认. 在确认报文中, ACK 字段被置为 1, 确认号 ack=w+1, 序号 seq=u+1. 此时, TCP 连接还没有释放掉, 必须经过等待计时器设置的时间 2MSL 后, A 才进入到连接关闭状态.</li></ul> <h4 id="应用层"><a href="#应用层" aria-hidden="true" class="header-anchor">#</a> 应用层</h4></li> <li><p>应用层(application-layer）的任务是通过应用进程间的交互来完成特定网络应用。应用层协议定义的是应用进程（进程：主机中正在运行的程序）间的通信和交互的规则。对于不同的网络应用需要不同的应用层协议。在互联网中应用层协议很多，如域名系统 DNS，支持万维网应用的 HTTP 协议，支持电子邮件的 SMTP 协议等等。我们把应用层交互的数据单元称为报文。</p> <h3 id="域名系统"><a href="#域名系统" aria-hidden="true" class="header-anchor">#</a> 域名系统</h3></li> <li><ul><li>域名系统(Domain Name System 缩写 DNS，Domain Name 被译为域名)是因特网的一项核心服务，它作为可以将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便的访问互联网，而不用去记住能够被机器直接读取的 IP 数串。</li></ul> <h3 id="http-协议"><a href="#http-协议" aria-hidden="true" class="header-anchor">#</a> http 协议</h3></li> <li><ul><li>超文本传输协议（HTTP，HyperText Transfer Protocol)是互联网上应用最为广泛的一种网络协议。所有的 WWW（万维网） 文件都必须遵守这个标准。设计 HTTP 最初的目的是为了提供一种发布和接收 HTML 页面的方法。（百度百科）</li></ul> <h4 id="运输层"><a href="#运输层" aria-hidden="true" class="header-anchor">#</a> 运输层</h4></li> <li><p>运输层(transport layer)的主要任务就是负责向两台主机进程之间的通信提供通用的数据传输服务。应用进程利用该服务传送应用层报文。“通用的”是指并不针对某一个特定的网络应用，而是多种应用可以使用同一个运输层服务。由于一台主机可同时运行多个线程，因此运输层有复用和分用的功能。所谓复用就是指多个应用层进程可同时使用下面运输层的服务，分用和复用相反，是运输层把收到的信息分别交付上面应用层中的相应进程。</p></li></ul> <h3 id="运输层常用的两种协议tcp-udp"><a href="#运输层常用的两种协议tcp-udp" aria-hidden="true" class="header-anchor">#</a> 运输层常用的两种协议TCP UDP</h3> <ul><li>传输控制协议 TCP（Transmisson Control Protocol）--提供面向连接的，可靠的数据传输服务。</li> <li>用户数据协议 UDP（User Datagram Protocol）--提供无连接的，尽最大努力的数据传输服务（不保证数据传输的可靠性）。</li></ul> <h3 id="udp的主要特点"><a href="#udp的主要特点" aria-hidden="true" class="header-anchor">#</a> UDP的主要特点</h3> <ul><li>UDP 是无连接的；</li> <li>UDP 使用尽最大努力交付，即不保证可靠交付，因此主机不需要维持复杂的链接状态（这里面有许多参数）；</li> <li>UDP 是面向报文的；</li> <li>UDP 没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如 直播，实时视频会议等）；</li> <li>UDP 支持一对一、一对多、多对一和多对多的交互通信；</li> <li>UDP 的首部开销小，只有 8 个字节，比 TCP 的 20 个字节的首部要短。</li></ul> <h3 id="tcp的主要特点"><a href="#tcp的主要特点" aria-hidden="true" class="header-anchor">#</a> TCP的主要特点</h3> <ul><li>TCP 是面向连接的。（就好像打电话一样，通话前需要先拨号建立连接，通话结束后要挂机释放连接）；</li> <li>每一条 TCP 连接只能有两个端点，每一条 TCP 连接只能是点对点的（一对一）；</li> <li>TCP 提供可靠交付的服务。通过 TCP 连接传送的数据，无差错、不丢失、不重复、并且按序到达；</li> <li>TCP 提供全双工通信。TCP 允许通信双方的应用进程在任何时候都能发送数据。TCP 连接的两端都设有发送缓存和接收缓存，用来临时存放双方通信的数据；</li> <li>面向字节流。TCP 中的“流”（Stream）指的是流入进程或从进程流出的字节序列。“面向字节流”的含义是：虽然应用程序和 TCP 的交互是一次一个数据块（大小不等），但 TCP 把应用程序交下来的数据仅仅看成是一连串的无结构的字节流。</li></ul> <h4 id="网络层"><a href="#网络层" aria-hidden="true" class="header-anchor">#</a> 网络层</h4> <p>在 计算机网络中进行通信的两个计算机之间可能会经过很多个数据链路，也可能还要经过很多通信子网。网络层的任务就是选择合适的网间路由和交换结点， 确保数据及时传送。在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组和包进行传送。在 TCP/IP 体系结构中，由于网络层使用 IP 协议，因此分组也叫 IP 数据报 ，简称 数据报。</p> <p>这里要注意：不要把运输层的“用户数据报 UDP ”和网络层的“ IP 数据报”弄混。另外，无论是哪一层的数据单元，都可笼统地用“分组”来表示。</p> <p>这里强调指出，网络层中的“网络”二字已经不是我们通常谈到的具体网络，而是指计算机网络体系结构模型中第三层的名称.</p> <p>互联网是由大量的异构（heterogeneous）网络通过路由器（router）相互连接起来的。互联网使用的网络层协议是无连接的网际协议（Intert Prococol）和许多路由选择协议，因此互联网的网络层也叫做网际层或 IP 层。</p> <h4 id="数据链路层"><a href="#数据链路层" aria-hidden="true" class="header-anchor">#</a> 数据链路层</h4> <p>数据链路层(data link layer)通常简称为链路层。两台主机之间的数据传输，总是在一段一段的链路上传送的，这就需要使用专门的链路层的协议。在两个相邻节点之间传送数据时，数据链路层将网络层交下来的 IP 数据报组装程帧，在两个相邻节点间的链路上传送帧。每一帧包括数据和必要的控制信息（如同步信息，地址信息，差错控制等）。</p> <p>在接收数据时，控制信息使接收端能够知道一个帧从哪个比特开始和到哪个比特结束。这样，数据链路层在收到一个帧后，就可从中提出数据部分，上交给网络层。控制信息还使接收端能够检测到所收到的帧中有误差错。如果发现差错，数据链路层就简单地丢弃这个出了差错的帧，以避免继续在网络中传送下去白白浪费网络资源。如果需要改正数据在链路层传输时出现差错（这就是说，数据链路层不仅要检错，而且还要纠错），那么就要采用可靠性传输协议来纠正出现的差错。这种方法会使链路层的协议复杂些。</p> <h4 id="物理层"><a href="#物理层" aria-hidden="true" class="header-anchor">#</a> 物理层</h4> <p>在物理层上所传送的数据单位是比特。物理层(physical layer)的作用是实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异。使其上面的数据链路层不必考虑网络的具体传输介质是什么。“透明传送比特流”表示经实际电路传送后的比特流没有发生变化，对传送的比特流来说，这个电路好像是看不见的。</p> <p>在互联网使用的各种协中最重要和最著名的就是 TCP/IP 两个协议。现在人们经常提到的 TCP/IP 并不一定单指 TCP 和 IP 这两个具体的协议，而往往表示互联网所使用的整个 TCP/IP 协议族。</p> <p>上面我们对计算机网络的五层体系结构有了初步的了解，下面附送一张七层体系结构图总结一下</p> <p><img src="/assets/img/1111111111111.2af48800.png" alt="1111111111111.png"></p> <h3 id="http与https的区别（常考）"><a href="#http与https的区别（常考）" aria-hidden="true" class="header-anchor">#</a> HTTP与HTTPS的区别（常考）</h3> <ul><li>Http 协议运行在 TCP 之上，明文传输，客户端与服务器端都无法验证对方的身份；Https 是身披 SSL(Secure Socket Layer)外壳的 Http，运行于 SSL 上，SSL 运行于 TCP 之上，是添加了加密和认证机制的 HTTP。二者之间存在如下不同：</li> <li>端口不同：Http 与 Http 使用不同的连接方式，用的端口也不一样，前者是 80，后者是 443；</li> <li>资源消耗：和 HTTP 通信相比，Https 通信会由于加减密处理消耗更多的 CPU 和内存资源；</li> <li>开销：Https 通信需要证书，而证书一般需要向认证机构购买；</li> <li>Https 的加密机制是一种共享密钥加密和公开密钥加密并用的混合加密机制。</li></ul> <h3 id="对称加密与非对称加密"><a href="#对称加密与非对称加密" aria-hidden="true" class="header-anchor">#</a> 对称加密与非对称加密</h3> <ul><li>对称密钥加密是指加密和解密使用同一个密钥的方式，这种方式存在的最大问题就是密钥发送问题，即如何安全地将密钥发给对方；而非对称加密是指使用一对非对称密钥，即公钥和私钥，公钥可以随意发布，但私钥只有自己知道。发送密文的一方使用对方的公钥进行加密处理，对方接收到加密信息后，使用自己的私钥进行解密。</li> <li>由于非对称加密的方式不需要发送用来解密的私钥，所以可以保证安全性；但是和对称加密比起来，它非常的慢，所以我们还是要用对称加密来传送消息，但对称加密所使用的密钥我们可以通过非对称加密的方式发送出去。</li></ul> <h3 id="tcp-协议如何来保证传输的可靠性"><a href="#tcp-协议如何来保证传输的可靠性" aria-hidden="true" class="header-anchor">#</a> TCP 协议如何来保证传输的可靠性</h3> <p>TCP 提供一种面向连接的、可靠的字节流服务。其中，面向连接意味着两个使用 TCP 的应用（通常是一个客户和一个服务器）在彼此交换数据之前必须先建立一个 TCP 连接。在一个 TCP 连接中，仅有两方进行彼此通信；而字节流服务意味着两个应用程序通过 TCP 链接交换 8bit 字节构成的字节流，TCP 不在字节流中插入记录标识符。</p> <p>对于可靠性，TCP 通过以下方式进行保证：</p> <ul><li>数据包校验：目的是检测数据在传输过程中的任何变化，若校验出包有错，则丢弃报文段并且不给出响应，这时 TCP 发送数据端超时后会重发数据；</li> <li>对失序数据包重排序：既然 TCP 报文段作为 IP 数据报来传输，而 IP 数据报的到达可能会失序，因此 TCP 报文段的到达也可能会失序。TCP 将对失序数据进行重新排序，然后才交给应用层；</li> <li>丢弃重复数据：对于重复数据，能够丢弃重复数据；</li> <li>应答机制：当 TCP 收到发自 TCP 连接另一端的数据，它将发送一个确认。这个确认不是立即发送，通常将推迟几分之一秒；</li> <li>超时重发：当 TCP 发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段；</li> <li>流量控制：TCP 连接的每一方都有固定大小的缓冲空间。TCP 的接收端只允许另一端发送接收端缓冲区所能接纳的数据，这可以防止较快主机致使较慢主机的缓冲区溢出，这就是流量控制。TCP 使用的流量控制协议是可变大小的滑动窗口协议。</li></ul> <p>参考链接 计算机网络面试问题集锦</p> <h3 id="简述-查找域名对应的ip地址"><a href="#简述-查找域名对应的ip地址" aria-hidden="true" class="header-anchor">#</a> 简述 查找域名对应的IP地址</h3> <p>这一步包括 DNS 具体的查找过程，包括：浏览器缓存-&gt;系统缓存-&gt;路由器缓存...</p> <ul><li><p>浏览器搜索自己的 DNS 缓存（维护一张域名与 IP 地址的对应表）；</p></li> <li><p>搜索操作系统中的 DNS 缓存（维护一张域名与 IP 地址的对应表）；</p></li> <li><p>搜索操作系统的 hosts 文件（ Windows 环境下，维护一张域名与 IP 地址的对应表）；</p></li> <li><p>操作系统将域名发送至 LDNS（本地区域名服务器），LDNS 查询 自己的 DNS 缓存（一般查找成功率在 80% 左右），查找成功则返回结果，失败则发起一个迭代 DNS 解析请求：</p></li> <li><ul><li>LDNS 向 Root Name Server （根域名服务器，如 com、net、org 等的解析的顶级域名服务器的地址）发起请求，此处，Root Name Server 返回 com 域的顶级域名服务器的地址；</li> <li>LDNS 向 com 域的顶级域名服务器发起请求，返回 baidu.com 域名服务器地址；</li> <li>LDNS 向 baidu.com 域名服务器发起请求，得到 www.baidu.com 的 IP 地址；</li></ul></li> <li><p>LDNS 将得到的 IP 地址返回给操作系统，同时自己也将 IP 地址缓存起来；</p></li> <li><p>操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起来；</p></li></ul> <h3 id="从输入-url-到页面加载发生了什么-必考"><a href="#从输入-url-到页面加载发生了什么-必考" aria-hidden="true" class="header-anchor">#</a> 从输入 URL 到页面加载发生了什么[必考]</h3> <p>总体来说分为以下几个过程:</p> <ul><li>DNS 解析</li> <li>TCP 连接</li> <li>发送 HTTP 请求</li> <li>服务器处理请求并返回 HTTP 报文</li> <li>浏览器解析渲染页面</li> <li>连接结束</li></ul> <p>如果想了解更多，建议大家仔细查看我的这篇文章从输入 URL 到页面加载发生了什么</p> <h3 id="http的几种请求方法的用途"><a href="#http的几种请求方法的用途" aria-hidden="true" class="header-anchor">#</a> HTTP的几种请求方法的用途</h3> <ul><li>GET 方法：发送一个请求来取得服务器上的某一资源</li> <li>POST 方法：向 URL 指定的资源提交数据或附加新的数据</li> <li>PUT 方法：跟 POST 方法很像，也是想服务器提交数据。但是，它们之间有不同。PUT 指定了资源在服务器上的位置，而 POST 没有</li> <li>HEAD 方法：只请求页面的首部</li> <li>DELETE 方法：删除服务器上的某资源</li> <li>OPTIONS 方法：它用于获取当前 URL 所支持的方法。如果请求成功，会有一个 Allow 的头包含类似“GET,POST”这样的信息</li> <li>TRACE 方法：TRACE 方法被用于激发一个远程的，应用层的请求消息回路</li> <li>CONNECT 方法：把请求连接转换到透明的 TCP/IP 通道</li></ul> <h3 id="_127-0-0-1-与-192-168-0-1-有什么区别"><a href="#_127-0-0-1-与-192-168-0-1-有什么区别" aria-hidden="true" class="header-anchor">#</a> 127.0.0.1 与 192.168.0.1 有什么区别</h3> <p>首先明确二者没有区别！两个 IP 地址的角度不一样，127.0.0.1 是从 IETF（因特尔工程任务组）规定看，是保留给本机使用的 IP 地址，所有的计算机默认都是相同的。而 192.168.0.1 其实只是 IETF 在 c 类网址中，专门留出给专用网络用的一个网段中的一个 IP 而已，该网段包含了 192.168.0.1 到 192.168.255.255 中所有的 IP 地址。</p> <h3 id="五类-ip-地址的范围"><a href="#五类-ip-地址的范围" aria-hidden="true" class="header-anchor">#</a> 五类 ip 地址的范围</h3> <p>IP 地址分为 A,B,C,D,E 五类。</p> <p>网络号：用于识别主机所在的网络；主机号：用于识别该网络中的主机。</p> <p>其中 A 类分配给政府机关使用，B 类地址给大中型企业使用，C 类地址给个人使用。这三种是主要的。</p> <p>IP 地址分为五类，A 类保留给政府机构，B 类分配给中等规模的公司，C 类分配给任何需要的人，D 类用于组播，E 类用于实验，各类可容纳的地址数目不同。</p> <p>其中 A 类、B 类、和 C 类这三类地址用于 TCP/IP 节点，其它两类 D 类和 E 类被用于特殊用途。A、B、C 三类 IP 地址的特征：当将 IP 地址写成二进制形式时，A 类地址的第一位总是 O，B 类地址的前两位总是 10，C 类地址的前三位总是 110。</p> <p>A 类地址</p> <ul><li><p>A 类地址第 1 字节为网络地址，其它 3 个字节为主机地址。</p></li> <li><p>A 类地址范围：1.0.0.1—126.155.255.254</p></li> <li><p>A 类地址中的私有地址和保留地址：</p></li> <li><p>① 10.X.X.X 是私有地址（所谓的私有地址就是在互联网上不使用，而被用在局域网络中的地址）。</p> <p>② 127.X.X.X 是保留地址，用做循环测试用的。</p></li></ul> <p>B 类地址</p> <ul><li><p>B 类地址第 1 字节和第 2 字节为网络地址，其它 2 个字节为主机地址。</p></li> <li><p>B 类地址范围：128.0.0.1—191.255.255.254。</p></li> <li><p>B 类地址的私有地址和保留地址</p></li> <li><p>① 172.16.0.0—172.31.255.255 是私有地址</p> <p>② 169.254.X.X 是保留地址。如果你的 IP 地址是自动获取 IP 地址，而你在网络上又没有找到可用的 DHCP 服务器。就会得到其中一个 IP。</p></li></ul> <p>C 类地址</p> <ul><li><p>C 类地址第 1 字节、第 2 字节和第 3 个字节为网络地址，第 4 个个字节为主机地址。另外第 1 个字节的前三位固定为 110。</p></li> <li><p>C 类地址范围：192.0.0.1—223.255.255.254。</p></li> <li><p>C 类地址中的私有地址：</p></li> <li><p>192.168.X.X 是私有地址。</p></li></ul> <p>D 类地址</p> <ul><li>D 类地址不分网络地址和主机地址，它的第 1 个字节的前四位固定为 1110。</li> <li>D 类地址范围：224.0.0.1—239.255.255.254</li></ul> <p>E 类地址</p> <ul><li>E 类地址也不分网络地址和主机地址，它的第 1 个字节的前五位固定为 11110。</li> <li>E 类地址范围：240.0.0.1—255.255.255.254</li></ul> <h3 id="http-长连接、短连接"><a href="#http-长连接、短连接" aria-hidden="true" class="header-anchor">#</a> HTTP 长连接、短连接</h3> <p>在 HTTP/1.0 中默认使用短连接。也就是说，客户端和服务器每进行一次 HTTP 操作，就建立一次连接，任务结束就中断连接。当客户端浏览器访问的某个 HTML 或其他类型的 Web 页中包含有其他的 Web 资源（如 JavaScript 文件、图像文件、CSS 文件等），每遇到这样一个 Web 资源，浏览器就会重新建立一个 HTTP 会话。</p> <p>而从 HTTP/1.1 起，默认使用长连接，用以保持连接特性。使用长连接的 HTTP 协议，会在响应头加入这行代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Connection<span class="token punctuation">:</span>keep<span class="token operator">-</span>alive
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输 HTTP 数据的 TCP 连接不会关闭，客户端再次访问这个服务器时，会继续使用这一条已经建立的连接。Keep-Alive 不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如 Apache）中设定这个时间。实现长连接需要客户端和服务端都支持长连接。</p> <p>HTTP 协议的长连接和短连接，实质上是 TCP 协议的长连接和短连接。</p> <p>HTTP 长连接、短连接究竟是什么？</p> <h3 id="如何理解-http-协议是无状态的【常考】"><a href="#如何理解-http-协议是无状态的【常考】" aria-hidden="true" class="header-anchor">#</a> 如何理解 HTTP 协议是无状态的【常考】</h3> <p>HTTP 协议是无状态的，指的是协议对于事务处理没有记忆能力，服务器不知道客户端是什么状态。也就是说，打开一个服务器上的网页和上一次打开这个服务器上的网页之间没有任何联系。HTTP 是一个无状态的面向连接的协议，无状态不代表 HTTP 不能保持 TCP 连接，更不能代表 HTTP 使用的是 UDP 协议（无连接）。</p> <h3 id="各种协议与-http-协议之间的关系"><a href="#各种协议与-http-协议之间的关系" aria-hidden="true" class="header-anchor">#</a> 各种协议与 HTTP 协议之间的关系</h3> <p>一般面试官会通过这样的问题来考察你对计算机网络知识体系的理解。</p> <p><img src="/assets/img/1566045271873.e42a0cba.png" alt="1566045271873"></p> <h3 id="socket-连接与-http-连接的联系与区别"><a href="#socket-连接与-http-连接的联系与区别" aria-hidden="true" class="header-anchor">#</a> Socket 连接与 HTTP 连接的联系与区别</h3> <p>由于通常情况下 Socket 连接就是 TCP 连接，因此 Socket 连接一旦建立，通信双方即可开始相互发送数据内容，直到双方连接断开。但在实际网络应用中，客户端到服务器之间的通信往往需要穿越多个中间节点，例如路由器、网关、防火墙等，大部分防火墙默认会关闭长时间处于非活跃状态的连接而导致 Socket 连接断连，因此需要通过轮询告诉网络，该连接处于活跃状态。</p> <p>而 HTTP 连接使用的是“请求—响应”的方式，不仅在请求时需要先建立连接，而且需要客户端向服务器发出请求后，服务器端才能回复数据。</p> <p>很多情况下，需要服务器端主动向客户端推送数据，保持客户端与服务器数据的实时与同步。此时若双方建立的是 Socket 连接，服务器就可以直接将数据传送给客户端;若双方建立的是 HTTP 连接，则服务器需要等到客户端发送一次请求后才能将数据传回给客户端，因此，客户端定时向服务器端发送连接请求，不仅可以保持在线，同时也是在“询问”服务器是否有新的数据，如果有就将数据传给客户端。</p> <h3 id="http-报文大小限制"><a href="#http-报文大小限制" aria-hidden="true" class="header-anchor">#</a> http 报文大小限制</h3> <p>如前所述，一个 HTTP 报文包含起始行，头域和消息体，HTTP 协议本身并没有对报文中任一部分的长度做限制，也就是说，理论上一个请求 URI 可以无限长，头域可以无限多，请求体可以无限大。但在实际场景下，请求 URI 的长度会受到浏览器的限制，如果在浏览器中输入过长的 URL，那么浏览器会自动进行截断。而服务器出于安全性和效率的考虑，也会对头域和消息体的大小作出一定的限制。</p> <h3 id="http-tcp-报文结构（必考）"><a href="#http-tcp-报文结构（必考）" aria-hidden="true" class="header-anchor">#</a> http(tcp) 报文结构（必考）</h3> <p>例如一个 100kb 的 HTML 文档需要传送到另外一台计算机，并不会整个文档直接传送过去，可能会切割成几个部分，比如四个分别为 25kb 的数据段。而每个数据段再加上一个 TCP 首部，就组成了 TCP 报文。TCP 报文 (Segment)，包括首部和数据部分。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAApIAAACUCAYAAAAgTslSAAAgAElEQVR4nO3de3BU9f038Pc5Z8/ec9lcIDeSJYEACYRbEAENCBYVq53alrEdKzq2T8cZZ9oZO+3YaYdn+numnWltnz/8w7Z/2N/P6XQU26dFtMqIiqJAuBgIuXGHbAjknk022du5PH+s5+tuSBSOGIK+Xw5jkr2dDeznvM/3KpmmaYKIiIiI6DrJN/sAiIiIiOjWxCBJRERERLYwSBIRERGRLQySRERERGQLgyQRERER2cIgSURERES2MEgSERERkS0MkkRERERkC4MkEREREdnCIElEREREtjBIEhEREZEtDJJEREREZAuDJBERERHZwiBJRERERLYwSBIRERGRLQySRERERGQLgyQRERER2cIgSURERES2MEgSERERkS0MkkRERERkC4MkEREREdnCIElEREREtjBIEhEREZEtDJJEREREZAuDJBERERHZwiBJRERERLYwSBIRERGRLQySRERERGSLY7peqLe3F0eOHMHo6ChM05yulyUiIiL60pBlGbm5uVixYgUKCgpu9uFMX5C8ePEinn/+efT29kLTNEiSBACQJInBkr5w/HdGRES3KsMwAKTOZU6nE2VlZXjmmWe+WkEyFovh8uXLME0TDocDiqJAlmXIsgzDMGyf5K1ASpTONE0kEgnoug6n0wmn0wnDMMSHkYiI6FZgmiaSySQMw4Asp0Yknj9/HpFI5CYfWcq0BUmLaZr46U9/ivr6egCpIPh5Tu4MkjSZwcFBPP300xgZGcE3v/lNbN269WYfEhERkS1WY9vRo0fxu9/9bkb1sE17kJQkCbNnz0YwGBTff55fCIMkTcbv98PpdEKSJAQCAQSDQf5bISKiW5LV4Hbp0qUZdy6b9iApy/LVv4TPEazNz/Ng+lJzOByiG8C6YJlJV3FERESfJf08Zv2ZSW5Ki2T6/z/t5P5ZIVHCzPpl0sxhmqb48KX/jGMkiYjoVmFlpYnns5nkpoyRTA+Phm5AcSiT3u9aguJMS+Y0M0iSJAYnW//WrMldREREdGNM+1mV3Ys0nfhvjYiIvmxm0rmNzTNEREREt4iZFCIBBkkiIiIismlGBMmZlq6JiIiI6LNN+2SbqTBMEhEREd1aZkSLJBERERHdehgkiYiIiMgWBkkiIiIisoVBkoiIiIhs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" alt="1566045451733"></p> <p>首部：</p> <ul><li>源端口 source port</li> <li>目的端口 destination port</li> <li>序号 sequence number</li> <li>确认号 acknowledgment number</li> <li>数据偏移 offset</li> <li>保留 reserved</li> <li>标志位 tcp flags</li> <li>窗口大小 window size</li> <li>检验和 checksum</li> <li>紧急指针 urgent pointer</li> <li>选项 tcp options</li></ul> <h3 id="http-的缓存机制-常考"><a href="#http-的缓存机制-常考" aria-hidden="true" class="header-anchor">#</a> HTTP 的缓存机制(常考)</h3> <p>Http 的缓存主要利用 header 里的两个字段来控制：</p> <ul><li><p><code>Cache-control</code>主要包含以及几个字段：</p></li> <li><ul><li>private:则只有客户端可以缓存</li> <li>public:客户端和代理服务器都可以缓存</li> <li>max-age:缓存的过期时间</li> <li>no-cache:需要使用对比缓存来验证缓存数据</li> <li>no-store:所有内存都不会进行缓存</li></ul></li> <li><p><code>ETag</code>:即用来进行对比缓存，Etag 是服务端资源的一个标识码</p></li> <li><ul><li>当客户端发送第一次请求时服务端会下发当前请求资源的标识码 Etag，下次再请求时，客户端则会通过 header 里的 If-None-Match 将这个标识码 Etag 带上，服务端将客户端传来的 Etag 与最新的资源 Etag 做对比，如果一样，则表示资源没有更新，返回 304。</li></ul></li></ul> <p>通过 Cache-control 和 Etag 的配合来实现 Http 的缓存机制。</p> <h3 id="cookie"><a href="#cookie" aria-hidden="true" class="header-anchor">#</a> Cookie</h3> <p>Cookie 就是用来在本地缓存记住一些状态的，一个 Cookie 一般都包含 domin(所属域)、path、Expires(过期时间)等几个属性。服务端可以通过在响应头里的 set-cookies 来将状态写入客户端的 Cookie 里。下次客户端发起请求时可以将 Co</p> <h3 id="http2-0-与-http1-x-相比有什么优点-常考"><a href="#http2-0-与-http1-x-相比有什么优点-常考" aria-hidden="true" class="header-anchor">#</a> Http2.0 与 http1.x 相比有什么优点(常考)</h3> <ul><li><p>二进制格式:http1.x 是文本协议，而 http2.0 是二进制以帧为基本单位，是一个二进制协议，一帧中除了包含数据外同时还包含该帧的标识：Stream Identifier，即标识了该帧属于哪个 request,使得网络传输变得十分灵活。</p></li> <li><p>多路复用: 一个很大的改进，原先 http1.x 一个连接一个请求的情况有比较大的局限性，也引发了很多问题，如建立多个连接的消耗以及效率问题。</p></li> <li><ul><li>http1.x 为了解决效率问题，可能会尽量多的发起并发的请求去加载资源，然而浏览器对于同一域名下的并发请求有限制，而优化的手段一般是将请求的资源放到不同的域名下来突破这种限制。</li> <li>而 http2.0 支持的多路复用可以很好的解决这个问题，多个请求共用一个 TCP 连接，多个请求可以同时在这个 TCP 连接上并发，一个是解决了建立多个 TCP 连接的消耗问题，一个也解决了效率的问题。那么是什么原理支撑多个请求可以在一个 TCP 连接上并发呢？基本原理就是上面的二进制分帧，因为每一帧都有一个身份标识，所以多个请求的不同帧可以并发的无序发送出去，在服务端会根据每一帧的身份标识，将其整理到对应的 request 中。</li></ul></li> <li><p>header 头部压缩:主要是通过压缩 header 来减少请求的大小，减少流量消耗，提高效率。因为之前存在一个问题是，每次请求都要带上 header，而这个 header 中的数据通常是一层不变的。</p></li> <li><p>支持服务端推送</p></li></ul> <h3 id="流量控制"><a href="#流量控制" aria-hidden="true" class="header-anchor">#</a> 流量控制</h3> <p>流量控制是对一条通信路径上的流量进行控制，就是发送方通过获取接收方的回馈来动态调整发送的速率，来达到控制流量的效果，其目的是保证发送者的发送速度不超过接收者的接收速度。</p> <h3 id="拥塞控制"><a href="#拥塞控制" aria-hidden="true" class="header-anchor">#</a> 拥塞控制</h3> <p>拥塞控制是对整个通信子网的流量进行控制，属于全局控制。</p> <ol><li>慢开始+拥塞避免 先来看一张经典的图：</li></ol> <p><img src="/assets/img/1566030455561.9782bde8.png" alt="1566030455561"></p> <ol><li>一开始使用慢启动，即拥塞窗口设为 1，然后拥塞窗口指数增长到慢开始的门限值(ssthresh=16),则切换为拥塞避免,即加法增长，这样增长到一定程度，导致网络拥塞，则此时会把拥塞窗口重新降为 1，即重新慢开始，同时调整新的慢开始门限值为 12，之后以此类推。</li> <li>快重传+快恢复</li></ol> <ul><li>快重传:上面我们说的重传机制都是等到超时还未收到接收方的回复，才开始进行重传。而快重传的设计思路是：如果发送方收到 3 个重复的接收方的 ACK，就可以判断有报文段丢失，此时就可以立即重传丢失的报文段，而不用等到设置的超时时间到了才开始重传，提高了重传的效率。</li> <li>快恢复：上面的拥塞控制会在网络拥塞时将拥塞窗口降为 1，重新慢开始，这样存在的一个问题就是网络无法很快恢复到正常状态。快恢复就是来优化这个问题的，使用快恢复，则出现拥塞时，拥塞窗口只会降低到新的慢开始门阀值（即 12），而不会降为 1，然后直接开始进入拥塞避免加法增长，如下图所示：</li></ul> <p><img src="/assets/img/1566030468639.cbf7db74.png" alt="1566030468639"></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.4f18c788.js" defer></script><script src="/assets/js/22.7d83c6c2.js" defer></script>
  </body>
</html>
